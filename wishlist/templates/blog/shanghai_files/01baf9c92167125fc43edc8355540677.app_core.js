PLOVR_MODULE_INFO={"sign":["app_core"],"app":["app_core","sign"],"app_core":[],"rich_text_editor":["app"]};
PLOVR_MODULE_URIS={"sign":"http://static.zhihu.com/static/compiled/sign.js","app":"http://static.zhihu.com/static/compiled/app.js","app_core":"http://static.zhihu.com/static/compiled/app_core.js","rich_text_editor":"http://static.zhihu.com/static/compiled/rich_text_editor.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
zhihu={};(function(a){with(a){
a.f=function(b){throw b;},a.i=void 0,a.j=!0,a.k=null,a.n=!1,a.aa=function(){return function(b){return b}},a.ba=function(){return function(){}},a.ca=function(b){return function(c){this[b]=c}},a.q=function(b){return function(){return this[b]}},a.s=function(b){return function(){return b}},a.t=void 0,a.da=[],a.u=function(b){return function(){return da[b].apply(this,arguments)}},a.ea=a.ea||{},a.fa=this,a.ga=function(b){for(var b=b.split("."),c=fa,d;d=b.shift();)if(c[d]!=k)c=c[d];else return k;return c},
a.ha=function(){},a.ia=function(b){b.U=function(){return b.Lj?b.Lj:b.Lj=new b}},a.ka=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&
"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},a.la=function(b){return b!==i},a.ma=function(b){return"array"==ka(b)},a.na=function(b){var c=ka(b);return"array"==c||"object"==c&&"number"==typeof b.length},a.oa=function(b){return"string"==typeof b},a.pa=function(b){return"number"==typeof b},a.qa=function(b){return"function"==ka(b)},a.ra=function(b){var c=typeof b;
return"object"==c&&b!=k||"function"==c},a.ua=function(b){return b[sa]||(b[sa]=++ta)},a.sa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),a.ta=0,a.va=function(b,c,d){return b.call.apply(b.bind,arguments)},a.wa=function(b,c,d){b||f(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},a.v=function(b,
c,d){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return v.apply(k,arguments)},a.xa=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}},a.ya=function(b,c){for(var d in c)b[d]=c[d]},a.za=Date.now||function(){return+new Date},a.Ba=function(b){if(fa.execScript)fa.execScript(b,"JavaScript");else if(fa.eval)if(Aa==k&&(fa.eval("var _et_ = 1;"),
"undefined"!=typeof fa._et_?(delete fa._et_,Aa=j):Aa=n),Aa)fa.eval(b);else{var c=fa.document,d=c.createElement("script");d.type="text/javascript";d.defer=n;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else f(Error("goog.globalEval not available"))},a.Aa=k,a.x=function(b,c){var d=c||{},e;for(e in d)var g=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),g);return b},a.Ca=function(b,c){var d=b.split("."),e=fa;!(d[0]in e)&&e.execScript&&e.execScript("var "+
d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&la(c)?e[g]=c:e=e[g]?e[g]:e[g]={}},a.y=function(b,c){function d(){}d.prototype=c.prototype;b.n=c.prototype;b.prototype=new d;b.prototype.constructor=b};a.Da=function(b){Error.captureStackTrace?Error.captureStackTrace(this,Da):this.stack=Error().stack||"";b&&(this.message=String(b))};y(Da,Error);Da.prototype.name="CustomError";a.Ea=function(b,c){return 0==b.lastIndexOf(c,0)},a.Fa=function(b,c){var d=b.length-c.length;return 0<=d&&b.indexOf(c,d)==d},a.Ga=function(b,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b},a.Ha=function(b){return/^[\s\xa0]*$/.test(b)},a.Ia=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")},a.Ja=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")},a.Ka=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,
"")},a.La=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},a.Ma=function(b){return b.replace(/[\s\xa0]+$/,"")},a.Na=function(b){return b.replace(/(\r\n|\r|\n)/g,"<br>")},a.Wa=function(b){if(!Pa.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Ra,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Sa,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(Ta,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Ua,"&quot;"));return b},a.Ra=/&/g,a.Sa=/</g,a.Ta=/>/g,a.Ua=/\"/g,a.Pa=/[&<>\"]/,a.Za=function(b){if(Xa(b,"&"))if("document"in
fa)var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=document.createElement("div"),b=b.replace(Ya,function(b,g){var h=c[b];if(h)return h;if("#"==g.charAt(0)){var l=Number("0"+g.substr(1));isNaN(l)||(h=String.fromCharCode(l))}h||(d.innerHTML=b+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[b]=h});else b=b.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));
if(!isNaN(d))return String.fromCharCode(d)}return b}});return b},a.Ya=/&([^;\s<&]+);?/g,a.Xa=function(b,c){return-1!=b.indexOf(c)},a.$a=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.ab=function(b,c){return Array(c+1).join(b)},a.bb=function(b){var b=la(i)?b.toFixed(i):String(b),c=b.indexOf(".");-1==c&&(c=b.length);return ab("0",Math.max(0,2-c))+b},a.cb=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*
Math.random())^za()).toString(36)},a.db=function(b,c){for(var d=0,e=La(String(b)).split("."),g=La(String(c)).split("."),h=Math.max(e.length,g.length),l=0;0==d&&l<h;l++){var m=e[l]||"",p=g[l]||"",r=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var B=r.exec(m)||["","",""],H=w.exec(p)||["","",""];if(0==B[0].length&&0==H[0].length)break;d=((0==B[1].length?0:parseInt(B[1],10))<(0==H[1].length?0:parseInt(H[1],10))?-1:(0==B[1].length?0:parseInt(B[1],10))>(0==H[1].length?0:parseInt(H[1],10))?
1:0)||((0==B[2].length)<(0==H[2].length)?-1:(0==B[2].length)>(0==H[2].length)?1:0)||(B[2]<H[2]?-1:B[2]>H[2]?1:0)}while(0==d)}return d},a.eb=2147483648*Math.random()|0,a.fb=function(){return"goog_"+eb++},a.gb=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};a.z={Ve:function(b){return b[b.length-1]}};z.xb=Array.prototype;z.indexOf=z.xb.indexOf?function(b,c,d){return z.xb.indexOf.call(b,c,d)}:function(b,c,d){d=d==k?0:0>d?Math.max(0,b.length+d):d;if(oa(b))return!oa(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
z.lastIndexOf=z.xb.lastIndexOf?function(b,c,d){return z.xb.lastIndexOf.call(b,c,d==k?b.length-1:d)}:function(b,c,d){d=d==k?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(oa(b))return!oa(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};z.forEach=z.xb.forEach?function(b,c,d){z.xb.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)h in g&&c.call(d,g[h],h,b)};
z.IN=function(b,c){for(var d=oa(b)?b.split(""):b,e=b.length-1;0<=e;--e)e in d&&c.call(i,d[e],e,b)};z.filter=z.xb.filter?function(b,c,d){return z.xb.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=[],h=0,l=oa(b)?b.split(""):b,m=0;m<e;m++)if(m in l){var p=l[m];c.call(d,p,m,b)&&(g[h++]=p)}return g};z.map=z.xb.map?function(b,c,d){return z.xb.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=Array(e),h=oa(b)?b.split(""):b,l=0;l<e;l++)l in h&&(g[l]=c.call(d,h[l],l,b));return g};
z.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(v(c,e),d):b.reduce(c,d);var g=d;z.forEach(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(v(c,e),d):b.reduceRight(c,d);var g=d;z.IN(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.some=z.xb.some?function(b,c,d){return z.xb.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return j;return n};
z.every=z.xb.every?function(b,c,d){return z.xb.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&!c.call(d,g[h],h,b))return n;return j};z.count=function(b,c,d){var e=0;z.forEach(b,function(b,h,l){c.call(d,b,h,l)&&++e},d);return e};z.find=function(b,c,d){c=z.Fw(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Fw=function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return h;return-1};
z.AZ=function(b,c,d){c=z.Gw(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Gw=function(b,c,d){for(var e=oa(b)?b.split(""):b,g=b.length-1;0<=g;g--)if(g in e&&c.call(d,e[g],g,b))return g;return-1};z.contains=function(b,c){return 0<=z.indexOf(b,c)};z.Jb=function(b){return 0==b.length};z.clear=function(b){if(!ma(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};z.us=function(b,c){z.contains(b,c)||b.push(c)};z.wo=function(b,c,d){z.splice(b,d,0,c)};
z.VZ=function(b,c,d){xa(z.splice,b,d,0).apply(k,c)};z.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=z.indexOf(b,d))?b.push(c):z.wo(b,c,e)};z.remove=function(b,c){var d=z.indexOf(b,c),e;(e=0<=d)&&z.Uz(b,d);return e};z.Uz=function(b,c){return 1==z.xb.splice.call(b,c,1).length};z.KT=function(b,c){var d=z.Fw(b,c,i);return 0<=d?(z.Uz(b,d),j):n};z.concat=function(b){return z.xb.concat.apply(z.xb,arguments)};
z.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};z.clone=z.toArray;z.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;if(ma(e)||(g=na(e))&&Object.prototype.hasOwnProperty.call(e,"callee"))b.push.apply(b,e);else if(g)for(var h=b.length,l=e.length,m=0;m<l;m++)b[h+m]=e[m];else b.push(e)}};z.splice=function(b,c,d,e){return z.xb.splice.apply(b,z.slice(arguments,1))};
z.slice=function(b,c,d){return 2>=arguments.length?z.xb.slice.call(b,c):z.xb.slice.call(b,c,d)};z.lp=function(b,c){for(var d=c||b,e={},g=0,h=0;h<b.length;){var l=b[h++],m=ra(l)?"o"+ua(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(e,m)||(e[m]=j,d[g++]=l)}d.length=g};z.IC=function(b,c,d){return z.JC(b,d||z.fj,n,c)};z.UY=function(b,c,d){return z.JC(b,c,j,i,d)};
z.JC=function(b,c,d,e,g){for(var h=0,l=b.length,m;h<l;){var p=h+l>>1,r;r=d?c.call(g,b[p],p,b):c(e,b[p]);0<r?h=p+1:(l=p,m=!r)}return m?h:~h};z.sort=function(b,c){z.xb.sort.call(b,c||z.fj)};z.U_=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||z.fj;z.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};z.S_=function(b,c,d){var e=d||z.fj;z.sort(b,function(b,d){return e(b[c],d[c])})};
z.b_=function(b,c,d){for(var c=c||z.fj,e=1;e<b.length;e++){var g=c(b[e-1],b[e]);if(0<g||0==g&&d)return n}return j};z.Zf=function(b,c,d){if(!na(b)||!na(c)||b.length!=c.length)return n;for(var e=b.length,d=d||z.XM,g=0;g<e;g++)if(!d(b[g],c[g]))return n;return j};z.hZ=function(b,c,d){return z.Zf(b,c,d)};z.iZ=function(b,c,d){for(var d=d||z.fj,e=Math.min(b.length,c.length),g=0;g<e;g++){var h=d(b[g],c[g]);if(0!=h)return h}return z.fj(b.length,c.length)};z.fj=function(b,c){return b>c?1:b<c?-1:0};
z.XM=function(b,c){return b===c};z.SY=function(b,c,d){d=z.IC(b,c,d);return 0>d?(z.wo(b,c,-(d+1)),j):n};z.TY=function(b,c,d){c=z.IC(b,c,d);return 0<=c?z.Uz(b,c):n};z.aZ=function(b,c){for(var d={},e=0;e<b.length;e++){var g=b[e],h=c(g,e,b);la(h)&&(d[h]||(d[h]=[])).push(g)}return d};z.mu=function(b,c,d){var e={};z.forEach(b,function(g,h){e[c.call(d,g,h,b)]=g});return e};z.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};
z.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];ma(e)?c.push.apply(c,z.flatten.apply(k,e)):c.push(e)}return c};z.rotate=function(b,c){b.length&&(c%=b.length,0<c?z.xb.unshift.apply(b,b.splice(-c,c)):0>c&&z.xb.push.apply(b,b.splice(0,-c)));return b};z.k0=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],g=0;g<arguments.length;g++){var h=arguments[g];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};
z.QU=function(b){for(var c=Math.random,d=b.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),g=b[d];b[d]=b[e];b[e]=g}};a.hb=void 0,a.ib=void 0,a.jb=void 0,a.kb=void 0,a.lb=void 0,a.mb=void 0,a.nb=void 0,a.ob=void 0,a.pb=function(){return fa.navigator?fa.navigator.userAgent:k},a.qb=function(){return fa.navigator};lb=kb=jb=ib=hb=n;a.rb=void 0;if(rb=pb()){var sb=qb();hb=0==rb.indexOf("Opera");ib=!hb&&-1!=rb.indexOf("MSIE");kb=(jb=!hb&&-1!=rb.indexOf("WebKit"))&&-1!=rb.indexOf("Mobile");lb=!hb&&!jb&&"Gecko"==sb.product}a.tb=hb,a.A=ib,a.C=lb,a.D=jb,a.ub=kb,a.vb=void 0,a.wb=qb();vb=wb&&wb.platform||"";mb=Xa(vb,"Mac");
nb=Xa(vb,"Win");ob=Xa(vb,"Linux");a.xb=!!qb()&&Xa(qb().appVersion||"","X11"),a.yb=function(){var b=fa.document;return b?b.documentMode:i},a.zb=void 0;a:{var Ab="",Bb;if(tb&&fa.opera)var Cb=fa.opera.version,Ab="function"==typeof Cb?Cb():Cb;else if(C?Bb=/rv\:([^\);]+)(\)|;)/:A?Bb=/MSIE\s+([^\);]+)(\)|;)/:D&&(Bb=/WebKit\/(\S+)/),Bb)var Db=Bb.exec(pb()),Ab=Db?Db[1]:"";if(A){var Eb=yb();if(Eb>parseFloat(Ab)){zb=String(Eb);break a}}zb=Ab}
a.Fb={},a.Gb=function(b){return Fb[b]||(Fb[b]=0<=db(zb,b))},a.Ib=function(b){return A&&Hb>=b},a.Jb=fa.document,a.Hb=!Jb||!A?i:yb()||("CSS1Compat"==Jb.compatMode?parseInt(zb,10):5);a.Kb=void 0,a.Lb=!A||Ib(9),a.Mb=!C&&!A||A&&Ib(9)||C&&Gb("1.9.1"),a.Nb=A&&!Gb("9");a.E={set:function(b,c){b.className=c},get:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},add:function(b,c){var d=E.get(b),e=z.slice(arguments,1),g=d.length+e.length;E.iC(d,e);b.className=d.join(" ");return d.length==g},remove:function(b,c){var d=E.get(b),e=z.slice(arguments,1),g=E.BE(d,e);b.className=g.join(" ");return g.length==d.length-e.length},iC:function(b,c){for(var d=0;d<c.length;d++)z.contains(b,c[d])||b.push(c[d])},BE:function(b,c){return z.filter(b,function(b){return!z.contains(c,
b)})},WI:function(b,c,d){for(var e=E.get(b),g=n,h=0;h<e.length;h++)e[h]==c&&(z.splice(e,h--,1),g=j);g&&(e.push(d),b.className=e.join(" "));return g},Nh:function(b,c,d){var e=E.get(b);oa(c)?z.remove(e,c):ma(c)&&(e=E.BE(e,c));oa(d)&&!z.contains(e,d)?e.push(d):ma(d)&&E.iC(e,d);b.className=e.join(" ")},has:function(b,c){return z.contains(E.get(b),c)},enable:function(b,c,d){d?E.add(b,c):E.remove(b,c)},toggle:function(b,c){var d=!E.has(b,c);E.enable(b,c,d);return d}};a.Ob=function(b,c,d){return Math.min(Math.max(b,c),d)};a.Pb=function(b,c){this.x=la(b)?b:0;this.y=la(c)?c:0};Pb.prototype.clone=function(){return new Pb(this.x,this.y)};a.Qb=function(b,c){return new Pb(b.x-c.x,b.y-c.y)};a.Rb=function(b,c){this.width=b;this.height=c},a.Sb=function(b,c){return b==c?j:!b||!c?n:b.width==c.width&&b.height==c.height};t=Rb.prototype;t.clone=function(){return new Rb(this.width,this.height)};t.Jb=function(){return!(this.width*this.height)};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.F={forEach:function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},filter:function(b,c,d){var e={},g;for(g in b)c.call(d,b[g],g,b)&&(e[g]=b[g]);return e},map:function(b,c,d){var e={},g;for(g in b)e[g]=c.call(d,b[g],g,b);return e},some:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return j;return n},every:function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return n;return j},bb:function(b){var c=0,d;for(d in b)c++;return c},HZ:function(b){for(var c in b)return c},IZ:function(b){for(var c in b)return b[c]},
contains:function(b,c){return F.Ng(b,c)},La:function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c},Hb:function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c},NZ:function(b,c){for(var d=na(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!la(b));d++);return b},Ud:function(b,c){return c in b},Ng:function(b,c){for(var d in b)if(b[d]==c)return j;return n},lE:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e},Jr:function(b,c,d){return(c=F.lE(b,c,d))&&b[c]},Jb:function(b){for(var c in b)return n;
return j},clear:function(b){for(var c in b)delete b[c]},remove:function(b,c){var d;(d=c in b)&&delete b[c];return d},add:function(b,c,d){c in b&&f(Error('The object already contains the key "'+c+'"'));F.set(b,c,d)},get:function(b,c,d){return c in b?b[c]:d},set:function(b,c,d){b[c]=d},Q_:function(b,c,d){return c in b?b[c]:b[c]=d},clone:function(b){var c={},d;for(d in b)c[d]=b[d];return c},OV:function(b){var c=ka(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=
F.OV(b[d]);return c}return b},Um:function(b){var c={},d;for(d in b)c[b[d]]=d;return c},WB:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(b,c){for(var d,e,g=1;g<arguments.length;g++){e=arguments[g];for(d in e)b[d]=e[d];for(var h=0;h<F.WB.length;h++)d=F.WB[h],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},create:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return F.create.apply(k,arguments[0]);c%2&&
f(Error("Uneven number of arguments"));for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d},Wh:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return F.Wh.apply(k,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=j;return d},nZ:function(b){var c=b;Object.isFrozen&&!Object.isFrozen(b)&&(c=Object.create(b),Object.freeze(c));return c},a_:function(b){return!!Object.isFrozen&&Object.isFrozen(b)}};a.Vb=function(b){return b?new Tb(Ub(b)):Kb||(Kb=new Tb)},a.I=function(b){return oa(b)?document.getElementById(b):b},a.Xb=function(b,c,d){return Wb(document,b,c,d)},a.Yb=function(b,c){var d=c||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):Wb(document,"*",b,c)},a.J=function(b,c){var d=c||document,e=k;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+b):Yb(b,c)[0])||k},a.Wb=function(b,c,d,e){b=e||b;c=
c&&"*"!=c?c.toUpperCase():"";if(b.querySelectorAll&&b.querySelector&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},g=0,h=0,l;l=b[h];h++)c==l.nodeName&&(e[g++]=l);e.length=g;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(h=g=0;l=b[h];h++)c=l.className,"function"==typeof c.split&&z.contains(c.split(/\s+/),d)&&(e[g++]=l);e.length=g;return e}return b},a.$b=function(b,c){F.forEach(c,function(c,e){"style"==
e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in Zb?b.setAttribute(Zb[e],c):Ea(e,"aria-")||Ea(e,"data-")?b.setAttribute(e,c):b[e]=c})},a.Zb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},a.ac=function(b){b=(b||window).document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new Rb(b.clientWidth,
b.clientHeight)},a.cc=function(b){var c=bc(b),b=b.parentWindow||b.defaultView;return new Pb(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)},a.bc=function(b){return!D&&"CSS1Compat"==b.compatMode?b.documentElement:b.body},a.dc=function(b){return b?b.parentWindow||b.defaultView:window},a.K=function(b,c,d){return ec(document,arguments)},a.ec=function(b,c){var d=c[0],e=c[1];if(!Lb&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',Wa(e.name),'"');if(e.type){d.push(' type="',Wa(e.type),'"');
var g={};F.extend(g,e);delete g.type;e=g}d.push(">");d=d.join("")}d=b.createElement(d);e&&(oa(e)?d.className=e:ma(e)?E.add.apply(k,[d].concat(e)):$b(d,e));2<c.length&&fc(b,d,c,2);return d},a.fc=function(b,c,d,e){function g(d){d&&c.appendChild(oa(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];na(h)&&!(ra(h)&&0<h.nodeType)?z.forEach(gc(h)?z.toArray(h):h,g):g(h)}},a.ic=function(b){return hc(document,b)},a.hc=function(b,c){var d=b.createElement("div");A?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):
d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e},a.jc=function(b){if(1!=b.nodeType)return n;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return n}return j},
a.kc=function(b,c){fc(Ub(b),b,arguments,1)},a.lc=function(b){for(var c;c=b.firstChild;)b.removeChild(c)},a.mc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)},a.nc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)},a.oc=function(b,c,d){b.insertBefore(c,b.childNodes[d]||k)},a.L=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):k},a.pc=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)},a.qc=function(b){var c,d=b.parentNode;if(d&&11!=d.nodeType){if(b.removeNode)return b.removeNode(n);
for(;c=b.firstChild;)d.insertBefore(c,b);return L(b)}},a.rc=function(b){return Mb&&b.children!=i?b.children:z.filter(b.childNodes,function(b){return 1==b.nodeType})},a.tc=function(b){return b.firstElementChild!=i?b.firstElementChild:sc(b.firstChild,j)},a.uc=function(b){return b.previousElementSibling!=i?b.previousElementSibling:sc(b.previousSibling,n)},a.sc=function(b,c){for(;b&&1!=b.nodeType;)b=c?b.nextSibling:b.previousSibling;return b},a.vc=function(b,c){if(b.contains&&1==c.nodeType)return b==
c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b},a.yc=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if(A&&!Ib(9)){if(9==b.nodeType)return-1;if(9==c.nodeType)return 1}if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=1==b.nodeType,e=1==c.nodeType;if(d&&e)return b.sourceIndex-c.sourceIndex;var g=b.parentNode,h=
c.parentNode;return g==h?wc(b,c):!d&&vc(g,c)?-1*xc(b,c):!e&&vc(h,b)?xc(c,b):(d?b.sourceIndex:g.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=Ub(b);d=e.createRange();d.selectNode(b);d.collapse(j);e=e.createRange();e.selectNode(c);e.collapse(j);return d.compareBoundaryPoints(fa.Range.START_TO_END,e)},a.xc=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return wc(e,b)},a.wc=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1},a.zc=function(b){var c,
d=arguments.length;if(d){if(1==d)return arguments[0]}else return k;var e=[],g=Infinity;for(c=0;c<d;c++){for(var h=[],l=arguments[c];l;)h.unshift(l),l=l.parentNode;e.push(h);g=Math.min(g,h.length)}h=k;for(c=0;c<g;c++){for(var l=e[0][c],m=1;m<d;m++)if(l!=e[m][c])return h;h=l}return h},a.Ub=function(b){return 9==b.nodeType?b:b.ownerDocument||b.document},a.Ac=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);
b.firstChild.data=c}else lc(b),b.appendChild(Ub(b).createTextNode(c))},a.Cc=function(b,c){var d=[];Bc(b,c,d,n);return d},a.Bc=function(b,c,d,e){if(b!=k)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||Bc(b,c,d,e))return j;b=b.nextSibling}return n},a.Dc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},a.Ec={IMG:" ",BR:"\n"},a.Fc=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,pa(b)&&0<=b&&32768>b):n},a.Gc=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))},
a.Ic=function(b){if(Nb&&"innerText"in b)b=Ja(b.innerText);else{var c=[];Hc(b,c,j);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");Nb||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b},a.Jc=function(b){var c=[];Hc(b,c,n);return c.join("")},a.Hc=function(b,c,d){if(!(b.nodeName in Dc))if(3==b.nodeType)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in Ec)c.push(Ec[b.nodeName]);else for(b=b.firstChild;b;)Hc(b,
c,d),b=b.nextSibling},a.gc=function(b){if(b&&"number"==typeof b.length){if(ra(b))return"function"==typeof b.item||"string"==typeof b.item;if(qa(b))return"function"==typeof b.item}return n},a.Lc=function(b,c,d){if(!c&&!d)return k;var e=c?c.toUpperCase():k;return Kc(b,function(b){return(!e||b.nodeName==e)&&(!d||E.has(b,d))},j)},a.Mc=function(b,c){return Lc(b,k,c)},a.Kc=function(b,c,d,e){d||(b=b.parentNode);for(var d=e==k,g=0;b&&(d||g<=e);){if(c(b))return b;b=b.parentNode;g++}return k},a.Nc=function(b){try{return b&&
b.activeElement}catch(c){}return k},a.Tb=function(b){this.Ja=b||fa.document||document};t=Tb.prototype;t.L=Vb;t.za=q("Ja");t.m=function(b){return oa(b)?this.Ja.getElementById(b):b};t.Bu=Tb.prototype.m;t.fi=function(b,c){return J(b,c||this.Ja)};t.w=function(b,c,d){return ec(this.Ja,arguments)};t.createElement=function(b){return this.Ja.createElement(b)};t.createTextNode=function(b){return this.Ja.createTextNode(b)};t.Qv=u(21);a.Oc=function(b){return"CSS1Compat"==b.Ja.compatMode};
t.Ta=function(){return this.Ja.parentWindow||this.Ja.defaultView};a.Pc=function(b){return cc(b.Ja)};t.Mr=function(b){return Nc(b||this.Ja)};t.appendChild=function(b,c){b.appendChild(c)};t.append=kc;t.Bt=lc;t.Zl=mc;t.vs=nc;t.kQ=oc;t.removeNode=L;t.BN=qc;t.zE=rc;t.CE=tc;t.contains=vc;t.QN=Lc;a.Qc=function(b,c){b.setAttribute("role",c)},a.Rc=function(b,c,d){b.setAttribute("aria-"+c,d)},a.Sc=function(b,c){var d=b.getAttribute("aria-"+c);return d===j||d===n?d?"true":"false":d?String(d):""};a.M=function(){0!=Tc&&(this.oZ=Error().stack,Uc[ua(this)]=this)},a.Tc=0,a.Uc={};M.prototype.Sg=n;M.prototype.H=function(){if(!this.Sg&&(this.Sg=j,this.z(),0!=Tc)){var b=ua(this);delete Uc[b]}};a.Vc=function(b,c){b.qr||(b.qr=[]);b.qr.push(c)};M.prototype.z=function(){this.qr&&Wc.apply(k,this.qr);if(this.Zo)for(;this.Zo.length;)this.Zo.shift()()};a.Xc=function(b){b&&"function"==typeof b.H&&b.H()},a.Wc=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];na(e)?Wc.apply(k,e):Xc(e)}};a.Yc={$m:"activedescendant",vW:"atomic",WJ:"autocomplete",EW:"busy",tq:"checked",LW:"controls",PW:"describedby",bK:"disabled",SW:"dropeffect",PB:"expanded",VW:"flowto",bX:"grabbed",Rk:"haspopup",hX:"hidden",oX:"invalid",vq:"label",Mu:"labelledby",uX:"level",xX:"live",GX:"multiline",HX:"multiselectable",OX:"orientation",QX:"owns",SX:"posinset",oK:"pressed",YX:"readonly",aY:"relevant",bY:"required",sK:"selected",mY:"setsize",oY:"sort",MK:"valuemax",NK:"valuemin",OK:"valuenow",LY:"valuetext"},a.Zc={rW:"alert",
sW:"alertdialog",tW:"application",uW:"article",xW:"banner",sq:"button",ZJ:"checkbox",HW:"columnheader",$J:"combobox",JW:"complementary",aK:"dialog",QW:"directory",RW:"document",$W:"form",dX:"grid",eX:"gridcell",fX:"group",gX:"heading",mX:"img",gK:"link",vX:"list",QB:"listbox",wX:"listitem",zX:"log",hK:"main",AX:"marquee",BX:"math",iK:"menu",EX:"menubar",jK:"menuitem",kK:"menuitemcheckbox",lK:"menuitemradio",IX:"navigation",KX:"note",UB:"option",TX:"presentation",UX:"progressbar",WX:"radio",XX:"radiogroup",
$X:"region",dY:"row",eY:"rowgroup",fY:"rowheader",iY:"scrollbar",jY:"search",uK:"separator",zK:"slider",pY:"spinbutton",rY:"status",ZB:"tab",GK:"tablist",vY:"tabpanel",wY:"textbox",xY:"timer",IK:"toolbar",zY:"tooltip",AY:"tree",BY:"treegrid",CY:"treeitem"};a.$c=function(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(c){}f(Error("Invalid JSON string: "+b))},a.ad=function(b){return eval("("+b+")")},a.cd=function(b,c){return(new bd(c)).serialize(b)},a.bd=function(b){this.Ft=b};
bd.prototype.serialize=function(b){var c=[];dd(this,b,c);return c.join("")};
a.dd=function(b,c,d){switch(typeof c){case "string":ed(c,d);break;case "number":d.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":d.push(c);break;case "undefined":d.push("null");break;case "object":if(c==k){d.push("null");break}if(ma(c)){b.serializeArray(c,d);break}d.push("{");var e="",g;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=c[g];"function"!=typeof h&&(d.push(e),ed(g,d),d.push(":"),dd(b,b.Ft?b.Ft.call(c,g,h):h,d),e=",")}d.push("}");break;case "function":break;default:f(Error("Unknown type: "+
typeof c))}},a.fd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},a.gd=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,a.ed=function(b,c){c.push('"',b.replace(gd,function(b){if(b in fd)return fd[b];var c=b.charCodeAt(0),g="\\u";16>c?g+="000":256>c?g+="00":4096>c&&(g+="0");return fd[b]=g+c.toString(16)}),'"')};
bd.prototype.serializeArray=function(b,c){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],dd(this,this.Ft?this.Ft.call(b,String(g),e):e,c),e=",";c.push("]")};a.hd=!A||Ib(9),a.id=!A||Ib(9),a.jd=A&&!Gb("9");!D||Gb("528");C&&Gb("1.9b")||A&&Gb("8")||tb&&Gb("9.5")||D&&Gb("528");C&&!Gb("8")||A&&Gb("9");a.kd=function(b,c){this.type=b;this.currentTarget=this.target=c};t=kd.prototype;t.z=ba();t.H=ba();t.gk=n;t.defaultPrevented=n;t.It=j;t.stopPropagation=function(){this.gk=j};t.preventDefault=function(){this.defaultPrevented=j;this.It=n};a.ld=function(b){b.preventDefault()};a.md=A?"focusin":"DOMFocusIn";a.nd=function(b){nd[" "](b);return b};nd[" "]=ha;a.od=function(b,c){b&&this.B(b,c)};y(od,kd);a.pd=[1,4,2];t=od.prototype;t.target=k;t.relatedTarget=k;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=n;t.altKey=n;t.shiftKey=n;t.metaKey=n;t.Dz=n;t.Zb=k;
t.B=function(b,c){var d=this.type=b.type;kd.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;if(e){if(C){var g;a:{try{nd(e.nodeName);g=j;break a}catch(h){}g=n}g||(e=k)}}else"mouseover"==d?e=b.fromElement:"mouseout"==d&&(e=b.toElement);this.relatedTarget=e;this.offsetX=D||b.offsetX!==i?b.offsetX:b.layerX;this.offsetY=D||b.offsetY!==i?b.offsetY:b.layerY;this.clientX=b.clientX!==i?b.clientX:b.pageX;this.clientY=b.clientY!==i?b.clientY:b.pageY;this.screenX=b.screenX||
0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.Dz=mb?b.metaKey:b.ctrlKey;this.state=b.state;this.Zb=b;b.defaultPrevented&&this.preventDefault();delete this.gk};a.qd=function(b,c){return hd?b.Zb.button==c:"click"==b.type?0==c:!!(b.Zb.button&pd[c])},a.rd=function(b){return qd(b,0)&&!(D&&mb&&b.ctrlKey)};
t.stopPropagation=function(){od.n.stopPropagation.call(this);this.Zb.stopPropagation?this.Zb.stopPropagation():this.Zb.cancelBubble=j};t.preventDefault=function(){od.n.preventDefault.call(this);var b=this.Zb;if(b.preventDefault)b.preventDefault();else if(b.returnValue=n,jd)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};t.xE=q("Zb");t.z=ba();a.sd=function(){},a.td=0;t=sd.prototype;t.key=0;t.kk=n;t.Sq=n;t.B=function(b,c,d,e,g,h){qa(b)?this.SF=j:b&&b.handleEvent&&qa(b.handleEvent)?this.SF=n:f(Error("Invalid listener argument"));this.lg=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!g;this.li=h;this.Sq=n;this.key=++td;this.kk=n};t.handleEvent=function(b){return this.SF?this.lg.call(this.li||this.src,b):this.lg.handleEvent.call(this.lg,b)};a.ud={},a.vd={},a.wd={},a.xd={},a.N=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)N(b,c[h],d,e,g);return k}return yd(b,c,d,n,e,g)},a.yd=function(b,c,d,e,g,h){c||f(Error("Invalid event type"));var g=!!g,l=vd;c in l||(l[c]={ia:0,Ye:0});l=l[c];g in l||(l[g]={ia:0,Ye:0},l.ia++);var l=l[g],m=ua(b),p;l.Ye++;if(l[m]){p=l[m];for(var r=0;r<p.length;r++)if(l=p[r],l.lg==d&&l.li==h){if(l.kk)break;e||(p[r].Sq=n);return p[r].key}}else p=l[m]=[],l.ia++;var w=zd,B=id?function(b){return w.call(B.src,B.key,
b)}:function(b){b=w.call(B.src,B.key,b);if(!b)return b},r=B;r.src=b;l=new sd;l.B(d,r,b,c,g,h);l.Sq=e;d=l.key;r.key=d;p.push(l);ud[d]=l;wd[m]||(wd[m]=[]);wd[m].push(l);b.addEventListener?(b==fa||!b.CD)&&b.addEventListener(c,r,g):b.attachEvent(c in xd?xd[c]:xd[c]="on"+c,r);return d},a.Ad=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)Ad(b,c[h],d,e,g);return k}return yd(b,c,d,j,e,g)},a.Bd=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)Bd(b,c[h],d,e,g);else if(e=!!e,b=Cd(b,c,e))for(h=
0;h<b.length;h++)if(b[h].lg==d&&b[h].capture==e&&b[h].li==g){Dd(b[h].key);break}},a.Dd=function(b){if(!ud[b])return n;var c=ud[b];if(c.kk)return n;var d=c.src,e=c.type,g=c.proxy,h=c.capture;d.removeEventListener?(d==fa||!d.CD)&&d.removeEventListener(e,g,h):d.detachEvent&&d.detachEvent(e in xd?xd[e]:xd[e]="on"+e,g);d=ua(d);wd[d]&&(g=wd[d],z.remove(g,c),0==g.length&&delete wd[d]);c.kk=j;if(c=vd[e][h][d])c.OG=j,Ed(e,h,d,c);delete ud[b];return j},a.Ed=function(b,c,d,e){if(!e.Ts&&e.OG){for(var g=0,h=0;g<
e.length;g++)e[g].kk?e[g].proxy.src=k:(g!=h&&(e[h]=e[g]),h++);e.length=h;e.OG=n;0==h&&(delete vd[b][c][d],vd[b][c].ia--,0==vd[b][c].ia&&(delete vd[b][c],vd[b].ia--),0==vd[b].ia&&delete vd[b])}},a.Fd=function(b){var c,d=0,e=c==k;c=!!c;if(b==k)F.forEach(wd,function(b){for(var g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)Dd(h.key),d++}});else if(b=ua(b),wd[b])for(var b=wd[b],g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)Dd(h.key),d++}},a.Cd=function(b,c,d){var e=vd;return c in e&&(e=e[c],
d in e&&(e=e[d],b=ua(b),e[b]))?e[b]:k},a.Hd=function(b,c,d,e,g){var h=1,c=ua(c);if(b[c]){b.Ye--;b=b[c];b.Ts?b.Ts++:b.Ts=1;try{for(var l=b.length,m=0;m<l;m++){var p=b[m];p&&!p.kk&&(h&=Gd(p,g)!==n)}}finally{b.Ts--,Ed(d,e,c,b)}}return Boolean(h)},a.Gd=function(b,c){b.Sq&&Dd(b.key);return b.handleEvent(c)},a.zd=function(b,c){if(!ud[b])return j;var d=ud[b],e=d.type,g=vd;if(!(e in g))return j;var g=g[e],h,l;if(!id){h=c||ga("window.event");var m=j in g,p=n in g;if(m){if(0>h.keyCode||h.returnValue!=i)return j;
a:{var r=n;if(0==h.keyCode)try{h.keyCode=-1;break a}catch(w){r=j}if(r||h.returnValue==i)h.returnValue=j}}r=new od;r.B(h,this);h=j;try{if(m){for(var B=[],H=r.currentTarget;H;H=H.parentNode)B.push(H);l=g[j];l.Ye=l.ia;for(var G=B.length-1;!r.gk&&0<=G&&l.Ye;G--)r.currentTarget=B[G],h&=Hd(l,B[G],e,j,r);if(p){l=g[n];l.Ye=l.ia;for(G=0;!r.gk&&G<B.length&&l.Ye;G++)r.currentTarget=B[G],h&=Hd(l,B[G],e,n,r)}}else h=Gd(d,r)}finally{B&&(B.length=0)}return h}e=new od(c,this);return h=Gd(d,e)},a.Id=0,a.Jd=function(b){return b+
"_"+Id++};a.Kd=function(){M.call(this)};y(Kd,M);t=Kd.prototype;t.CD=j;t.om=k;t.Rt=ca("om");t.addEventListener=function(b,c,d,e){N(this,b,c,d,e)};t.removeEventListener=function(b,c,d,e){Bd(this,b,c,d,e)};
t.dispatchEvent=function(b){var c=b.type||b,d=vd;if(c in d){if(oa(b))b=new kd(b,this);else if(b instanceof kd)b.target=b.target||this;else{var e=b,b=new kd(c,this);F.extend(b,e)}var e=1,g,d=d[c],c=j in d,h;if(c){g=[];for(h=this;h;h=h.om)g.push(h);h=d[j];h.Ye=h.ia;for(var l=g.length-1;!b.gk&&0<=l&&h.Ye;l--)b.currentTarget=g[l],e&=Hd(h,g[l],b.type,j,b)&&b.It!=n}if(n in d)if(h=d[n],h.Ye=h.ia,c)for(l=0;!b.gk&&l<g.length&&h.Ye;l++)b.currentTarget=g[l],e&=Hd(h,g[l],b.type,n,b)&&b.It!=n;else for(g=this;!b.gk&&
g&&h.Ye;g=g.om)b.currentTarget=g,e&=Hd(h,g,b.type,n,b)&&b.It!=n;b=Boolean(e)}else b=j;return b};t.z=function(){Kd.n.z.call(this);Fd(this);this.om=k};a.Md=function(b,c){M.call(this);this.dh=b||1;this.Tp=c||Ld;this.uv=v(this.sV,this);this.wy=za()};y(Md,Kd);Md.prototype.enabled=n;a.Ld=fa.window;t=Md.prototype;t.sa=k;t.setInterval=u(11);t.sV=function(){if(this.enabled){var b=za()-this.wy;0<b&&b<0.8*this.dh?this.sa=this.Tp.setTimeout(this.uv,this.dh-b):(this.dispatchEvent(Nd),this.enabled&&(this.sa=this.Tp.setTimeout(this.uv,this.dh),this.wy=za()))}};t.start=function(){this.enabled=j;this.sa||(this.sa=this.Tp.setTimeout(this.uv,this.dh),this.wy=za())};
t.stop=function(){this.enabled=n;this.sa&&(this.Tp.clearTimeout(this.sa),this.sa=k)};t.z=function(){Md.n.z.call(this);this.stop();delete this.Tp};a.Nd="tick",a.Od=function(b,c,d){qa(b)?d&&(b=v(b,d)):b&&"function"==typeof b.handleEvent?b=v(b.handleEvent,b):f(Error("Invalid listener argument"));return 2147483647<c?-1:Ld.setTimeout(b,c||0)};a.Pd={bb:function(b){return"function"==typeof b.bb?b.bb():na(b)||oa(b)?b.length:F.bb(b)},La:function(b){if("function"==typeof b.La)return b.La();if(oa(b))return b.split("");if(na(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return F.La(b)},Hb:function(b){if("function"==typeof b.Hb)return b.Hb();if("function"!=typeof b.La){if(na(b)||oa(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return F.Hb(b)}},contains:function(b,c){return"function"==typeof b.contains?b.contains(c):
"function"==typeof b.Ng?b.Ng(c):na(b)||oa(b)?z.contains(b,c):F.Ng(b,c)},Jb:function(b){return"function"==typeof b.Jb?b.Jb():na(b)||oa(b)?z.Jb(b):F.Jb(b)},clear:function(b){"function"==typeof b.clear?b.clear():na(b)?z.clear(b):F.clear(b)},forEach:function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(na(b)||oa(b))z.forEach(b,c,d);else for(var e=Pd.Hb(b),g=Pd.La(b),h=g.length,l=0;l<h;l++)c.call(d,g[l],e&&e[l],b)},filter:function(b,c,d){if("function"==typeof b.filter)return b.filter(c,
d);if(na(b)||oa(b))return z.filter(b,c,d);var e,g=Pd.Hb(b),h=Pd.La(b),l=h.length;if(g){e={};for(var m=0;m<l;m++)c.call(d,h[m],g[m],b)&&(e[g[m]]=h[m])}else{e=[];for(m=0;m<l;m++)c.call(d,h[m],i,b)&&e.push(h[m])}return e},map:function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(na(b)||oa(b))return z.map(b,c,d);var e,g=Pd.Hb(b),h=Pd.La(b),l=h.length;if(g){e={};for(var m=0;m<l;m++)e[g[m]]=c.call(d,h[m],g[m],b)}else{e=[];for(m=0;m<l;m++)e[m]=c.call(d,h[m],i,b)}return e},some:function(b,c,d){if("function"==
typeof b.some)return b.some(c,d);if(na(b)||oa(b))return z.some(b,c,d);for(var e=Pd.Hb(b),g=Pd.La(b),h=g.length,l=0;l<h;l++)if(c.call(d,g[l],e&&e[l],b))return j;return n},every:function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(na(b)||oa(b))return z.every(b,c,d);for(var e=Pd.Hb(b),g=Pd.La(b),h=g.length,l=0;l<h;l++)if(!c.call(d,g[l],e&&e[l],b))return n;return j}};a.O={};O.fb="StopIteration"in fa?fa.StopIteration:Error("StopIteration");a.Qd=function(){};Qd.prototype.next=function(){f(O.fb)};Qd.prototype.gd=function(){return this};O.fd=function(b){if(b instanceof Qd)return b;if("function"==typeof b.gd)return b.gd(n);if(na(b)){var c=0,d=new Qd;d.next=function(){for(;;){c>=b.length&&f(O.fb);if(c in b)return b[c++];c++}};return d}f(Error("Not implemented"))};
O.forEach=function(b,c,d){if(na(b))try{z.forEach(b,c,d)}catch(e){e!==O.fb&&f(e)}else{b=O.fd(b);try{for(;;)c.call(d,b.next(),i,b)}catch(g){g!==O.fb&&f(g)}}};O.filter=function(b,c,d){var e=O.fd(b),b=new Qd;b.next=function(){for(;;){var b=e.next();if(c.call(d,b,i,e))return b}};return b};O.wm=function(b,c,d){var e=0,g=b,h=d||1;1<arguments.length&&(e=b,g=c);0==h&&f(Error("Range step argument must not be zero"));var l=new Qd;l.next=function(){(0<h&&e>=g||0>h&&e<=g)&&f(O.fb);var b=e;e+=h;return b};return l};
O.join=function(b,c){return O.toArray(b).join(c)};O.map=function(b,c,d){var e=O.fd(b),b=new Qd;b.next=function(){for(;;){var b=e.next();return c.call(d,b,i,e)}};return b};O.reduce=function(b,c,d,e){var g=d;O.forEach(b,function(b){g=c.call(e,g,b)});return g};O.some=function(b,c,d){b=O.fd(b);try{for(;;)if(c.call(d,b.next(),i,b))return j}catch(e){e!==O.fb&&f(e)}return n};O.every=function(b,c,d){b=O.fd(b);try{for(;;)if(!c.call(d,b.next(),i,b))return n}catch(e){e!==O.fb&&f(e)}return j};
O.eM=function(b){var c=arguments,d=c.length,e=0,g=new Qd;g.next=function(){try{return e>=d&&f(O.fb),O.fd(c[e]).next()}catch(b){return(b!==O.fb||e>=d)&&f(b),e++,this.next()}};return g};O.lN=function(b,c){var d=O.fd(b),e=new Qd,g=j;e.next=function(){for(;;){var b=d.next();if(!g||!c.call(i,b,i,d))return g=n,b}};return e};O.YA=function(b,c){var d=O.fd(b),e=new Qd,g=j;e.next=function(){for(;;)if(g){var b=d.next();if(c.call(i,b,i,d))return b;g=n}else f(O.fb)};return e};
O.toArray=function(b){if(na(b))return z.toArray(b);var b=O.fd(b),c=[];O.forEach(b,function(b){c.push(b)});return c};O.Zf=function(b,c){var b=O.fd(b),c=O.fd(c),d,e;try{for(;;){d=e=n;var g=b.next();d=j;var h=c.next();e=j;if(g!=h)break}}catch(l){l!==O.fb&&f(l);if(d&&!e)return n;if(!e)try{c.next()}catch(m){return m!==O.fb&&f(m),j}}return n};O.q_=function(b,c){try{return O.fd(b).next()}catch(d){return d!=O.fb&&f(d),c}};
O.product=function(b){if(z.some(arguments,function(b){return!b.length})||!arguments.length)return new Qd;var c=new Qd,d=arguments,e=z.repeat(0,d.length);c.next=function(){if(e){for(var b=z.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=k;break}e[c]=0}return b}f(O.fb)};return c};
O.Wv=function(b){var c=O.fd(b),d=[],e=0,b=new Qd,g=n;b.next=function(){var b=k;if(!g)try{return b=c.next(),d.push(b),b}catch(l){(l!=O.fb||z.Jb(d))&&f(l),g=j}b=d[e];e=(e+1)%d.length;return b};return b};a.Rd=function(b,c){this.tb={};this.Ua=[];var d=arguments.length;if(1<d){d%2&&f(Error("Uneven number of arguments"));for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.Wu(b)};t=Rd.prototype;t.ia=0;t.fq=0;t.bb=q("ia");t.La=function(){Sd(this);for(var b=[],c=0;c<this.Ua.length;c++)b.push(this.tb[this.Ua[c]]);return b};t.Hb=function(){Sd(this);return this.Ua.concat()};t.Ud=function(b){return Td(this.tb,b)};
t.Ng=function(b){for(var c=0;c<this.Ua.length;c++){var d=this.Ua[c];if(Td(this.tb,d)&&this.tb[d]==b)return j}return n};t.Zf=function(b,c){if(this===b)return j;if(this.ia!=b.bb())return n;var d=c||Ud;Sd(this);for(var e,g=0;e=this.Ua[g];g++)if(!d(this.get(e),b.get(e)))return n;return j};a.Ud=function(b,c){return b===c};t.Jb=function(){return 0==this.ia};t.clear=function(){this.tb={};this.fq=this.ia=this.Ua.length=0};
t.remove=function(b){return Td(this.tb,b)?(delete this.tb[b],this.ia--,this.fq++,this.Ua.length>2*this.ia&&Sd(this),j):n};a.Sd=function(b){if(b.ia!=b.Ua.length){for(var c=0,d=0;c<b.Ua.length;){var e=b.Ua[c];Td(b.tb,e)&&(b.Ua[d++]=e);c++}b.Ua.length=d}if(b.ia!=b.Ua.length){for(var g={},d=c=0;c<b.Ua.length;)e=b.Ua[c],Td(g,e)||(b.Ua[d++]=e,g[e]=1),c++;b.Ua.length=d}};t.get=function(b,c){return Td(this.tb,b)?this.tb[b]:c};
t.set=function(b,c){Td(this.tb,b)||(this.ia++,this.Ua.push(b),this.fq++);this.tb[b]=c};t.Wu=function(b){var c;b instanceof Rd?(c=b.Hb(),b=b.La()):(c=F.Hb(b),b=F.La(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};t.clone=function(){return new Rd(this)};t.Um=function(){for(var b=new Rd,c=0;c<this.Ua.length;c++){var d=this.Ua[c];b.set(this.tb[d],d)}return b};t.mu=function(){Sd(this);for(var b={},c=0;c<this.Ua.length;c++){var d=this.Ua[c];b[d]=this.tb[d]}return b};
t.gd=function(b){Sd(this);var c=0,d=this.Ua,e=this.tb,g=this.fq,h=this,l=new Qd;l.next=function(){for(;;){g!=h.fq&&f(Error("The map has changed since the iterator was created"));c>=d.length&&f(O.fb);var l=d[c++];return b?l:e[l]}};return l};a.Td=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};a.Vd=function(b){this.tb=new Rd;b&&this.Wu(b)},a.Wd=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+ua(b):c.substr(0,1)+b};t=Vd.prototype;t.bb=function(){return this.tb.bb()};t.add=function(b){this.tb.set(Wd(b),b)};t.Wu=function(b){for(var b=Pd.La(b),c=b.length,d=0;d<c;d++)this.add(b[d])};t.Sc=function(b){for(var b=Pd.La(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};t.remove=function(b){return this.tb.remove(Wd(b))};t.clear=function(){this.tb.clear()};t.Jb=function(){return this.tb.Jb()};
t.contains=function(b){return this.tb.Ud(Wd(b))};t.MF=function(b){for(var c=new Vd,b=Pd.La(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};t.La=function(){return this.tb.La()};t.clone=function(){return new Vd(this)};t.Zf=function(b){var c;if(c=this.bb()==Pd.bb(b)){var d=b,b=Pd.bb(d);this.bb()>b?c=n:(!(d instanceof Vd)&&5<b&&(d=new Vd(d)),c=Pd.every(this,function(b){return Pd.contains(d,b)}))}return c};t.gd=function(){return this.tb.gd(n)};a.Yd=function(b){return Xd(b||arguments.callee.caller,[])},a.Xd=function(b,c){var d=[];if(z.contains(c,b))d.push("[...circular reference...]");else if(b&&50>c.length){d.push(Zd(b)+"(");for(var e=b.arguments,g=0;g<e.length;g++){0<g&&d.push(", ");var h;h=e[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Zd(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");
d.push(h)}c.push(b);d.push(")\n");try{d.push(Xd(b.caller,c))}catch(l){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")},a.Zd=function(b){if($d[b])return $d[b];b=String(b);if(!$d[b]){var c=/function ([^\(]+)/.exec(b);$d[b]=c?c[1]:"[Anonymous]"}return $d[b]},a.$d={};a.ae=function(b,c,d,e,g){this.reset(b,c,d,e,g)};ae.prototype.tU=0;ae.prototype.fE=k;ae.prototype.eE=k;a.be=0;ae.prototype.reset=function(b,c,d,e,g){this.tU="number"==typeof g?g:be++;this.Z_=e||za();this.Jo=b;this.MG=c;this.h_=d;delete this.fE;delete this.eE};ae.prototype.BI=ca("Jo");ae.prototype.Ei=u(54);a.ce=function(b){this.pR=b};ce.prototype.Wa=k;ce.prototype.Jo=k;ce.prototype.Yb=k;ce.prototype.nF=k;a.de=function(b,c){this.name=b;this.value=c};de.prototype.toString=q("name");a.ee=new de("SHOUT",1200),a.fe=new de("SEVERE",1E3),a.ge=new de("WARNING",900),a.he=new de("INFO",800),a.ie=new de("CONFIG",700),a.je=new de("FINE",500);t=ce.prototype;t.getParent=q("Wa");t.zE=function(){this.Yb||(this.Yb={});return this.Yb};t.BI=ca("Jo");a.ke=function(b){return b.Jo?b.Jo:b.Wa?ke(b.Wa):k};
t.log=function(b,c,d){if(b.value>=ke(this).value){b=this.UN(b,c,d);c="log:"+b.MG;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(c):fa.console.markTimeline&&fa.console.markTimeline(c));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(c);for(c=this;c;){var d=c,e=b;if(d.nF)for(var g=0,h=i;h=d.nF[g];g++)h(e);c=c.getParent()}}};
t.UN=function(b,c,d){var e=new ae(b,String(c),this.pR);if(d){e.fE=d;var g;var h=arguments.callee.caller;try{var l;var m=ga("window.location.href");if(oa(d))l={message:d,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var p,r,w=n;try{p=d.lineNumber||d.g_||"Not available"}catch(B){p="Not available",w=j}try{r=d.fileName||d.filename||d.sourceURL||m}catch(H){r="Not available",w=j}l=w||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:p,
fileName:r,stack:d.stack||"Not available"}:d}g="Message: "+Wa(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+Wa(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Wa(Yd(h)+"-> ")}catch(G){g="Exception trying to expose exception! You win, we lose. "+G}e.eE=g}return e};t.Ik=function(b,c){this.log(ge,b,c)};t.info=function(b,c){this.log(he,b,c)};t.gD=u(13);
a.le=function(b,c){b.log(je,c,i)},a.me={},a.ne=k,a.pe=function(b){ne||(ne=new ce(""),me[""]=ne,ne.BI(ie));var c;if(!(c=me[b])){c=new ce(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=pe(b.substr(0,d));d.zE()[e]=c;c.Wa=d;me[b]=c}return c};a.qe=function(b){M.call(this);this.ha=b;this.Ua=[]};y(qe,M);a.re=[];t=qe.prototype;t.e=function(b,c,d,e,g){ma(c)||(re[0]=c,c=re);for(var h=0;h<c.length;h++){var l=N(b,c[h],d||this,e||n,g||this.ha||this);this.Ua.push(l)}return this};a.P=function(b,c,d,e,g,h){if(ma(d))for(var l=0;l<d.length;l++)P(b,c,d[l],e,g,h);else c=Ad(c,d,e||b,g,h||b.ha||b),b.Ua.push(c)};
t.ya=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)this.ya(b,c[h],d,e,g);else{a:{d=d||this;g=g||this.ha||this;e=!!e;if(b=Cd(b,c,e))for(c=0;c<b.length;c++)if(!b[c].kk&&b[c].lg==d&&b[c].capture==e&&b[c].li==g){b=b[c];break a}b=k}b&&(b=b.key,Dd(b),z.remove(this.Ua,b))}return this};t.Sc=function(){z.forEach(this.Ua,Dd);this.Ua.length=0};t.z=function(){qe.n.z.call(this);this.Sc()};t.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};a.se=function(b){M.call(this);this.Bg=b;this.Ht=[]};y(se,M);se.prototype.Ga=pe("goog.net.BulkLoaderHelper");se.prototype.kx=q("Bg");se.prototype.ex=q("Ht");se.prototype.z=function(){se.n.z.call(this);this.Ht=this.Bg=k};a.te=function(){};te.prototype.QC=k;a.ve=function(b){var c;if(!(c=b.QC))c={},ue(b)&&(c[0]=j,c[1]=j),c=b.QC=c;return c};a.we=void 0,a.xe=function(){};y(xe,te);a.ye=function(b){return(b=ue(b))?new ActiveXObject(b):new XMLHttpRequest},a.ue=function(b){if(!b.uF&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<c.length;d++){var e=c[d];try{return new ActiveXObject(e),b.uF=e}catch(g){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return b.uF};
we=new xe;a.ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");a.Ae=function(b){M.call(this);this.headers=new Rd;this.zu=b||k};y(Ae,Kd);Ae.prototype.Ga=pe("goog.net.XhrIo");a.Be=/^https?$/i;t=Ae.prototype;t.Lh=n;t.ma=k;t.yu=k;t.Js="";t.fG="";t.Eo=0;t.Fo="";t.xw=n;t.ns=n;t.Tx=n;t.Ej=n;t.hu=0;t.Ck=k;t.gI="";t.iW=n;
t.send=function(b,c,d,e){this.ma&&f(Error("[goog.net.XhrIo] Object is active with another request="+this.Js+"; newUri="+b));c=c?c.toUpperCase():"GET";this.Js=b;this.Fo="";this.Eo=0;this.fG=c;this.xw=n;this.Lh=j;this.ma=this.zu?ye(this.zu):ye(we);this.yu=this.zu?ve(this.zu):ve(we);this.ma.onreadystatechange=v(this.lH,this);try{le(this.Ga,Ce(this,"Opening Xhr")),this.Tx=j,this.ma.open(c,b,j),this.Tx=n}catch(g){le(this.Ga,Ce(this,"Error opening Xhr: "+g.message));De(this,g);return}var b=d||"",h=this.headers.clone();
e&&Pd.forEach(e,function(b,c){h.set(c,b)});e=fa.FormData&&b instanceof fa.FormData;"POST"==c&&(!h.Ud("Content-Type")&&!e)&&h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Pd.forEach(h,function(b,c){this.ma.setRequestHeader(c,b)},this);this.gI&&(this.ma.responseType=this.gI);F.Ud(this.ma,"withCredentials")&&(this.ma.withCredentials=this.iW);try{this.Ck&&(Ld.clearTimeout(this.Ck),this.Ck=k),0<this.hu&&(le(this.Ga,Ce(this,"Will abort after "+this.hu+"ms if incomplete")),this.Ck=
Ld.setTimeout(v(this.iu,this),this.hu)),le(this.Ga,Ce(this,"Sending request")),this.ns=j,this.ma.send(b),this.ns=n}catch(l){le(this.Ga,Ce(this,"Send error: "+l.message)),De(this,l)}};t.iu=function(){"undefined"!=typeof ea&&this.ma&&(this.Fo="Timed out after "+this.hu+"ms, aborting",this.Eo=8,le(this.Ga,Ce(this,this.Fo)),this.dispatchEvent("timeout"),this.abort(8))};
a.De=function(b,c){b.Lh=n;b.ma&&(b.Ej=j,b.ma.abort(),b.Ej=n);b.Fo=c;b.Eo=5;Ee(b);Fe(b)},a.Ee=function(b){b.xw||(b.xw=j,b.dispatchEvent("complete"),b.dispatchEvent("error"))};t.abort=function(b){this.ma&&this.Lh&&(le(this.Ga,Ce(this,"Aborting")),this.Lh=n,this.Ej=j,this.ma.abort(),this.Ej=n,this.Eo=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fe(this))};t.z=function(){this.ma&&(this.Lh&&(this.Lh=n,this.Ej=j,this.ma.abort(),this.Ej=n),Fe(this,j));Ae.n.z.call(this)};
t.lH=function(){!this.Tx&&!this.ns&&!this.Ej?this.pS():Ge(this)};t.pS=function(){Ge(this)};
a.Ge=function(b){if(b.Lh&&"undefined"!=typeof ea)if(b.yu[1]&&4==He(b)&&2==Ie(b))le(b.Ga,Ce(b,"Local request error detected and ignored"));else if(b.ns&&4==He(b))Ld.setTimeout(v(b.lH,b),0);else if(b.dispatchEvent("readystatechange"),4==He(b)){le(b.Ga,Ce(b,"Request complete"));b.Lh=n;try{if(Je(b))b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.Eo=6;var c;try{c=2<He(b)?b.ma.statusText:""}catch(d){le(b.Ga,"Can not get status: "+d.message),c=""}b.Fo=c+" ["+Ie(b)+"]";Ee(b)}}finally{Fe(b)}}},
a.Fe=function(b,c){if(b.ma){var d=b.ma,e=b.yu[0]?ha:k;b.ma=k;b.yu=k;b.Ck&&(Ld.clearTimeout(b.Ck),b.Ck=k);c||b.dispatchEvent("ready");try{d.onreadystatechange=e}catch(g){b.Ga.log(fe,"Problem encountered resetting onreadystatechange: "+g.message,i)}}};t.bc=function(){return!!this.ma};
a.Je=function(b){var c=Ie(b),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=n}if(!d){if(c=0===c)b=String(b.Js).match(ze)[1]||k,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),c=!Be.test(b?b.toLowerCase():"");d=c}return d},a.He=function(b){return b.ma?b.ma.readyState:0},a.Ie=function(b){try{return 2<He(b)?b.ma.status:-1}catch(c){return b.Ga.Ik("Can not get status: "+c.message),-1}},a.Ke=function(b){try{return b.ma?b.ma.responseText:
""}catch(c){return le(b.Ga,"Can not get responseText: "+c.message),""}},a.Le=function(b){if(b.ma)return $c(b.ma.responseText)};t.getResponseHeader=function(b){return this.ma&&4==He(this)?this.ma.getResponseHeader(b):i};a.Ce=function(b,c){return c+" ["+b.fG+" "+b.Js+" "+Ie(b)+"]"};a.Me=function(b){M.call(this);this.Cj=new se(b);this.S=new qe(this)};y(Me,Kd);t=Me.prototype;t.Ga=pe("goog.net.BulkLoader");t.ex=function(){return this.Cj.ex()};t.load=function(){var b=this.S,c=this.Cj.kx();this.Ga.info("Starting load of code with "+c.length+" uris.");for(var d=0;d<c.length;d++){var e=new Ae;b.e(e,"complete",v(this.DO,this,d));e.send(c[d])}};
t.DO=function(b,c){this.Ga.info('Received event "'+c.type+'" for id '+b+" with uri "+this.Cj.Bg[b]);var d=c.target;Je(d)?this.Gx(b,d):this.xx(b,d)};t.Gx=function(b,c){var d=Ke(c);this.Cj.Ht[b]=d;a:{var e=this.Cj,d=e.Ht;if(d.length==e.Bg.length){for(e=0;e<d.length;e++)if(d[e]==k){d=n;break a}d=j}else d=n}d&&(this.Ga.info("All uris loaded."),this.dispatchEvent("success"));c.H()};t.xx=function(b,c){this.dispatchEvent("error");c.H()};
t.z=function(){Me.n.z.call(this);this.S.H();this.S=k;this.Cj.H();this.Cj=k};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
a.Ne=function(b,c){this.zn=[];this.SC=b;this.ID=c||k};t=Ne.prototype;t.di=n;t.eo=n;t.hp=0;t.GA=n;t.fM=n;t.vv=0;t.cancel=function(b){if(this.di)this.pp instanceof Ne&&this.pp.cancel();else{if(this.Wa){var c=this.Wa;delete this.Wa;b?c.cancel(b):(c.vv--,0>=c.vv&&c.cancel())}this.SC?this.SC.call(this.ID,this):this.GA=j;this.di||Oe(this,new Pe(this))}};t.oD=function(b,c){Qe(this,b,c);this.hp--;0==this.hp&&this.di&&Re(this)};a.Qe=function(b,c,d){b.di=j;b.pp=d;b.eo=!c;Re(b)};
t.Rh=function(){this.di&&(this.GA||f(new Se(this)),this.GA=n)};t.bl=function(b){this.Rh();Qe(this,j,b)};
a.Oe=function(b,c){b.Rh();Qe(b,n,c)},a.Te=function(b){return z.some(b.zn,function(b){return qa(b[1])})},a.Re=function(b){b.pB&&(b.di&&Te(b))&&(fa.clearTimeout(b.pB),delete b.pB);b.Wa&&(b.Wa.vv--,delete b.Wa);for(var c=b.pp,d=n,e=n;b.zn.length&&0==b.hp;){var g=b.zn.shift(),h=g[0],l=g[1],g=g[2];if(h=b.eo?l:h)try{var m=h.call(g||b.ID,c);la(m)&&(b.eo=b.eo&&(m==c||m instanceof Error),b.pp=c=m);c instanceof Ne&&(e=j,b.hp++)}catch(p){c=p,b.eo=j,Te(b)||(d=j)}}b.pp=c;e&&b.hp&&(e=c,m=v(b.oD,b,j),h=v(b.oD,b,
n),e.zn.push([m,h,i]),e.di&&Re(e),c.fM=j);d&&(b.pB=fa.setTimeout(function(){f(c)},0))},a.Se=function(b){Da.call(this);this.deferred=b};y(Se,Da);Se.prototype.message="Deferred has already fired";Se.prototype.name="AlreadyCalledError";a.Pe=function(b){Da.call(this);this.deferred=b};y(Pe,Da);Pe.prototype.message="Deferred was cancelled";Pe.prototype.name="CancelledError";a.Ue=[],a.We=function(){if(this&&this.oI){var b=this.oI;b&&"SCRIPT"==b.tagName&&Ve(b,j,this.iu)}},a.Ve=function(b,c,d){d!=k&&fa.clearTimeout(d);b.onload=ha;b.onerror=ha;b.onreadystatechange=ha;c&&window.setTimeout(function(){L(b)},0)},a.Xe=function(b,c){var d="Jsloader error (code #"+b+")";c&&(d+=": "+c);Da.call(this,d);this.code=b};y(Xe,Da);a.Ye=function(){M.call(this);this.S=new qe(this);this.lh={}};y(Ye,Kd);t=Ye.prototype;t.Qb=pe("goog.module.ModuleLoader");t.GD=n;t.WU=n;
t.SQ=function(b,c,d,e){var g=this.lh[b]||new Ze;g.rG=j;g.UA=d||k;g.yw=e||k;if(this.lh[b])g.Yz!=k&&$e(this,b);else{this.lh[b]=g;d=[];for(e=0;e<b.length;e++)z.extend(d,c[b[e]].kx());this.Qb.info("downloadModules ids:"+b+" uris:"+d);if(this.GD){var h=d;if(h.length&&(b=Ue.length,z.extend(Ue,h),!b)){var h=Ue,l=function(){var b=h.shift(),c={},d=c.document||document,e=document.createElement("SCRIPT"),g={oI:e,iu:i},H=new Ne(We,g),G=k,S=c.timeout!=k?c.timeout:5E3;0<S&&(G=window.setTimeout(function(){Ve(e,
j);Oe(H,new Xe(1,"Timeout reached for loading script "+b))},S),g.iu=G);e.onload=e.onreadystatechange=function(){if(!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)Ve(e,c.dZ||n,G),H.bl(k)};e.onerror=function(){Ve(e,j,G);Oe(H,new Xe(0,"Error while loading script "+b))};$b(e,{type:"text/javascript",charset:"UTF-8",src:b});g=d.getElementsByTagName("HEAD");(!g||z.Jb(g)?d.documentElement:g[0]).appendChild(e);h.length&&(H.zn.push([l,l,i]),H.di&&Re(H))};l()}}else this.lh[b].eI=d,c=new Me(d),
d=this.S,d.e(c,"success",v(this.Gx,this,c,b),n,k),d.e(c,"error",v(this.xx,this,c,b),n,k),c.load()}};a.$e=function(b,c){b.dispatchEvent(new af(bf,c));b.Qb.info("evaluateCode ids:"+c);var d=j,e=b.lh[c],g=e.eI,h=e.Yz;try{if(b.WU)for(var l=0;l<g.length;l++)Ba(h[l]+" //@ sourceURL="+g[l]);else Ba(h.join("\n"))}catch(m){d=n,b.Qb.Ik("Loaded incomplete code for module(s): "+c,m)}b.dispatchEvent(new af(cf,c));d?e.UA&&e.UA():df(b,c,e.yw,k);delete b.lh[c]};
t.Gx=function(b,c){this.Qb.info("Code loaded for module(s): "+c);var d=this.lh[c];d.Yz=b.ex();d.rG&&$e(this,c);Od(b.H,5,b)};t.xx=function(b,c,d){var e=this.lh[c];e&&(delete this.lh[c],df(this,c,e.yw,d));Od(b.H,5,b)};a.df=function(b,c,d,e){b.dispatchEvent(new af(ef,c));b.Qb.Ik("Request failed for module(s): "+c);d&&d(e)};t.z=function(){Ye.n.z.call(this);this.S.H();this.S=k};a.cf=Jd("evaluateCode"),a.bf=Jd("requestSuccess"),a.ef=Jd("requestError"),a.af=function(b,c){kd.call(this,b);this.m_=c};
y(af,kd);a.Ze=function(){this.Yz=this.eI=k;this.rG=n;this.yw=this.UA=k};a.ff=function(b,c){M.call(this);this.yG=c;this.Vg=[];b>this.yG&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var d=0;d<b;d++)this.Vg.push(this.fl())};y(ff,M);t=ff.prototype;t.pD=k;t.SD=k;a.gf=function(b,c){b.Vg.length<b.yG?b.Vg.push(c):b.hw(c)};t.fl=function(){return this.pD?this.pD():{}};t.hw=function(b){if(this.SD)this.SD(b);else if(ra(b))if(qa(b.H))b.H();else for(var c in b)delete b[c]};
t.z=function(){ff.n.z.call(this);for(var b=this.Vg;b.length;)this.hw(b.pop());delete this.Vg};a.kf=function(){this.$f=[];this.wz=new Rd;this.qu=this.iJ=this.jJ=this.SI=0;this.wk=new Rd;this.Lv=this.hJ=0;this.$y=1;this.vl=new ff(0,4E3);this.vl.fl=function(){return new hf};this.Op=new ff(0,50);this.Op.fl=function(){return new jf};var b=this;this.Lx=new ff(0,2E3);this.Lx.fl=function(){return String(b.$y++)};this.Lx.hw=ba();this.aN=3};kf.prototype.Ga=pe("goog.debug.Trace");a.jf=function(){this.yB=this.time=this.count=0};
jf.prototype.toString=function(){var b=[];b.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.yB&&b.push(" [VarAlloc = ",this.yB,"]");return b.join("")};a.hf=function(){},a.nf=function(b,c,d,e){var g=[];-1==d?g.push("    "):g.push(lf(b.Cr-d));g.push(" ",mf(b.Cr-c));0==b.Dr?g.push(" Start        "):1==b.Dr?(g.push(" Done "),g.push(lf(b.W_-b.startTime)," ms ")):g.push(" Comment      ");g.push(e,b);0<b.gJ&&g.push("[VarAlloc ",b.gJ,"] ");return g.join("")};
hf.prototype.toString=function(){return this.type==k?this.dD:"["+this.type+"] "+this.dD};kf.prototype.reset=function(b){this.aN=b;for(b=0;b<this.$f.length;b++){var c=this.vl.id;c&&gf(this.Lx,c);gf(this.vl,this.$f[b])}this.$f.length=0;this.wz.clear();this.SI=za();this.Lv=this.hJ=this.qu=this.iJ=this.jJ=0;c=this.wk.Hb();for(b=0;b<c.length;b++){var d=this.wk.get(c[b]);d.count=0;d.time=0;d.yB=0;gf(this.Op,d)}this.wk.clear()};kf.prototype.zq=u(14);
kf.prototype.toString=function(){for(var b=[],c=-1,d=[],e=0;e<this.$f.length;e++){var g=this.$f[e];1==g.Dr&&d.pop();b.push(" ",nf(g,this.SI,c,d.join("")));c=g.Cr;b.push("\n");0==g.Dr&&d.push("|  ")}if(0!=this.wz.bb()){var h=za();b.push(" Unstopped timers:\n");O.forEach(this.wz,function(c){b.push("  ",c," (",h-c.startTime," ms, started at ",mf(c.startTime),")\n")})}c=this.wk.Hb();for(e=0;e<c.length;e++)d=this.wk.get(c[e]),1<d.count&&b.push(" TOTAL ",d,"\n");b.push("Total tracers created ",this.hJ,
"\n","Total comments created ",this.Lv,"\n","Overhead start: ",this.jJ," ms\n","Overhead end: ",this.iJ," ms\n","Overhead comment: ",this.qu," ms\n");return b.join("")};a.lf=function(b){var b=Math.round(b),c="";1E3>b&&(c=" ");100>b&&(c="  ");10>b&&(c="   ");return c+b},a.mf=function(b){b=Math.round(b);return String(100+b/1E3%60).substring(1,3)+"."+String(1E3+b%1E3).substring(1,4)};new kf;a.of=function(b){return function(){return b}},a.pf=of(n),a.qf=of(j),a.rf=function(b){return b},a.sf=function(b,c){var d=arguments,e=d.length;return function(){var b;e&&(b=d[e-1].apply(this,arguments));for(var c=e-2;0<=c;c--)b=d[c].call(this,b);return b}},a.tf=function(b){return function(){return!b.apply(this,arguments)}};a.uf=function(){M.call(this)};y(uf,M);a.vf=function(b,c){this.Lr=b;this.ha=c};vf.prototype.execute=function(b){this.Lr&&(this.Lr.call(this.ha||k,b),this.Lr=this.ha=k)};vf.prototype.abort=function(){this.ha=this.Lr=k};a.wf=function(b,c){M.call(this);this.KD=b;this.Jd=c;this.rz=[];this.fz=[];this.YD=[]};y(wf,M);t=wf.prototype;t.Bg=k;t.lR=uf;t.Wy=k;t.ce=q("Jd");t.kx=function(){var b=[];return jQuery.support.cors?this.Bg:ma(this.Bg)?(z.forEach(this.Bg,function(c){b.push(xf(new yf(c)))}),b):xf(new yf(this.Bg))};t.yt=function(b,c){return this.zt(this.rz,b,c)};t.zt=function(b,c,d){c=new vf(c,d);b.push(c);return c};t.Ld=function(){return!!this.Wy};
t.cp=function(b){var c=new this.lR;b();this.Wy=c;c=(c=!!zf(this.YD,b()))||!!zf(this.rz,b());c||(this.fz.length=0);return c};t.wi=function(b){if(b=zf(this.fz,b)){var c="Module errback failures: "+b;window.setTimeout(function(){f(Error(c))},0)}this.YD.length=0;this.rz.length=0};a.zf=function(b,c){for(var d=[],e=0;e<b.length;e++)try{b[e].execute(c)}catch(g){d.push(g)}b.length=0;return d.length?d:k};t.z=function(){wf.n.z.call(this);Xc(this.Wy)};a.Af=function(){M.call(this);this.qd={};this.yf=[];this.mk=[];this.ud=[];this.Oi=[];this.Tq={};this.BD=this.Nq=new wf([],"")};y(Af,M);ia(Af);t=Af.prototype;t.Ga=pe("goog.module.ModuleManager");t.GC=n;t.Ey=k;t.dr=0;t.cG=n;t.BJ=n;t.KG=k;t.FE=q("KG");t.bc=function(){return 0<this.yf.length};
a.Cf=function(b){var c=b.bc();c!=b.cG&&(Bf(b,c?"active":"idle"),b.cG=c);c=0<b.Oi.length;c!=b.BJ&&(Bf(b,c?"userActive":"userIdle"),b.BJ=c)},a.Ef=function(b,c,d,e,g){d.yt(g.bl,g);d.zt(d.fz,function(b){Oe(g,Error(b))},i);Df(b,c)?e&&(b.Ga.info("User initiated module already loading: "+c),z.contains(b.Oi,c)||b.Oi.push(c),Cf(b)):e?(b.Ga.info("User initiated module load: "+c),z.contains(b.Oi,c)||b.Oi.push(c)):b.Ga.info("Initiating module load: "+c)},a.Gf=function(b,c){z.Jb(b.yf)?Ff(b,c):(b.ud.push(c),Cf(b))},
a.Ff=function(b,c,d,e){d||(b.dr=0);for(var g=0;g<c.length;g++)b.qd[c[g]].Ld()&&f(Error("Module already loaded: "+c[g]));d=[];for(g=0;g<c.length;g++)d=d.concat(Hf(b,c[g]));z.lp(d);!b.GC&&1<d.length&&(g=d.shift(),b.Ga.info("Must load "+g+" module before "+c),b.ud=z.map(d,function(b){return[b]}).concat(b.ud),d=[g]);b.Ga.info("Loading module(s): "+d);b.yf=d;b.mk=b.GC?c:z.clone(d);Cf(b);c=v(b.Ey.SQ,b.Ey,z.clone(d),b.qd,k,v(b.QO,b),v(b.RO,b),!!e);(b=5E3*Math.pow(b.dr,2))?window.setTimeout(c,b):c()},a.Hf=
function(b,c){for(var d=[c],e=z.clone(b.qd[c].KD);e.length;){var g=e.pop();b.qd[g].Ld()||(d.unshift(g),Array.prototype.unshift.apply(e,b.qd[g].KD))}z.lp(d);return d},a.Lf=function(b){var c=Af.U();c.Sg?c.Ga.Ik("Module loaded after module manager was disposed: "+b):(c.Ga.info("Module loaded: "+b),c.qd[b].cp(v(c.FE,c))&&If(c,Jf),z.remove(c.Oi,b),z.remove(c.yf,b),z.Jb(c.yf)&&Kf(c),Cf(c))},a.Df=function(b,c){if(z.contains(b.yf,c))return j;for(var d=0;d<b.ud.length;d++)if(z.contains(b.ud[d],c))return j;
return n};t.load=function(b,c){var d=[];z.lp([b],d);for(var e=[],g={},h=0;h<d.length;h++){var l=d[h],m=this.qd[l],p=new Ne;g[l]=p;m.Ld()?p.bl(this.KG):(Ef(this,l,m,!!c,p),Df(this,l)||e.push(l))}0<e.length&&Gf(this,e);return g[b]};a.Jf=4;t=Af.prototype;
t.QO=function(b){this.dr++;401==b?(this.Ga.info("Module loading unauthorized"),If(this,0),this.ud.length=0):410==b?(Mf(this,3),Kf(this)):3<=this.dr?(this.Ga.info("Aborting after failure to load: "+this.yf),Mf(this,1),Kf(this)):(this.Ga.info("Retrying after failure to load: "+this.yf),Ff(this,this.mk,j,8001==b))};t.RO=function(){this.Ga.info("Aborting after timeout: "+this.yf);Mf(this,2);Kf(this)};
a.Mf=function(b,c){1<b.mk.length?b.ud=z.map(b.mk,function(b){return[b]}).concat(b.ud):If(b,c)},a.If=function(b,c){var d=b.mk;b.yf.length=0;for(var e=[],g=0;g<b.ud.length;g++){var h=z.filter(b.ud[g],function(b){var c=Hf(this,b);return z.some(d,function(b){return z.contains(c,b)})},b);z.extend(e,h)}for(g=0;g<d.length;g++)z.us(e,d[g]);for(g=0;g<e.length;g++){for(h=0;h<b.ud.length;h++)z.remove(b.ud[h],e[g]);z.remove(b.Oi,e[g])}var l=b.Tq.error;if(l)for(g=0;g<l.length;g++)for(var m=l[g],h=0;h<e.length;h++)m("error",
e[h],c);for(g=0;g<d.length;g++)b.qd[d[g]]&&b.qd[d[g]].wi(c);b.mk.length=0;Cf(b)},a.Kf=function(b){for(;b.ud.length;){var c=z.filter(b.ud.shift(),function(b){return!this.qd[b].Ld()},b);if(0<c.length){Ff(b,c);return}}Cf(b)};t.yt=function(b,c){ma(b)||(b=[b]);for(var d=0;d<b.length;d++)this.zt(b[d],c)};t.zt=function(b,c){var d=this.Tq;d[b]||(d[b]=[]);d[b].push(c)};a.Bf=function(b,c){for(var d=b.Tq[c],e=0;d&&e<d.length;e++)d[e](c)};
t.z=function(){Af.n.z.call(this);Wc(F.La(this.qd),this.Nq);this.Tq=this.ud=this.Oi=this.mk=this.yf=this.qd=k};a.Nf=function(b){this.Ja=b},a.Of=/\s*;\s*/;t=Nf.prototype;t.isEnabled=function(){return navigator.cookieEnabled};t.set=function(b,c,d,e,g,h){/[;=\s]/.test(b)&&f(Error('Invalid cookie name "'+b+'"'));/[;\r\n]/.test(c)&&f(Error('Invalid cookie value "'+c+'"'));la(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";h=h?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(za()+1E3*d)).toUTCString();this.Ja.cookie=b+"="+c+g+e+d+h};
t.get=function(b,c){for(var d=b+"=",e=(this.Ja.cookie||"").split(Of),g=0,h;h=e[g];g++){if(0==h.lastIndexOf(d,0))return h.substr(d.length);if(h==b)return""}return c};t.remove=function(b,c,d){var e=this.Ud(b);this.set(b,"",0,c,d);return e};t.Hb=function(){return Pf(this).keys};t.La=function(){return Pf(this).CJ};t.Jb=function(){return!this.Ja.cookie};t.bb=function(){return!this.Ja.cookie?0:(this.Ja.cookie||"").split(Of).length};t.Ud=function(b){return la(this.get(b))};
t.Ng=function(b){for(var c=Pf(this).CJ,d=0;d<c.length;d++)if(c[d]==b)return j;return n};t.clear=function(){for(var b=Pf(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};a.Pf=function(b){for(var b=(b.Ja.cookie||"").split(Of),c=[],d=[],e,g,h=0;g=b[h];h++)e=g.indexOf("="),-1==e?(c.push(""),d.push(g)):(c.push(g.substring(0,e)),d.push(g.substring(e+1)));return{keys:c,CJ:d}},a.Qf=new Nf(document);Qf.CX=3950;a.Rf=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};Rf.prototype.clone=function(){return new Rf(this.top,this.right,this.bottom,this.left)};Rf.prototype.contains=function(b){return!this||!b?n:b instanceof Rf?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom};Rf.prototype.expand=u(62);
a.Sf=function(b,c){var d=c.x<b.left?c.x-b.left:c.x>b.right?c.x-b.right:0,e=c.y<b.top?c.y-b.top:c.y>b.bottom?c.y-b.bottom:0;return Math.sqrt(d*d+e*e)};a.Tf=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};Tf.prototype.clone=function(){return new Tf(this.left,this.top,this.width,this.height)};a.Uf=function(b){return new Rf(b.top,b.left+b.width,b.top+b.height,b.left)};
Tf.prototype.MF=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top),b=Math.min(this.top+this.height,b.top+b.height);if(e<=b)return this.left=c,this.top=e,this.width=d-c,this.height=b-e,j}return n};
Tf.prototype.contains=function(b){return b instanceof Tf?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};Tf.prototype.Ll=function(){return new Rb(this.width,this.height)};a.Wf=function(b,c,d){oa(c)?Vf(b,d,c):F.forEach(c,xa(Vf,b))},a.Vf=function(b,c,d){(d=Xf(b,d))&&(b.style[d]=c)},a.Xf=function(b,c){var d=gb(c);if(b.style[d]===i){var e=D?"Webkit":C?"Moz":A?"ms":tb?"O":k,g;g=oa(i)?$a(i):"\\s";g=c.replace(RegExp("(^"+(g?"|["+g+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()});e+=g;if(b.style[e]!==i)return e}return d},a.Yf=function(b,c){var d=Ub(b);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,k))?d[c]||d.getPropertyValue(c)||
"":""},a.Zf=function(b,c){return b.currentStyle?b.currentStyle[c]:k},a.$f=function(b,c){return Yf(b,c)||Zf(b,c)||b.style&&b.style[c]},a.ag=function(b){return $f(b,"position")},a.cg=function(b,c,d){var e,g=C&&(mb||xb)&&Gb("1.9");c instanceof Pb?(e=c.x,c=c.y):(e=c,c=d);b.style.left=bg(e,g);b.style.top=bg(c,g)},a.dg=function(b){b=b?Ub(b):document;return A&&!Ib(9)&&!Oc(Vb(b))?b.body:b.documentElement},a.eg=function(b){var c=b.getBoundingClientRect();A&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+
b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c},a.fg=function(b){if(A&&!Ib(8))return b.offsetParent;for(var c=Ub(b),d=$f(b,"position"),e="fixed"==d||"absolute"==d,b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=$f(b,"position"),e=e&&"static"==d&&b!=c.documentElement&&b!=c.body,!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return b;return k},a.ig=function(b){for(var c=new Rf(0,Infinity,Infinity,0),d=Vb(b),e=d.za().body,
g=d.za().documentElement,h=bc(d.Ja);b=fg(b);)if((!A||0!=b.clientWidth)&&(!D||0!=b.clientHeight||b!=e)&&b!=e&&b!=g&&"visible"!=$f(b,"overflow")){var l=gg(b),m;m=b;if(C&&!Gb("1.9")){var p=parseFloat(Yf(m,"borderLeftWidth"));if(hg(m))var r=m.offsetWidth-m.clientWidth-p-parseFloat(Yf(m,"borderRightWidth")),p=p+r;m=new Pb(p,parseFloat(Yf(m,"borderTopWidth")))}else m=new Pb(m.clientLeft,m.clientTop);l.x+=m.x;l.y+=m.y;c.top=Math.max(c.top,l.y);c.right=Math.min(c.right,l.x+b.clientWidth);c.bottom=Math.min(c.bottom,
l.y+b.clientHeight);c.left=Math.max(c.left,l.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=ac(d.Ta());c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:k},a.kg=function(b,c){var d,e=gg(b),g=gg(c),h=jg(c);d=e.x-g.x-h.left;var e=e.y-g.y-h.top,g=c.clientHeight-b.offsetHeight,h=c.scrollLeft,l=c.scrollTop,h=h+Math.min(d,Math.max(d-(c.clientWidth-b.offsetWidth),0)),l=l+Math.min(e,
Math.max(e-g,0));d=new Pb(h,l);c.scrollLeft=d.x;c.scrollTop=d.y},a.gg=function(b){var c,d=Ub(b),e=$f(b,"position"),g=C&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),h=new Pb(0,0),l=dg(d);if(b==l)return h;if(b.getBoundingClientRect)c=eg(b),b=Pc(Vb(d)),h.x=c.left+b.x,h.y=c.top+b.y;else if(d.getBoxObjectFor&&!g)c=d.getBoxObjectFor(b),b=d.getBoxObjectFor(l),h.x=c.screenX-b.screenX,h.y=c.screenY-b.screenY;else{c=b;do{h.x+=c.offsetLeft;
h.y+=c.offsetTop;c!=b&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(D&&"fixed"==ag(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(tb||D&&"absolute"==e)h.y-=d.body.offsetTop;for(c=b;(c=fg(c))&&c!=d.body&&c!=l;)if(h.x-=c.scrollLeft,!tb||"TR"!=c.tagName)h.y-=c.scrollTop}return h},a.mg=function(b,c){var d=lg(b),e=lg(c);return new Pb(d.x-e.x,d.y-e.y)},a.lg=function(b){var c=new Pb;if(1==b.nodeType){if(b.getBoundingClientRect){var d=eg(b);c.x=d.left;c.y=d.top}else{var d=
Pc(Vb(b)),e=gg(b);c.x=e.x-d.x;c.y=e.y-d.y}if(C&&!Gb(12)){var g;A?g="-ms-transform":D?g="-webkit-transform":tb?g="-o-transform":C&&(g="-moz-transform");var h;g&&(h=$f(b,g));h||(h=$f(b,"transform"));h?(b=h.match(ng),b=!b?new Pb(0,0):new Pb(parseFloat(b[1]),parseFloat(b[2]))):b=new Pb(0,0);c=new Pb(c.x+b.x,c.y+b.y)}}else g=qa(b.xE),h=b,b.targetTouches?h=b.targetTouches[0]:g&&b.Zb.targetTouches&&(h=b.Zb.targetTouches[0]),c.x=h.clientX,c.y=h.clientY;return c},a.og=function(b,c,d){var e=gg(b);c instanceof
Pb&&(d=c.y,c=c.x);cg(b,b.offsetLeft+(c-e.x),b.offsetTop+(d-e.y))},a.pg=function(b,c,d){c instanceof Rb?(d=c.height,c=c.width):d==i&&f(Error("missing height argument"));b.style.width=bg(c,j);b.style.height=bg(d,j)},a.bg=function(b,c){"number"==typeof b&&(b=(c?Math.round(b):b)+"px");return b},a.rg=function(b){if("none"!=$f(b,"display"))return qg(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=qg(b);c.display=d;c.position=g;c.visibility=
e;return b},a.qg=function(b){var c=b.offsetWidth,d=b.offsetHeight,e=D&&!c&&!d;return(!la(c)||e)&&b.getBoundingClientRect?(b=eg(b),new Rb(b.right-b.left,b.bottom-b.top)):new Rb(c,d)},a.sg=function(b){var c=gg(b),b=rg(b);return new Tf(c.x,c.y,b.width,b.height)},a.tg=function(b,c){var d=b.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")},a.Q=function(b,c){b.style.display=c?"":"none"},a.ug=function(b){return"none"!=b.style.display},
a.hg=function(b){return"rtl"==$f(b,"direction")},a.vg=C?"MozUserSelect":D?"WebkitUserSelect":k,a.wg=function(b,c,d){d=!d?b.getElementsByTagName("*"):k;if(vg){if(c=c?"none":"",b.style[vg]=c,d)for(var b=0,e;e=d[b];b++)e.style[vg]=c}else if(A||tb)if(c=c?"on":"",b.setAttribute("unselectable",c),d)for(b=0;e=d[b];b++)e.setAttribute("unselectable",c)},a.xg=function(b){return new Rb(b.offsetWidth,b.offsetHeight)},a.yg=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var g=b.style[d],h=b.runtimeStyle[d];
b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=g;b.runtimeStyle[d]=h;return c},a.zg=function(b,c){var d=Zf(b,c);return d?yg(b,d,"left","pixelLeft"):0},a.Ag=function(b){if(A){var c=zg(b,"paddingLeft"),d=zg(b,"paddingRight"),e=zg(b,"paddingTop"),b=zg(b,"paddingBottom");return new Rf(e,d,b,c)}c=Yf(b,"paddingLeft");d=Yf(b,"paddingRight");e=Yf(b,"paddingTop");b=Yf(b,"paddingBottom");return new Rf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.Bg={thin:2,medium:4,
thick:6},a.Cg=function(b,c){if("none"==Zf(b,c+"Style"))return 0;var d=Zf(b,c+"Width");return d in Bg?Bg[d]:yg(b,d,"left","pixelLeft")},a.jg=function(b){if(A){var c=Cg(b,"borderLeft"),d=Cg(b,"borderRight"),e=Cg(b,"borderTop"),b=Cg(b,"borderBottom");return new Rf(e,d,b,c)}c=Yf(b,"borderLeftWidth");d=Yf(b,"borderRightWidth");e=Yf(b,"borderTopWidth");b=Yf(b,"borderBottomWidth");return new Rf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.ng=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;a.Dg="/update",a.Eg=n;a.Fg=void 0,a.Gg=void 0,a.Hg=void 0,a.Ig=void 0,a.Jg=void 0,a.Kg=void 0,a.Lg=void 0;Lg=Kg=Jg=Ig=Hg=Gg=Fg=n;a.Mg=pb();Mg&&(-1!=Mg.indexOf("Firefox")?Fg=j:-1!=Mg.indexOf("Camino")?Gg=j:-1!=Mg.indexOf("iPhone")||-1!=Mg.indexOf("iPod")?Hg=j:-1!=Mg.indexOf("iPad")?Ig=j:-1!=Mg.indexOf("Android")?Jg=j:-1!=Mg.indexOf("Chrome")?Kg=j:-1!=Mg.indexOf("Safari")&&(Lg=j));a.Ng=Fg,a.Og=Gg,a.Pg=Hg,a.Qg=Ig,a.Rg=Jg,a.Sg=Kg,a.Tg=Lg;a.Ug=void 0,a.Vg=void 0,a.Wg=void 0,a.Xg=void 0,a.Yg=Pg||Qg,a.Zg=Yg&&navigator.userAgent.match(/OS\s(\w+)/)[1].slice(0,3).replace(/_/g,".");Ug="contentEditable"in document.documentElement&&!(Yg&&5>Zg)&&!(Rg&&3>navigator.userAgent.match(/Android (\d)/)[1]);a.$g=$(document.documentElement);Vg="ontouchstart"in window;$g.addClass(ub?"mobile":"no-mobile");Wg=Yg&&6<=Zg||!ub;document.createElement("input");Xg=1.5<=window.devicePixelRatio;window.JSON||(window.JSON={parse:$c,stringify:cd});a.ah=void 0;
"orientation"in window&&(ah=function(){var b={"0":"portrait",90:"landscape landscape-left","-90":"landscape landscape-right"},c=b[window.orientation]||"";$g.removeClass(F.La(b).join(" ")).addClass(c)},$(window).on("orientationchange",ah),ah());$.support.fixedPosition=j;a:{var bh=document.createElement("bootstrap"),ch={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},dh;for(dh in ch)if(bh.style[dh]!==i)break a};a.eh=void 0,a.fh=void 0,a.R=void 0,a.gh=void 0,a.hh=void 0,a.ih=void 0,a.jh=void 0,a.kh=void 0,a.lh=void 0,a.mh=void 0,a.nh=void 0,a.oh=void 0,a.ph=void 0,a.qh=void 0,a.rh=void 0,a.sh=void 0,a.th=void 0,a.uh=void 0,a.vh={},a.wh={},a.xh=z.reduce($("script.json-inline"),function(b,c){var d=$(c).data("name");b[d]=JSON.parse(c.text);return b},{});
F.forEach(xh,function(b,c){switch(c){case "form_key":eh=b;break;case "redirect_to":fh=b;break;case "current_user":R=b;R.Rw=b[0];R.Ia=function(){return"-1"!==R[3]};R.No=b[3];R.Jg=1===b[7];R.ul=b[8];R.Lo=b[9];R.OZ=b[10];R.Zy=b[11];R.SN=function(){return R[2].replace("_s","_is")};break;case "env":gh={qp:b[0],cr:b[1],Bc:b[2],PF:b[3],V_:"http://static."+b[0],ZF:n,Y_:j};break;case "env_comet_path":gh.cr=b;break;case "current_question":hh={oa:b[0],ze:b[1],$q:b[2],Tm:b[3],fZ:b[4],hn:b[5],mb:b[6],ky:b[7],
YZ:b[8],$_:b[9],rZ:b[10],wb:b[11],fV:b[12],hk:b[13],RY:b[14],status:b[15]};break;case "my_answer":ih=b;break;case "current_question_owner":R.hk=b;break;case "need_first_answer_guide":R.AN=b;break;case "bio":jh=b;break;case "current_topic":kh=b;break;case "current_people":lh=b;lh.Rw=b[0];lh.id=b[3];break;case "current_list":mh=b;break;case "block_topic":nh=b;break;case "draft":oh=b.length?b:k;break;case "editing_queue":ph=b;break;case "sina_bind_info":b.length&&(vh.id=b[0],vh.name=b[1]);break;case "qq_bind_info":b.length&&
(wh.id=b[0],wh.name=b[1]);break;case "disabled_components":qh=b;break;case "comet_path":Dg=b;break;case "enforce_realname":rh=b;break;case "action_ban":sh=b;break;case "permissions":th=b,uh=function(b){return z.contains(th,b)}}});hh&&(hh.VF=n);qh||(qh=[]);navigator.userAgent.match(/iPad/i)&&(gh.ZF=j,gh.Bc=j);gh.qp&&(document.domain=gh.qp);gh.cr&&(Dg="http://"+gh.cr+Dg);gh.Bc&&window.scrollTo(0,1);a.zh=function(b,c,d,e,g){if(!A&&(!D||!Gb("525")))return j;if(mb&&g)return yh(b);if(g&&!e||!d&&(17==c||18==c||mb&&91==c))return n;if(D&&e&&d)switch(b){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return n}if(A&&e&&c==b)return n;switch(b){case 13:return!(A&&Ib(9));case 27:return!D}return yh(b)},a.yh=function(b){if(48<=b&&57>=b||96<=b&&106>=b||65<=b&&90>=b||D&&0==b)return j;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return n}},a.Ah=function(b){switch(b){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return b}};a.Bh=function(b){var c=b.offsetLeft,d=b.offsetParent;!d&&"fixed"==ag(b)&&(d=Ub(b).documentElement);if(!d)return c;if(C)var e=jg(d),c=c+e.left;else Ib(8)&&(e=jg(d),c-=e.left);return hg(d)?d.clientWidth-(c+b.offsetWidth):c};a.Ch=function(b,c,d){M.call(this);this.target=b;this.handle=c||b;this.Ns=d||new Tf(NaN,NaN,NaN,NaN);this.Ja=Ub(b);this.S=new qe(this);N(this.handle,["touchstart","mousedown"],this.Rm,n,this)};y(Ch,Kd);a.Dh=A||C&&Gb("1.9.3");t=Ch.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.$t=0;t.au=0;t.gj=0;t.hj=0;t.jc=j;t.lj=n;t.Kx=0;t.mR=0;t.NP=n;t.Ni=n;t.bi=ca("Ni");t.h=q("S");t.AI=function(b){this.Kx=Math.pow(b,2)};t.Ya=ca("jc");
t.z=function(){Ch.n.z.call(this);Bd(this.handle,["touchstart","mousedown"],this.Rm,n,this);this.S.Sc();Dh&&this.Ja.releaseCapture();this.S=this.handle=this.target=k};a.Eh=function(b){la(b.Cf)||(b.Cf=hg(b.target));return b.Cf};
t.Rm=function(b){var c="mousedown"==b.type;if(this.jc&&!this.lj&&(!c||rd(b))){Fh(b);if(0==this.Kx)if(this.dispatchEvent(new Gh("start",this,b.clientX,b.clientY,b)))this.lj=j,b.preventDefault();else return;else b.preventDefault();var c=this.Ja,d=c.documentElement,e=!Dh;this.S.e(c,["touchmove","mousemove"],this.VO,e);this.S.e(c,["touchend","mouseup"],this.Ar,e);Dh?(d.setCapture(n),this.S.e(d,"losecapture",this.Ar)):this.S.e(dc(c),"blur",this.Ar);A&&this.NP&&this.S.e(c,"dragstart",ld);this.mU&&this.S.e(this.mU,
"scroll",this.lz,e);this.clientX=this.$t=b.clientX;this.clientY=this.au=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.gj=this.Ni?Bh(this.target):this.target.offsetLeft;this.hj=this.target.offsetTop;this.zz=Pc(Vb(this.Ja));this.mR=za()}else this.dispatchEvent("earlycancel")};
t.Ar=function(b,c){this.S.Sc();Dh&&this.Ja.releaseCapture();if(this.lj){Fh(b);this.lj=n;var d=Hh(this,this.gj),e=Ih(this,this.hj);this.dispatchEvent(new Gh("end",this,b.clientX,b.clientY,b,d,e,c||"touchcancel"==b.type))}else this.dispatchEvent("earlycancel");("touchend"==b.type||"touchcancel"==b.type)&&b.preventDefault()};a.Fh=function(b){var c=b.type;"touchstart"==c||"touchmove"==c?b.B(b.Zb.targetTouches[0],b.currentTarget):("touchend"==c||"touchcancel"==c)&&b.B(b.Zb.changedTouches[0],b.currentTarget)};
t.VO=function(b){if(this.jc){Fh(b);var c=(this.Ni&&Eh(this)?-1:1)*(b.clientX-this.clientX),d=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.lj){var e=this.$t-this.clientX,g=this.au-this.clientY;if(e*e+g*g>this.Kx)if(this.dispatchEvent(new Gh("start",this,b.clientX,b.clientY,b)))this.lj=j;else{this.Sg||this.Ar(b);return}}d=Jh(this,c,d);c=d.x;d=d.y;this.lj&&this.dispatchEvent(new Gh("beforedrag",this,b.clientX,b.clientY,b,
c,d))&&(Kh(this,b,c,d),b.preventDefault())}};a.Jh=function(b,c,d){var e=Pc(Vb(b.Ja)),c=c+(e.x-b.zz.x),d=d+(e.y-b.zz.y);b.zz=e;b.gj+=c;b.hj+=d;c=Hh(b,b.gj);b=Ih(b,b.hj);return new Pb(c,b)};t.lz=function(b){var c=Jh(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;Kh(this,b,c.x,c.y)};
a.Kh=function(b,c,d,e){b.Zv(d,e);b.dispatchEvent(new Gh("drag",b,c.clientX,c.clientY,c,d,e))},a.Hh=function(b,c){var d=b.Ns,e=!isNaN(d.left)?d.left:k,d=!isNaN(d.width)?d.width:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))},a.Ih=function(b,c){var d=b.Ns,e=!isNaN(d.top)?d.top:k,d=!isNaN(d.height)?d.height:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))};
t.Zv=function(b,c){this.Ni&&Eh(this)?this.target.style.right=b+"px":this.target.style.left=b+"px";this.target.style.top=c+"px"};a.Gh=function(b,c,d,e,g,h,l,m){kd.call(this,b);this.clientX=d;this.clientY=e;this.OC=g;this.left=la(h)?h:c.gj;this.top=la(l)?l:c.hj;this.vr=c;this.tZ=!!m};y(Gh,kd);a.Lh=function(b){M.call(this);this.g=b;b=A?"focusout":"blur";this.QQ=N(this.g,A?"focusin":"focus",this,!A);this.RQ=N(this.g,b,this,!A)};y(Lh,Kd);Lh.prototype.handleEvent=function(b){var c=new od(b.Zb);c.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(c)};Lh.prototype.z=function(){Lh.n.z.call(this);Dd(this.QQ);Dd(this.RQ);delete this.g};a.Mh=function(){};ia(Mh);Mh.prototype.$y=0;a.Nh=function(b){return":"+(b.$y++).toString(36)};Mh.U();a.T=function(b){M.call(this);this.K=b||Vb();this.Cf=Oh};y(T,Kd);T.prototype.MP=Mh.U();a.Oh=k,a.Ph=function(b,c){switch(b){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}f(Error("Invalid component state"))};t=T.prototype;t.Jd=k;t.Da=n;t.g=k;t.Cf=k;t.Vy=k;t.Wa=k;t.Yb=k;t.gf=k;t.FJ=n;
t.ce=function(){return this.Jd||(this.Jd=Nh(this.MP))};a.Qh=function(b,c){b.Wa&&b.Wa.gf&&(F.remove(b.Wa.gf,b.Jd),F.add(b.Wa.gf,c,b));b.Jd=c};t.m=q("g");t.fi=function(b){return this.g?this.K.fi(b,this.g):k};t.h=function(){return this.Ml||(this.Ml=new qe(this))};a.Sh=function(b,c){b==c&&f(Error("Unable to set parent component"));c&&(b.Wa&&b.Jd&&Rh(b.Wa,b.Jd)&&b.Wa!=c)&&f(Error("Unable to set parent component"));b.Wa=c;T.n.Rt.call(b,c)};t.getParent=q("Wa");
t.Rt=function(b){this.Wa&&this.Wa!=b&&f(Error("Method not supported"));T.n.Rt.call(this,b)};t.L=q("K");t.w=function(){this.g=this.K.createElement("div")};t.aa=function(b){this.Dt(b)};t.Dt=function(b,c){this.Da&&f(Error("Component already rendered"));this.g||this.w();b?b.insertBefore(this.g,c||k):this.K.za().body.appendChild(this.g);(!this.Wa||this.Wa.Da)&&this.C()};
t.o=function(b){this.Da&&f(Error("Component already rendered"));if(b&&this.Kc(b)){this.FJ=j;if(!this.K||this.K.za()!=Ub(b))this.K=Vb(b);this.$(b);this.C()}else f(Error("Invalid element to decorate"))};t.Kc=s(j);t.$=ca("g");t.C=function(){this.Da=j;Th(this,function(b){!b.Da&&b.m()&&b.C()})};t.ab=function(){Th(this,function(b){b.Da&&b.ab()});this.Ml&&this.Ml.Sc();this.Da=n};
t.z=function(){T.n.z.call(this);this.Da&&this.ab();this.Ml&&(this.Ml.H(),delete this.Ml);Th(this,function(b){b.H()});!this.FJ&&this.g&&L(this.g);this.Wa=this.Vy=this.g=this.gf=this.Yb=k};t.J=function(b,c){this.Uk(b,Uh(this),c)};
t.Uk=function(b,c,d){b.Da&&(d||!this.Da)&&f(Error("Component already rendered"));(0>c||c>Uh(this))&&f(Error("Child component index out of bounds"));if(!this.gf||!this.Yb)this.gf={},this.Yb=[];b.getParent()==this?(F.set(this.gf,b.ce(),b),z.remove(this.Yb,b)):F.add(this.gf,b.ce(),b);Sh(b,this);z.wo(this.Yb,b,c);b.Da&&this.Da&&b.getParent()==this?(d=this.fa(),d.insertBefore(b.m(),d.childNodes[c]||k)):d?(this.g||this.w(),c=Vh(this,c+1),b.Dt(this.fa(),c?c.g:k)):this.Da&&(!b.Da&&b.g&&b.g.parentNode&&1==
b.g.parentNode.nodeType)&&b.C()};t.fa=q("g");t.Md=function(){this.Cf==k&&(this.Cf=hg(this.Da?this.g:this.K.za().body));return this.Cf};t.Fi=function(b){this.Da&&f(Error("Component already rendered"));this.Cf=b};a.Uh=function(b){return b.Yb?b.Yb.length:0},a.Rh=function(b,c){return b.gf&&c?F.get(b.gf,c)||k:k},a.Vh=function(b,c){return b.Yb?b.Yb[c]||k:k},a.Th=function(b,c,d){b.Yb&&z.forEach(b.Yb,c,d)};
t.removeChild=function(b,c){if(b){var d=oa(b)?b:b.ce(),b=Rh(this,d);d&&b&&(F.remove(this.gf,d),z.remove(this.Yb,b),c&&(b.ab(),b.g&&L(b.g)),Sh(b,k))}b||f(Error("Child is not in parent component"));return b};t.Bt=function(b){for(var c=[];this.Yb&&0!=this.Yb.length;)c.push(this.removeChild(Vh(this,0),b));return c};a.Wh=function(b,c){M.call(this);this.ha=new qe(this);this.rh(b||k);c&&(this.Ki=c)};y(Wh,Kd);t=Wh.prototype;t.g=k;t.Zk=j;t.BC=k;t.Pj=n;t.CU=n;t.vy=-1;t.ty=-1;t.pF=n;t.qN=j;t.Ki="toggle_display";t.ji=q("Ki");t.m=q("g");t.rh=function(b){Xh(this);this.g=b};t.wp=u(60);a.Xh=function(b){b.Pj&&f(Error("Can not change this state of the popup while showing."))};t.V=q("Pj");t.ly=u(53);t.F=function(b){this.Jp&&this.Jp.stop();this.po&&this.po.stop();b?this.CA():this.Ul()};t.pa=ha;
t.CA=function(){if(!this.Pj&&this.Vo()){this.g||f(Error("Caller must call setElement before trying to show the popup"));this.pa();var b=Ub(this.g);this.pF&&this.ha.e(b,"keydown",this.QR,j);if(this.Zk)if(this.ha.e(b,"mousedown",this.dH,j),A){var c;try{c=b.activeElement}catch(d){}for(;c&&"IFRAME"==c.nodeName;){try{var e=c.contentDocument||c.contentWindow.document}catch(g){break}b=e;c=b.activeElement}this.ha.e(b,"mousedown",this.dH,j);this.ha.e(b,"deactivate",this.bH)}else this.ha.e(b,"blur",this.bH);
"toggle_display"==this.Ki?(this.g.style.visibility="visible",Q(this.g,j)):"move_offscreen"==this.Ki&&this.pa();this.Pj=j;this.Jp?(Ad(this.Jp,"end",this.gt,n,this),this.Jp.play()):this.gt()}};t.Ul=function(b){if(!this.Pj||!this.dispatchEvent({type:"beforehide",target:b}))return n;this.ha&&this.ha.Sc();this.Pj=n;this.ty=za();this.po?(Ad(this.po,"end",xa(this.nD,b),n,this),this.po.play()):this.nD(b);return j};
t.nD=function(b){"toggle_display"==this.Ki?this.CU?Od(this.qF,0,this):this.qF():"move_offscreen"==this.Ki&&(this.g.style.top="-10000px");this.$j(b)};t.qF=function(){this.g.style.visibility="hidden";Q(this.g,n)};t.Vo=function(){return this.dispatchEvent("beforeshow")};t.gt=function(){this.vy=za();this.ty=-1;this.dispatchEvent("show")};t.$j=function(b){this.dispatchEvent({type:"hide",target:b})};t.dH=function(b){b=b.target;!vc(this.g,b)&&((!this.BC||vc(this.BC,b))&&!(150>za()-this.vy))&&this.Ul(b)};
t.QR=function(b){27==b.keyCode&&this.Ul(b.target)&&(b.preventDefault(),b.stopPropagation())};t.bH=function(b){if(this.qN){var c=Ub(this.g);if(A||tb){if(b=c.activeElement,!b||vc(this.g,b)||"BODY"==b.tagName)return}else if(b.target!=c)return;150>za()-this.vy||this.Ul()}};t.z=function(){Wh.n.z.call(this);this.ha.H();Xc(this.Jp);Xc(this.po);delete this.g;delete this.ha};a.Yh=function(b,c){T.call(this,c);this.UV=!!b};y(Yh,T);t=Yh.prototype;t.Jw=k;t.nb=n;t.Xc=k;t.Jc=k;t.Jf=k;t.P=s("goog-modalpopup");t.Zn=q("Xc");t.w=function(){Yh.n.w.call(this);var b=this.m();E.add(b,this.P());Gc(b,j);Q(b,n);this.Hy();Zh(this)};
t.Hy=function(){this.UV&&!this.Jc&&(this.Jc=this.L().w("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.Jc.className=this.P()+"-bg",Q(this.Jc,n),tg(this.Jc,0));this.Xc||(this.Xc=this.L().w("div",this.P()+"-bg"),Q(this.Xc,n))};a.Zh=function(b){b.Jf||(b.Jf=b.L().createElement("span"),Q(b.Jf,n),Gc(b.Jf,j),b.Jf.style.position="absolute")};t.Kc=function(b){return!!b&&"DIV"==b.tagName};
t.$=function(b){Yh.n.$.call(this,b);E.add(this.m(),this.P());this.Hy();Zh(this);Q(this.m(),n)};t.C=function(){this.Jc&&mc(this.Jc,this.m());mc(this.Xc,this.m());Yh.n.C.call(this);nc(this.Jf,this.m());this.Jw=new Lh(this.L().za());this.h().e(this.Jw,"focusin",this.VR)};t.ab=function(){this.V()&&this.F(n);Xc(this.Jw);Yh.n.ab.call(this);L(this.Jc);L(this.Xc);L(this.Jf)};
t.F=function(b){b!=this.nb&&(this.sm&&this.sm.stop(),this.qn&&this.qn.stop(),this.rm&&this.rm.stop(),this.pn&&this.pn.stop(),b?this.CA():this.Ul())};t.CA=function(){this.dispatchEvent("beforeshow")&&(this.Xz(),this.pa(),this.h().e(this.L().Ta(),"resize",this.Xz),$h(this,j),this.focus(),this.nb=j,this.sm&&this.qn?(Ad(this.sm,"end",this.xi,n,this),this.qn.play(),this.sm.play()):this.xi())};
t.Ul=function(){this.dispatchEvent("beforehide")&&(this.h().ya(this.L().Ta(),"resize",this.Xz),this.nb=n,this.rm&&this.pn?(Ad(this.rm,"end",this.jm,n,this),this.pn.play(),this.rm.play()):this.jm())};a.$h=function(b,c){b.Jc&&Q(b.Jc,c);b.Xc&&Q(b.Xc,c);Q(b.m(),c);Q(b.Jf,c)};t.xi=function(){this.dispatchEvent("show")};t.jm=function(){$h(this,n);this.dispatchEvent("hide")};t.V=q("nb");t.focus=function(){this.oE()};
t.Xz=function(){this.Jc&&Q(this.Jc,n);this.Xc&&Q(this.Xc,n);var b=this.L().za(),c=ac(dc(b)||window),d=Math.max(c.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(c.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.Jc&&(Q(this.Jc,j),pg(this.Jc,d,b));this.Xc&&(Q(this.Xc,j),pg(this.Xc,d,b))};
t.pa=function(){var b=this.L().za(),c=dc(b)||window;if("fixed"==ag(this.m()))var d=b=0;else d=Pc(this.L()),b=d.x,d=d.y;var e=rg(this.m()),c=ac(c),b=Math.max(b+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);cg(this.m(),b,d);cg(this.Jf,b,d)};t.VR=function(b){b.target==this.Jf&&Od(this.oE,0,this)};t.oE=function(){try{A&&this.L().za().body.focus(),this.m().focus()}catch(b){}};t.z=function(){Xc(this.sm);this.sm=k;Xc(this.rm);this.rm=k;Xc(this.qn);this.qn=k;Xc(this.pn);this.pn=k;Yh.n.z.call(this)};a.ai=function(b,c,d){Yh.call(this,c,d);this.Lc=b||"modal-dialog"};y(ai,Yh);t=ai.prototype;t.vN=j;t.oo=j;t.Uy=j;t.XD=j;t.Kq=0.5;t.lu="";t.vc="";t.Fb=k;t.Nn=n;t.Fc=k;t.Nf=k;t.ku=k;t.Mf=k;t.Fe=k;t.gc=k;t.ek=Zc.aK;t.P=q("Lc");t.lb=function(b){this.lu=b;this.Nf&&Ac(this.Nf,b)};t.Na=function(b){this.vc=b;this.Fe&&(this.Fe.innerHTML=b)};t.ib=q("vc");t.Dp=u(18);a.bi=function(b){b.m()||b.aa()};t.fa=function(){bi(this);return this.Fe};a.ci=function(b){bi(b);return b.Fc};t.Uw=function(){bi(this);return this.gc};
a.di=function(b){bi(b);return b.m()};t.Zn=function(){bi(this);return ai.n.Zn.call(this)};
a.ei=function(b,c){b.Kq=c;if(b.m()){var d=b.Zn();d&&tg(d,b.Kq)}},a.gi=function(b,c){c!=b.Uy&&fi(b,c)},a.fi=function(b,c){b.Uy=c;if(b.Da){var d=b.L(),e=b.Zn(),g=b.Jc;c?(g&&d.Zl(g,b.m()),d.Zl(e,b.m())):(d.removeNode(g),d.removeNode(e))}},a.hi=function(b,c){b.m()&&E.enable(b.Fc,b.Lc+"-title-draggable",c);c&&!b.Fb?(b.Fb=new Ch(b.m(),b.Fc),E.add(b.Fc,b.Lc+"-title-draggable"),N(b.Fb,"start",b.uU,n,b)):!c&&b.Fb&&(b.Fb.H(),b.Fb=k)};
t.w=function(){ai.n.w.call(this);var b=this.m(),c=this.L();this.Fc=c.w("div",{className:this.Lc+"-title",id:this.ce()},this.Nf=c.w("span",this.Lc+"-title-text",this.lu),this.Mf=c.w("span",this.Lc+"-title-close"));kc(b,this.Fc,this.Fe=c.w("div",this.Lc+"-content"),this.gc=c.w("div",this.Lc+"-buttons"));this.ku=this.Fc.id;Qc(b,this.ek);Rc(b,"labelledby",this.ku||"");this.vc&&(this.Fe.innerHTML=this.vc);Q(this.Mf,this.oo);this.uc&&(b=this.uc,b.g=this.gc,b.aa());Q(this.gc,!!this.uc);ei(this,this.Kq)};
t.$=function(b){ai.n.$.call(this,b);b=this.Lc+"-content";(this.Fe=Xb(k,b,this.m())[0])?this.vc=this.Fe.innerHTML:(this.Fe=this.L().w("div",b),this.vc&&(this.Fe.innerHTML=this.vc),this.m().appendChild(this.Fe));var b=this.Lc+"-title",c=this.Lc+"-title-text",d=this.Lc+"-title-close";(this.Fc=Xb(k,b,this.m())[0])?(this.Nf=Xb(k,c,this.Fc)[0],this.Mf=Xb(k,d,this.Fc)[0],this.Fc.id||(this.Fc.id=this.ce())):(this.Fc=this.L().w("div",{className:b,id:this.ce()}),this.m().insertBefore(this.Fc,this.Fe));this.ku=
this.Fc.id;this.Nf?this.lu=Ic(this.Nf):(this.Nf=this.L().w("span",c,this.lu),this.Fc.appendChild(this.Nf));Rc(this.m(),"labelledby",this.ku||"");this.Mf||(this.Mf=this.L().w("span",d),this.Fc.appendChild(this.Mf));Q(this.Mf,this.oo);b=this.Lc+"-buttons";(this.gc=Xb(k,b,this.m())[0])?(this.uc=new ii(this.L()),this.uc.o(this.gc)):(this.gc=this.L().w("div",b),this.m().appendChild(this.gc),this.uc&&(b=this.uc,b.g=this.gc,b.aa()),Q(this.gc,!!this.uc));ei(this,this.Kq)};
t.C=function(){ai.n.C.call(this);this.h().e(this.m(),"keydown",this.bp).e(this.m(),"keypress",this.bp);this.h().e(this.gc,"click",this.IR);hi(this,this.XD);this.h().e(this.Mf,"click",this.ES);Qc(this.m(),this.ek);""!==this.Nf.id&&Rc(this.m(),"labelledby",this.Nf.id);this.Uy||fi(this,n)};t.ab=function(){this.V()&&this.F(n);hi(this,n);ai.n.ab.call(this)};t.F=function(b){b!=this.V()&&(this.Da||this.aa(),ai.n.F.call(this,b))};t.xi=function(){ai.n.xi.call(this);this.dispatchEvent(ji)};
t.jm=function(){ai.n.jm.call(this);this.dispatchEvent(ki);this.Nn&&this.H()};t.focus=function(){ai.n.focus.call(this);if(this.uc){var b=this.uc.or;if(b)for(var c=this.L().za(),d=this.gc.getElementsByTagName("button"),e=0,g;g=d[e];e++)if(g.name==b){try{if(D||tb){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.m().appendChild(h);h.focus();this.m().removeChild(h)}g.focus()}catch(l){}break}}};
t.uU=function(){var b=this.L().za(),c=ac(dc(b)||window),d=Math.max(b.body.scrollWidth,c.width),b=Math.max(b.body.scrollHeight,c.height),e=rg(this.m());"fixed"==ag(this.m())?(c=new Tf(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height)),this.Fb.Ns=c||new Tf(NaN,NaN,NaN,NaN)):this.Fb.Ns=new Tf(0,0,d-e.width,b-e.height)||new Tf(NaN,NaN,NaN,NaN)};t.ES=function(){if(this.oo){var b=this.uc,c=b&&b.Dv;c?(b=b.get(c),this.dispatchEvent(new li(c,b))&&this.F(n)):this.F(n)}};
t.Qt=function(b){this.oo=b;this.Mf&&Q(this.Mf,this.oo)};t.z=function(){this.gc=this.Mf=k;ai.n.z.call(this)};a.mi=function(b,c){b.uc=c;if(b.gc){if(b.uc){var d=b.uc;d.g=b.gc;d.aa()}else b.gc.innerHTML="";Q(b.gc,!!b.uc)}};t.IR=function(b){a:{for(b=b.target;b!=k&&b!=this.gc;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=k}if(b&&!b.disabled){var b=b.name,c=this.uc.get(b);this.dispatchEvent(new li(b,c))&&this.F(n)}};
t.bp=function(b){var c=n,d=n,e=this.uc,g=b.target;if("keydown"==b.type)if(this.vN&&27==b.keyCode){var h=e&&e.Dv,g="SELECT"==g.tagName&&!g.disabled;h&&!g?(d=j,c=e.get(h),c=this.dispatchEvent(new li(h,c))):g||(c=j)}else 9==b.keyCode&&(b.shiftKey&&g==this.m())&&(d=j);else if(13==b.keyCode){if("BUTTON"==g.tagName)h=g.name;else if(e){var l=e.or,m=l&&e.ld(l),g=("TEXTAREA"==g.tagName||"SELECT"==g.tagName||"A"==g.tagName)&&!g.disabled;m&&(!m.disabled&&!g)&&(h=l)}h&&e&&(d=j,c=this.dispatchEvent(new li(h,String(e.get(h)))))}if(c||
d)b.stopPropagation(),b.preventDefault();c&&this.F(n)};a.li=function(b,c){this.type=ni;this.key=b;this.caption=c};y(li,kd);a.ni="dialogselect",a.ki="afterhide",a.ji="aftershow",a.ii=function(b){this.K=b||Vb();Rd.call(this)},a.oi=void 0;y(ii,Rd);t=ii.prototype;t.Lc="goog-buttonset";t.or=k;t.g=k;t.Dv=k;t.set=function(b,c,d,e){Rd.prototype.set.call(this,b,c);d&&(this.or=b);e&&(this.Dv=b);return this};t.xe=function(b,c,d){return this.set(b.key,b.caption,c,d)};
t.aa=function(){if(this.g){this.g.innerHTML="";var b=Vb(this.g);Pd.forEach(this,function(c,d){var e=b.w("button",{name:d},c);d==this.or&&(e.className=this.Lc+"-default");this.g.appendChild(e)},this)}};t.o=function(b){if(b&&1==b.nodeType){this.g=b;for(var b=this.g.getElementsByTagName("button"),c=0,d,e,g;d=b[c];c++)if(e=d.name||d.id,g=Ic(d)||d.value,e){var h=0==c;this.set(e,g,h,d.name==pi);h&&E.add(d,this.Lc+"-default")}}};t.m=q("g");t.L=q("K");
t.ld=function(b){for(var c=this.g.getElementsByTagName("BUTTON"),d=0,e;e=c[d];d++)if(e.name==b||e.id==b)return e;return k};a.pi="cancel",a.qi={LX:"ok",XJ:pi,QK:"yes",JX:"no",hY:"save",KW:"continue"},a.ri=x("ç¡®å®"),a.si=x("åæ¶"),a.ti=x("Yes"),a.ui=x("No"),a.vi=x("Save"),a.wi=x("Continue"),a.xi={key:"ok",caption:ri},a.yi={key:pi,caption:si},a.zi={key:"yes",caption:ti},a.Ai={key:"no",caption:ui},a.Bi={key:"save",caption:vi},a.Ci={key:"continue",caption:wi};
"undefined"!=typeof document&&((new ii).xe(xi,j,j),oi=(new ii).xe(yi,n,j).xe(xi,j),(new ii).xe(zi,j).xe(Ai,n,j),(new ii).xe(zi).xe(Ai,j).xe(yi,n,j),(new ii).xe(Ci).xe(Bi).xe(yi,j,j));a.Di=function(b,c,d){ai.call(this,b,c,d)};y(Di,ai);t=Di.prototype;t.IJ=k;t.C=function(){var b=!Vg;this.XD=b;hi(this,b&&this.Da);Di.n.C.call(this);this.Zk&&Ei(this);this.uh(this.IJ)};a.Ei=function(b){b.Zk&&b.h().e(b.Xc||b.Jc,"click",function(){this.Zk&&this.F(n)})};t.wp=u(59);t.pa=function(){Di.n.pa.call(this);if(!this.JN){var b=$(this.m()),c=$(window).scrollTop(),c=ub&&!Qg?c:"-="+Math.min(b.offset().top-c,60)+"px";b.add(this.Jf).css("top",c)}};
t.uh=function(b){if(this.g&&(this.Da&&pa(b))&&(!ub||Qg))this.g.style.width=bg(b,j),this.IJ=b;oa(b)&&(this.g.style.width=b);return this};a.Hi=function(b,c,d,e){ra(b)?(e=d,d=c):b={title:b,content:c};qa(d)||(d=ha);var g=$.extend({},Fi,b),h=Gi=Gi||new Di;(c=g.Yi.length)?(b=new ii,1<c?b.set(pi,g.Yi[0],n,j).set("yes",g.Yi[1],j):b.set("yes",g.Yi[0],j),mi(h,b),h.Uw(),b.ld("yes").className="zg-btn-blue",b.ld(pi)&&(b.ld(pi).className="zg-link-btn zm-command-cancel")):mi(h,k);E.enable(di(h),"with-button",!!c);Fd(h);h.on(ki,function(){E.remove(h.m(),g.className)}).on(ni,function(b){return d.call(e||h,"yes"===b.key)});E.add(di(h),g.className);
h.lb(g.title);gi(h,g.HG);h.Na(g.content);h.F(g.open);return h},a.Gi=void 0,a.Fi={open:j,HG:n,title:"ç¡®è®¤",content:"",className:"",Yi:["åæ¶","ç¡®è®¤"]},a.U=function(b,c){if(b){var d=Hi({title:"æç¤ºä¿¡æ¯",content:Na(b),Yi:[],className:"no-close-button"});setTimeout(function(){d.F(n)},c||3E3)}};a.V=function(b){Ae.call(this);this.JU=!!b;this.headers.set("AuthToken",eh);this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.kO,n,this)},a.Ii=void 0;y(V,Ae);a.Ji=function(b,c,d,e){var g=new V;if(c)g.on("complete",c);g.ajax(b,e,d)},a.Ki=/#.*$/,a.Li={"text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},a.Mi=[];
V.prototype.kO=function(){Q(Ni(),n);var b=this.getResponseHeader("content-type");if(b){var c=Li[b.split(";")[0].toLowerCase()];if(c&&Mi.length){var d=Ke(this);z.forEach(Mi,function(b){b.hW===c&&b.filter("json"===c?JSON.parse(d):d)},this)}}};V.prototype.ajax=function(b,c,d){b=encodeURI(decodeURI(b));b=b.replace(Ki,"");if(!this.ma){this.JU&&Q(Ni(),j);d=d||"POST";if("POST"===d.toUpperCase()){var e=Qf.get("_xsrf");e&&(c=(c?c+"&_xsrf=":"_xsrf=")+e)}return this.send(b,d,c,this.headers)}};
a.Ni=function(){if(Ii)return Ii;var b=K("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"å è½½ä¸­â¦"});document.body.appendChild(b);return Ii=b};a.Oi=function(){M.call(this)};y(Oi,Kd);Oi.prototype.h=function(){return this.li||(this.li=new qe(this))};a.Pi=new Oi;Kd.prototype.on=function(){Kd.prototype.addEventListener.apply(this,arguments);return this};Kd.prototype.off=function(){Kd.prototype.removeEventListener.apply(this,arguments);return this};Kd.prototype.Y=Kd.prototype.dispatchEvent;a.Qi=function(){};a.Ri=function(){};y(Ri,Qi);Ri.prototype.bb=function(){var b=0;O.forEach(this.gd(j),function(){b++});return b};Ri.prototype.clear=function(){var b=O.toArray(this.gd(j)),c=this;z.forEach(b,function(b){c.remove(b)})};a.Si=function(b){this.xg=b};y(Si,Ri);t=Si.prototype;t.xs=function(){try{return!!this.xg&&!!this.xg.getItem}catch(b){}return n};t.set=function(b,c){try{this.xg.setItem(b,c)}catch(d){f("Storage mechanism: Quota exceeded")}};t.get=function(b){b=this.xg.getItem(b);!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.xg.removeItem(b)};t.bb=function(){return this.xg.length};
t.gd=function(b){var c=0,d=this.xg,e=new Qd;e.next=function(){c>=d.length&&f(O.fb);var e=d.key(c++);if(b)return e;e=d.getItem(e);oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){this.xg.clear()};a.Ti=function(){var b=k;try{b=window.localStorage||k}catch(c){}this.xg=b};y(Ti,Si);a.Ui=function(){var b=k;try{b=window.sessionStorage||k}catch(c){}this.xg=b};y(Ui,Si);a.Wi=function(b,c){if(A&&!Ib(9)){Vi||(Vi=new Rd);this.yd=Vi.get(b);this.yd||(c?this.yd=document.getElementById(c):(this.yd=document.createElement("userdata"),this.yd.addBehavior("#default#userData"),document.body.appendChild(this.yd)),Vi.set(b,this.yd));this.SA=b;try{this.yd.load(this.SA)}catch(d){this.yd=k}}};y(Wi,Ri);a.Xi={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},a.Vi=k;t=Wi.prototype;t.yd=k;t.SA=k;
a.Yi=function(b){return"_"+encodeURIComponent(b).replace(/[.!~*'()%]/g,function(b){return Xi[b]})};t.xs=function(){return!!this.yd};t.set=function(b,c){this.yd.setAttribute(Yi(b),c);Zi(this)};t.get=function(b){b=this.yd.getAttribute(Yi(b));!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.yd.removeAttribute(Yi(b));Zi(this)};t.bb=function(){return $i(this).attributes.length};
t.gd=function(b){var c=0,d=$i(this).attributes,e=new Qd;e.next=function(){c>=d.length&&f(O.fb);var e=d[c++];if(b)return decodeURIComponent(e.nodeName.replace(/\./g,"%")).substr(1);e=e.nodeValue;oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){for(var b=$i(this),c=b.attributes.length;0<c;c--)b.removeAttribute(b.attributes[c-1].nodeName);Zi(this)};a.Zi=function(b){try{b.yd.save(b.SA)}catch(c){f("Storage mechanism: Quota exceeded")}},a.$i=function(b){return b.yd.XMLDocument.documentElement};a.aj=function(b,c){this.dm=b;this.fk=c+"::"};y(aj,Ri);t=aj.prototype;t.dm=k;t.fk="";t.set=function(b,c){this.dm.set(this.fk+b,c)};t.get=function(b){return this.dm.get(this.fk+b)};t.remove=function(b){this.dm.remove(this.fk+b)};t.gd=function(b){var c=this.dm.gd(j),d=this,e=new Qd;e.next=function(){for(var e=c.next();e.substr(0,d.fk.length)!=d.fk;)e=c.next();return b?e.substr(d.fk.length):d.dm.get(e)};return e};a.bj={KK:"UserDataSharedStore",create:function(b){return bj.LM(b)||bj.MM(b)},LM:function(b){var c=new Ti;return c.xs()?b?new aj(c,b):c:k},mZ:function(b){var c=new Ui;return c.xs()?b?new aj(c,b):c:k},MM:function(b){b=new Wi(b||bj.KK);return b.xs()?b:k}};a.cj={};ya(cj,bj);cj.create=function(b){var c=bj.create(b);c.$e=function(b,e){try{c.set(b,e)}catch(g){}};return c};a.dj=cj.create();a.fj=function(){var b=[];$(".shameimaru-placeholder").each(function(){var c=$(this);b.push($.get("/node/"+c.data("class"),{params:c.data("params")},function(b){var e=$(b);c.replaceWith(e);$(".shameimaru-close",e).click(function(b){b.preventDefault();$.post("/shameimaru/close",e.data());ej(e[0],j)})}))});$.when.apply(this,b).then(function(){Pi.dispatchEvent("alladloaded")})};a.yf=function(b,c){var d;b instanceof yf?(this.Oe=la(c)?c:b.Oe,gj(this,b.Bi),hj(this,b.cq),ij(this,b.kj),jj(this,b.tm),kj(this,b.sg),lj(this,b.Pc().clone()),mj(this,b.Yn)):b&&(d=String(b).match(ze))?(this.Oe=!!c,gj(this,d[1]||"",j),hj(this,d[2]||"",j),ij(this,d[3]||"",j),jj(this,d[4]),kj(this,d[5]||"",j),lj(this,d[6]||"",j),mj(this,d[7]||"",j)):(this.Oe=!!c,this.Pd=new nj(k,0,this.Oe))};t=yf.prototype;t.Bi="";t.cq="";t.kj="";t.tm=k;t.sg="";t.Yn="";t.BQ=n;t.Oe=n;
t.toString=function(){var b=[],c=this.Bi;c&&b.push(oj(c,pj),":");if(c=this.kj){b.push("//");var d=this.cq;d&&b.push(oj(d,pj),"@");b.push(encodeURIComponent(String(c)));c=this.tm;c!=k&&b.push(":",String(c))}if(c=this.sg)this.kj&&"/"!=c.charAt(0)&&b.push("/"),b.push(oj(c,"/"==c.charAt(0)?qj:rj));(c=this.Pd.toString())&&b.push("?",c);(c=this.Yn)&&b.push("#",oj(c,sj));return b.join("")};
t.resolve=function(b){var c=this.clone(),d=!!b.Bi;d?gj(c,b.Bi):d=!!b.cq;d?hj(c,b.cq):d=!!b.kj;d?ij(c,b.kj):d=b.tm!=k;var e=b.sg;if(d)jj(c,b.tm);else if(d=!!b.sg){if("/"!=e.charAt(0))if(this.kj&&!this.sg)e="/"+e;else{var g=c.sg.lastIndexOf("/");-1!=g&&(e=c.sg.substr(0,g+1)+e)}g=e;if(".."==g||"."==g)e="";else if(!Xa(g,"./")&&!Xa(g,"/."))e=g;else{for(var e=Ea(g,"/"),g=g.split("/"),h=[],l=0;l<g.length;){var m=g[l++];"."==m?e&&l==g.length&&h.push(""):".."==m?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
e&&l==g.length&&h.push("")):(h.push(m),e=j)}e=h.join("/")}}d?kj(c,e):d=""!==b.Pd.toString();d?lj(c,b.Pd.toString()?decodeURIComponent(b.Pd.toString()):""):d=!!b.Yn;d&&mj(c,b.Yn);return c};t.clone=function(){return new yf(this)};
a.gj=function(b,c,d){tj(b);b.Bi=d?c?decodeURIComponent(c):"":c;b.Bi&&(b.Bi=b.Bi.replace(/:$/,""))},a.hj=function(b,c,d){tj(b);b.cq=d?c?decodeURIComponent(c):"":c},a.ij=function(b,c,d){tj(b);b.kj=d?c?decodeURIComponent(c):"":c},a.jj=function(b,c){tj(b);c?(c=Number(c),(isNaN(c)||0>c)&&f(Error("Bad port number "+c)),b.tm=c):b.tm=k},a.xf=function(b){return b.sg},a.kj=function(b,c,d){tj(b);b.sg=d?c?decodeURIComponent(c):"":c},a.lj=function(b,c,d){tj(b);c instanceof nj?(b.Pd=c,b.Pd.mA(b.Oe)):(d||(c=oj(c,
uj)),b.Pd=new nj(c,0,b.Oe))};t.Pc=q("Pd");a.mj=function(b,c,d){tj(b);b.Yn=d?c?decodeURIComponent(c):"":c},a.tj=function(b){b.BQ&&f(Error("Tried to modify a read-only Uri"))};t.mA=function(b){this.Oe=b;this.Pd&&this.Pd.mA(b);return this};
a.oj=function(b,c){return oa(b)?encodeURI(b).replace(c,vj):k},a.vj=function(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},a.pj=/[#\/\?@]/g,a.rj=/[\#\?:]/g,a.qj=/[\#\?]/g,a.uj=/[\#\?@]/g,a.sj=/#/g,a.nj=function(b,c,d){this.Zd=b||k;this.Oe=!!d},a.xj=function(b){if(!b.Kb&&(b.Kb=new Rd,b.ia=0,b.Zd))for(var c=b.Zd.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=k,h=k;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));
g=wj(b,g);b.add(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};t=nj.prototype;t.Kb=k;t.ia=k;t.bb=function(){xj(this);return this.ia};t.add=function(b,c){xj(this);this.Zd=k;var b=wj(this,b),d=this.Kb.get(b);d||this.Kb.set(b,d=[]);d.push(c);this.ia++;return this};t.remove=function(b){xj(this);b=wj(this,b);return this.Kb.Ud(b)?(this.Zd=k,this.ia-=this.Kb.get(b).length,this.Kb.remove(b)):n};t.clear=function(){this.Kb=this.Zd=k;this.ia=0};t.Jb=function(){xj(this);return 0==this.ia};
t.Ud=function(b){xj(this);b=wj(this,b);return this.Kb.Ud(b)};t.Ng=function(b){var c=this.La();return z.contains(c,b)};t.Hb=function(){xj(this);for(var b=this.Kb.La(),c=this.Kb.Hb(),d=[],e=0;e<c.length;e++)for(var g=b[e],h=0;h<g.length;h++)d.push(c[e]);return d};t.La=function(b){xj(this);var c=[];if(b)this.Ud(b)&&(c=z.concat(c,this.Kb.get(wj(this,b))));else for(var b=this.Kb.La(),d=0;d<b.length;d++)c=z.concat(c,b[d]);return c};
t.set=function(b,c){xj(this);this.Zd=k;b=wj(this,b);this.Ud(b)&&(this.ia-=this.Kb.get(b).length);this.Kb.set(b,[c]);this.ia++;return this};t.get=function(b,c){var d=b?this.La(b):[];return 0<d.length?String(d[0]):c};t.toString=function(){if(this.Zd)return this.Zd;if(!this.Kb)return"";for(var b=[],c=this.Kb.Hb(),d=0;d<c.length;d++)for(var e=c[d],g=encodeURIComponent(String(e)),e=this.La(e),h=0;h<e.length;h++){var l=g;""!==e[h]&&(l+="="+encodeURIComponent(String(e[h])));b.push(l)}return this.Zd=b.join("&")};
t.clone=function(){var b=new nj;b.Zd=this.Zd;this.Kb&&(b.Kb=this.Kb.clone(),b.ia=this.ia);return b};a.wj=function(b,c){var d=String(c);b.Oe&&(d=d.toLowerCase());return d};t.mA=function(b){b&&!this.Oe&&(xj(this),this.Zd=k,Pd.forEach(this.Kb,function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.Zd=k,this.Kb.set(wj(this,e),z.clone(b)),this.ia+=b.length))},this));this.Oe=b};
t.extend=function(b){for(var c=0;c<arguments.length;c++)Pd.forEach(arguments[c],function(b,c){this.add(c,b)},this)};a.yj=function(b){var c=b.Gc;c.category&&c.action&&W(c.category,b.type.replace("!","")+"_"+c.action,c.label,c.value)},a.W=function(b,c,d,e,g){window._gaq||(window._gaq=[]);"feed"===b&&Xa(window.location.href,"topstory")&&(b="topstory");var h=$("#zh-question-list");"feed"===b&&h.length&&"topstory"===h.attr("data-feedtype")&&(b="topstory");d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e,!!g]);Eg&&window.console&&console.log("trackEvent(new)",z.toArray(arguments))};a.zj=void 0;
zj={eK:["BC","AD"],dK:["Before Christ","Anno Domini"],nK:"JFMAMJJASOND".split(""),AK:"JFMAMJJASOND".split(""),mK:"January February March April May June July August September October November December".split(" "),bn:"January February March April May June July August September October November December".split(" "),xK:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CK:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),PK:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),EK:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
YB:"Sun Mon Tue Wed Thu Fri Sat".split(" "),DK:"Sun Mon Tue Wed Thu Fri Sat".split(" "),RB:"SMTWTFS".split(""),BK:"SMTWTFS".split(""),yK:["Q1","Q2","Q3","Q4"],pK:["1st quarter","2nd quarter","3rd quarter","4th quarter"],VJ:["AM","PM"],OB:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],HK:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ku:6,Qu:[5,6],Lu:5};a.Aj=function(b,c){switch(c){case 1:return 0==b%4&&(0!=b%100||0==b%400)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},a.Cj=function(b,c,d){pa(b)?(this.ba=new Date(b,c||0,d||1),Bj(this,d||1)):ra(b)?(this.ba=new Date(b.getFullYear(),b.getMonth(),b.getDate()),Bj(this,b.getDate())):(this.ba=new Date(za()),this.ba.setHours(0),this.ba.setMinutes(0),this.ba.setSeconds(0),this.ba.setMilliseconds(0))};t=Cj.prototype;t.Ug=zj.Ku;t.yl=zj.Lu;
t.clone=function(){var b=new Cj(this.ba);b.Ug=this.Ug;b.yl=this.yl;return b};t.getFullYear=function(){return this.ba.getFullYear()};t.getYear=function(){return this.getFullYear()};t.getMonth=function(){return this.ba.getMonth()};t.getDate=function(){return this.ba.getDate()};t.getTime=function(){return this.ba.getTime()};t.getDay=u(49);t.getUTCHours=function(){return this.ba.getUTCHours()};t.getTimezoneOffset=function(){return this.ba.getTimezoneOffset()};
a.Dj=function(b){b=b.getTimezoneOffset();if(0==b)b="Z";else var c=Math.abs(b)/60,d=Math.floor(c),c=60*(c-d),b=(0<b?"-":"+")+bb(d)+":"+bb(c);return b};t.set=function(b){this.ba=new Date(b.getFullYear(),b.getMonth(),b.getDate())};t.setFullYear=function(b){this.ba.setFullYear(b)};t.setMonth=function(b){this.ba.setMonth(b)};t.setDate=function(b){this.ba.setDate(b)};t.setTime=u(36);
t.add=function(b){if(b.Sd||b.Od){var c=this.getMonth()+b.Od+12*b.Sd,d=this.getYear()+Math.floor(c/12),c=c%12;0>c&&(c+=12);var e=Math.min(Aj(d,c),this.getDate());this.setDate(1);this.setFullYear(d);this.setMonth(c);this.setDate(e)}b.Dd&&(c=new Date(this.getYear(),this.getMonth(),this.getDate(),12),b=new Date(c.getTime()+864E5*b.Dd),this.setDate(1),this.setFullYear(b.getFullYear()),this.setMonth(b.getMonth()),this.setDate(b.getDate()),Bj(this,b.getDate()))};
t.Dk=function(b,c){return[this.getFullYear(),bb(this.getMonth()+1),bb(this.getDate())].join(b?"-":"")+(c?Dj(this):"")};t.Zf=function(b){return this.getYear()==b.getYear()&&this.getMonth()==b.getMonth()&&this.getDate()==b.getDate()};t.toString=function(){return this.Dk()};a.Bj=function(b,c){if(b.getDate()!=c){var d=b.getDate()<c?1:-1;b.ba.setUTCHours(b.ba.getUTCHours()+d)}};t.valueOf=function(){return this.ba.valueOf()};a.Fj=function(){M.call(this);this.da=Ej;this.Sn=this.startTime=k};y(Fj,Kd);a.Ej=0;Fj.prototype.ui=function(){this.Wd("begin")};Fj.prototype.vi=function(){this.Wd("end")};Fj.prototype.Wd=function(b){this.dispatchEvent(b)};a.Gj=function(b,c,d){M.call(this);this.Uj=b;this.dh=c||0;this.ha=d;this.cl=v(this.Tg,this)};y(Gj,M);t=Gj.prototype;t.Jd=0;t.z=function(){Gj.n.z.call(this);this.stop();delete this.Uj;delete this.ha};t.start=function(b){this.stop();this.Jd=Od(this.cl,la(b)?b:this.dh)};t.stop=function(){this.bc()&&Ld.clearTimeout(this.Jd);this.Jd=0};t.fire=function(){this.stop();this.Tg()};t.bc=function(){return 0!=this.Jd};t.Tg=function(){this.Jd=0;this.Uj&&this.Uj.call(this.ha)};a.Hj={},a.Ij=k,a.Jj=function(b){b=ua(b);delete Hj[b];F.Jb(Hj)&&Ij&&Ij.stop()},a.Kj=function(){Ij||(Ij=new Gj(function(){var b=za();F.forEach(Hj,function(d){d.Wv(b)});F.Jb(Hj)||Kj()},20));var b=Ij;b.bc()||b.start()};a.Lj=function(b,c,d,e){Fj.call(this);(!ma(b)||!ma(c))&&f(Error("Start and end parameters must be arrays"));b.length!=c.length&&f(Error("Start and end points must be the same length"));this.Np=b;this.sN=c;this.duration=d;this.bC=e;this.coords=[];this.Ni=n};y(Lj,Fj);t=Lj.prototype;t.bi=ca("Ni");t.uE=0;t.progress=0;t.sy=k;
t.play=function(b){if(b||this.da==Ej)this.progress=0,this.coords=this.Np;else if(1==this.da)return n;Jj(this);this.startTime=b=za();-1==this.da&&(this.startTime-=this.duration*this.progress);this.Sn=this.startTime+this.duration;this.sy=this.startTime;this.progress||this.ui();this.Wd("play");-1==this.da&&this.Wd("resume");this.da=1;var c=ua(this);c in Hj||(Hj[c]=this);Kj();this.Wv(b);return j};t.stop=function(b){Jj(this);this.da=Ej;b&&(this.progress=1);Mj(this,this.progress);this.Wd("stop");this.vi()};
t.z=function(){this.da==Ej||this.stop(n);this.Wd("destroy");Lj.n.z.call(this)};t.Wv=function(b){this.progress=(b-this.startTime)/(this.Sn-this.startTime);1<=this.progress&&(this.progress=1);this.uE=1E3/(b-this.sy);this.sy=b;Mj(this,this.progress);1==this.progress?(this.da=Ej,Jj(this),this.Wd("finish"),this.vi()):1==this.da&&this.cz()};a.Mj=function(b,c){qa(b.bC)&&(c=b.bC(c));b.coords=Array(b.Np.length);for(var d=0;d<b.Np.length;d++)b.coords[d]=(b.sN[d]-b.Np[d])*c+b.Np[d]};t.cz=function(){this.Wd("animate")};
t.Wd=function(b){this.dispatchEvent(new Nj(b,this))};a.Nj=function(b,c){kd.call(this,b);this.coords=c.coords;this.x=c.coords[0];this.y=c.coords[1];this.j0=c.coords[2];this.duration=c.duration;this.progress=c.progress;this.FZ=c.uE;this.state=c.da;this.PY=c};y(Nj,kd);a.Oj=function(b,c,d,e,g){Lj.call(this,c,d,e,g);this.element=b};y(Oj,Lj);t=Oj.prototype;t.Hh=ha;t.Md=function(){la(this.Cf)||(this.Cf=hg(this.element));return this.Cf};t.cz=function(){this.Hh();Oj.n.cz.call(this)};t.vi=function(){this.Hh();Oj.n.vi.call(this)};t.ui=function(){this.Hh();Oj.n.ui.call(this)};a.Pj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Oj.apply(this,arguments)};y(Pj,Oj);
Pj.prototype.Hh=function(){var b=this.Ni&&this.Md()?"right":"left";this.element.style[b]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};a.Qj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Oj.apply(this,arguments)};y(Qj,Oj);
Qj.prototype.Hh=function(){if(this.Ni){var b=this.element,c=Math.round(this.coords[0]),c=Math.max(c,0);b.scrollLeft=hg(b)?C?-c:!A||!Gb("8")?b.scrollWidth-c-b.clientWidth:c:c}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};a.Rj=function(b,c,d,e,g){Oj.call(this,b,[c],[d],e,g)};y(Rj,Oj);Rj.prototype.Hh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};a.Sj=function(b,c,d,e,g){Oj.call(this,b,[c],[d],e,g)};y(Sj,Oj);
Sj.prototype.Hh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};a.Tj=function(b,c,d,e,g){pa(c)&&(c=[c]);pa(d)&&(d=[d]);Oj.call(this,b,c,d,e,g);(1!=c.length||1!=d.length)&&f(Error("Start and end points must be 1D"))};y(Tj,Oj);Tj.prototype.Hh=function(){tg(this.element,this.coords[0])};Tj.prototype.show=function(){this.element.style.display=""};Tj.prototype.hide=function(){this.element.style.display="none"};a.Uj=function(b,c,d){Tj.call(this,b,1,0,c,d)};y(Uj,Tj);
Uj.prototype.ui=function(){this.show();Uj.n.ui.call(this)};Uj.prototype.vi=function(){this.hide();Uj.n.vi.call(this)};a.Vj=function(b,c,d){Tj.call(this,b,0,1,c,d)};y(Vj,Tj);Vj.prototype.ui=function(){this.show();Vj.n.ui.call(this)};a.Wj=function(b,c,d,e,g){(3!=c.length||3!=d.length)&&f(Error("Start and end points must be 3D"));Oj.apply(this,arguments)};y(Wj,Oj);
Wj.prototype.Hh=function(){for(var b=[],c=0;c<this.coords.length;c++)b[c]=Math.round(this.coords[c]);b="rgb("+b.join(",")+")";this.element.style.backgroundColor=b};a.Xj=function(b){return b*b*b},a.Zj=function(b){return 1-Math.pow(1-b,3)},a.$j=function(b){return 3*b*b-2*b*b*b};a.ak=/^\/node\//;$.ajaxPrefilter(function(b,c){var d=c.data,e;if(d&&(e=d.params)&&"object"===$.type(e)&&ak.test(c.url))d.params=cd(e),b.data=$.param(d)});
a.bk=function(b,c){return $.post("/node/MemberFollowBaseV2",{method:c?"follow_member":"unfollow_member",params:{hash_id:b}})},a.ck=function(b,c){return $.post("/node/QuestionFollowBaseV2",{method:c?"follow_question":"unfollow_question",params:{question_id:b}})},a.dk=function(b,c){return $.post(c?"/collection/follow":"/collection/unfollow",{favlist_id:b})},a.ek=function(b,c){return $.post("/node/TopicFollowBaseV2",{method:c?"follow_topic":"unfollow_topic",params:{topic_id:b}})},a.fk=function(b,c,d,
e){var g=k;e&&(d&&(d=$.proxy(d,e)),g&&(g=$.proxy(g,e)));$.get("/node/"+b,{params:c},function(b){b&&b.r?g&&g(b):d&&d(b)})};a.gk=function(b,c){return $.post("/node/ColumnFollowBaseV2",{method:c?"follow_column":"unfollow_column",params:{column_id:b}})};a.hk=function(b,c){return $.post("/roundtable/"+b,{action:c?"follow":"unfollow"})};a.ik=function(){this.ls=[];this.loaded=[];this.GH=[];this.$r=n};ik.prototype.add=function(b){b&&!z.find(this.ls,function(c){return c===b})&&(this.$r?b.src=b.getAttribute("data-source"):(this.ls.push(b),this.loaded.push(0)))};ik.prototype.B=function(){z.forEach(this.ls,function(b){this.GH.push(gg(b).y)},this);this.XC();N(window,"scroll",this.XC,n,this);this.$r=j};
ik.prototype.iM=function(){var b=cc(document).y+1200;z.forEach(this.ls,function(c,d){!this.loaded[d]&&b>this.GH[d]&&(this.loaded[d]=1,c.src=c.getAttribute("data-source"))},this)};ik.prototype.XC=function(){this.YC&&clearTimeout(this.YC);this.YC=setTimeout(v(this.iM,this),100)};a.jk=new ik;jk.B();a.kk={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},a.lk=F.lE(kk,function(b,c){return c in document}),a.mk=kk[lk],a.nk=la(lk);a.ok={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};a.rk=function(b){M.call(this);this.Mm={};this.hh={Ak:[],time:0};this.YN=F.Wh(pk);this.nV=F.Wh(qk);this.qC=j;this.tL=this.wL=n;this.kR=j;this.gh=b;N(this.gh,"keydown",this.tf,n,this);mb&&(C&&Gb("1.8"))&&N(this.gh,"keyup",this.QE,n,this);nb&&!C&&(N(this.gh,"keypress",this.kF,n,this),N(this.gh,"keyup",this.lF,n,this))},a.sk=void 0;y(rk,Kd);
a.pk=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],a.qk="color date datetime datetime-local email month number password search tel text time url week".split(" "),a.tk={wK:"shortcut",vK:"shortcut_"};t=rk.prototype;t.FT=function(b,c){uk(this.Mm,vk(1,arguments),b)};t.MV=function(b){uk(this.Mm,vk(0,arguments),k)};
a.vk=function(b,c){var d;if(oa(c[b])){d=c[b];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],g,h=0;g=d[h];h++){var l=g.split("+"),m;g=0;for(var p,r=0;p=l[r];r++){switch(p){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}m=p;if(!sk){l={};p=i;for(p in ok)l[ok[p]]=p;sk=l}m=sk[m];break}e.push({keyCode:m,JG:g})}d=e}else{e=c;h=b;ma(c[b])&&(e=c[b],h=0);for(d=[];h<e.length;h+=2)d.push({keyCode:e[h],JG:e[h+
1]})}return d};t.qB=function(){this.Mm={}};t.z=function(){rk.n.z.call(this);this.qB();Bd(this.gh,"keydown",this.tf,n,this);mb&&(C&&Gb("1.8"))&&Bd(this.gh,"keyup",this.QE,n,this);nb&&!C&&(Bd(this.gh,"keypress",this.kF,n,this),Bd(this.gh,"keyup",this.lF,n,this));this.gh=k};t.QE=function(b){if(224==b.keyCode)this.EG=j,Od(function(){this.EG=n},400,this);else{var c=b.metaKey||this.EG;if((67==b.keyCode||88==b.keyCode||86==b.keyCode)&&c)b.metaKey=c,this.tf(b)}};
a.wk=function(b){return nb&&!C&&b.ctrlKey&&b.altKey&&!b.shiftKey};t.kF=function(b){32<b.keyCode&&wk(b)&&(this.XF=j)};t.lF=function(b){!this.XF&&wk(b)&&this.tf(b)};a.uk=function(b,c,d){var e=c.shift(),e=e.keyCode&255|e.JG<<8,g=b[e];g&&(d&&(0==c.length||oa(g)))&&f(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(g||(g=b[e]={}),uk(g,c,d)):b[e]=d},a.xk=function(b,c,d,e){d=d||0;return(e=(e||b.Mm)[c[d]])&&!oa(e)&&1<c.length-d?xk(b,c,d+1,e):e};
t.tf=function(b){var c;c=b.keyCode;if(16==c||17==c||18==c)c=n;else{var d=b.target,e="TEXTAREA"==d.tagName||"INPUT"==d.tagName||"BUTTON"==d.tagName||"SELECT"==d.tagName,g=!e&&(d.isContentEditable||d.ownerDocument&&"on"==d.ownerDocument.designMode);c=!e&&!g||this.YN[c]||this.tL?j:g?n:this.kR&&(b.altKey||b.ctrlKey||b.metaKey)?j:"INPUT"==d.tagName&&this.nV[d.type]?13==c:"INPUT"==d.tagName||"BUTTON"==d.tagName?32!=c:n}if(c)if("keydown"==b.type&&wk(b))this.XF=n;else{c=(C?Ah(b.keyCode):b.keyCode)&255|((b.shiftKey?
1:0)|(b.ctrlKey?2:0)|(b.altKey?4:0)|(b.metaKey?8:0))<<8;var h,l,d=za();this.hh.Ak.length&&1500>=d-this.hh.time?h=xk(this,this.hh.Ak):this.hh.Ak.length=0;h=h?h[c]:this.Mm[c];h||(h=this.Mm[c],this.hh.Ak=[]);h&&oa(h)?l=h:h?(this.hh.Ak.push(c),this.hh.time=d,C&&b.preventDefault()):this.hh.Ak.length=0;l&&(this.qC&&b.preventDefault(),this.wL&&b.stopPropagation(),h=b.target,c=this.dispatchEvent(new yk(tk.wK,l,h)),(c&=this.dispatchEvent(new yk(tk.vK+l,l,h)))||b.preventDefault(),this.hh.Ak.length=0)}};
a.yk=function(b,c,d){kd.call(this,b,d);this.identifier=c};y(yk,kd);a.zk=function(b){M.call(this);this.bh(b)};y(zk,M);a.Ak=[];t=zk.prototype;t.bh=function(b){Ak.push(this);this.al=new Rd;this.ha=new rk(b);this.ha.qC=n;this.ha.addEventListener("shortcut",this.HS,n,this)};a.Bk=function(b,c,d,e){b.rn={key:c,action:d,context:e};b.ha.FT(c,c);b.al.set(c,b.rn);return b};t.NV=function(b){this.rn=k;this.ha.MV(b,b);this.al.remove(b);return this};t.qB=function(){this.rn=k;this.ha.qB();this.al.clear();return this};a.Ck=function(b,c){b.rn.Ab=c;return b};
t.HS=function(b){var c=this.al.get(b.identifier);c&&c.action.call(c.context,b)};t.z=function(){zk.n.z.call(this);z.remove(Ak,this);this.ha.H();this.al=this.rn=this.ha=k};a.Dk=new zk(document);Dk.KJ=function(b){return new zk(b)};a.Ek=function(b){var c=n,d;return function(){if(c)return d;c=j;return d=b.apply(this,arguments)}},a.Fk=function(b,c){var d=Cc(b,function(b){return 3===b.nodeType&&!Ha(b.nodeValue)})[0];d&&(d.nodeValue=c)},a.ej=function(b,c){var d=new Uj(b,500);c&&N(d,"finish",v(function(){L(this)},b));d.play()},a.Gk=function(b,c,d,e){"bottom"===e&&(e="b");var g="";(d===n?n:j)&&(g='data-tip="t$'+(e||"t")+"$"+b[1]+'"');return["<a ",g,' class="',c||"zm-item-tag",'" href="/topic/',b[1],'">',b[0],"</a>"].join("")},a.Hk=
function(b){return!b?"":b.replace(/^\s+/,"").replace(/\s+$/,"")},a.Ik=void 0,a.Jk=RegExp("^â +|â +$");Ik=function(b){return b.replace(Jk,"")};
a.Kk=function(){return'<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>ä¿®æ¹</a>'},a.Lk=function(b,c,d){var e;b&&(c=$(b).data("animation")||new Wj(b,[255,255,150],c||[255,255,255],d||2E3),$(b).data("animation",c),1==c.da&&c.stop(j),e=b.style.backgroundColor,Ad(c,"end",function(){Wf(this.element,"background-color",e)},n,c),c.play())},a.Mk=function(b,c,d){b&&(nk&&document[lk]?N(document,mk,function g(){document[lk]||(Lk(b,c,d),Bd(document,mk,g))}):Lk(b,c,d))},
a.Nk=function(b){var c=0,d=0;do d=b.indexOf("?",d),-1!==d&&(c++,d+=1);while(-1!==d);return c},a.Ok=function(b,c,d){c=z.slice(b.data,1);if("topic"===b.data[0]){var b=(c[2]?'<img class="zm-item-img-avatar zg-left" src="'+c[2]+'">':"")+'<span class="zu-autocomplete-row-name'+(c[3]?"":" zu-autocomplete-row-name-info")+'" title="'+c[0]+'">'+c[0]+"</span>",e=5<c.length&&c[5];4<=c.length&&(b+='<span class="zg-gray-normal zu-autocomplete-row-description">',c[4]||e?(e&&(b+="åç§° "+c[5]),c[4]&&e&&(b+="ï¼"),c[4]&&
(b+=c[4]+" äººå³æ³¨")):b+="&nbsp;",b+="</span>");d.innerHTML=b}else"people"===b.data[0]?d.innerHTML='<img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span>":"question"===b.data[0]?d.innerHTML=c[0]+'<span class="zm-ac-gray">é®é¢</span>':"plain_text"===b.data[0]?(d.innerHTML=b.data[1],E.add(d,c[1])):"sina"===b.data[0]&&(d.innerHTML=c[0])},a.Pk=function(b,
c,d){var e,c=z.slice(b.data,1);if("topic"===b.data[0]){b=["<a ",' style="display:block" href="/topic/'+c[1]+'"><span class="zm-item-tag">',c[0],"</span>"].join("");e=6<c.length&&c[6];if(c[5]||e){var b=b+'<span class="zm-ac-gray">',g=[];e&&g.push("åç§° "+c[6]);(e=parseInt(c[5],10))&&g.push(e+" ä¸ªç²¾åé®ç­");b+=g.join("ï¼");b+="</span>"}else b+='<span class="zm-ac-gray" >&nbsp;</span>';d.innerHTML=b+"</a>"}else"people"===b.data[0]?d.innerHTML='<a href="/people/'+c[1]+'" title="'+c[0]+'" class="zm-ac-link zm-ac-link-people"><img class="zm-item-img-avatar zg-left" src="'+
c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal  zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span></a>":"question"===b.data[0]?(e=parseInt(c[3],10),d.innerHTML=(c[4]?'<a class="zg-star" data-tip="s$b$ä¼è´¨é®ç­" href="/question/'+c[2]+'"></a>':"")+['<a class="zm-ac-link"','href="/question/'+c[2]+'">',c[0]].join("")+('<span class="zm-ac-gray">'+(e?e+" ä¸ªåç­":"è¿æ²¡æåç­")+"</span></a>")):"search_link"===b.data[0]?(d.innerHTML='<a href="/search?q='+
c[0]+'&type=question">æ¥çå¨é¨æç´¢ç»æ<i class="zg-icon arrow"></i></a>',E.add(d,"zu-autocomplete-row-search-link")):"plain_text"===b.data[0]?d.innerHTML=c[0]:"sina"===b.data[0]&&(c=['<a href="javascript:;" title="'+c[0]+'">','<img class="zm-item-img-avatar" src="'+c[2]+'" />',c[0],"</a>"].join(""),d.innerHTML=c);$("a",d).click(function(b){b.preventDefault()})},a.Qk=function(b,c){for(var d=c;d!=k&&d!==b;){if("A"===d.tagName)return d;d=d.parentNode}return k},a.Rk=function(b){this.tQ=b;this.data=new Rd};
Rk.prototype.add=function(b,c){this.tQ===n?this.data.set(b,c):this.data.set(encodeURIComponent(b),encodeURIComponent(c))};Rk.prototype.Pc=function(){var b=[];z.forEach(this.data.Hb(),function(c){b.push(c+"="+this.data.get(c))},this);return b.join("&")};
a.Sk=function(b){b=Hk(b);return!b?0:Math.ceil(b.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,"aaaaaaaaaaaaaaaaaaaa").replace(/\n/g,"a").replace(/\s/g,"a").replace(/[\u3000-\u303F\u4E00-\u9FA5\uf900-\ufa2d\uFF00-\uFFEF]/g,"aa").length/2)},a.Uk=function(b,c,d,e){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e]);Eg&&Tk("trackEvent(deprecated)",z.toArray(arguments))},a.Vk=function(b){b=($c(dj.get("zhga"))||[]).concat([b]);dj.$e("zhga",
cd(b))},a.Wk=function(b){window._gaq||(window._gaq=[]);window._gaq.push(["_trackPageview",b])},a.Xk=void 0,a.Yk={lV:{evaluate:/<%([\s\S]+?)%>/g,nQ:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},a.Zk=/.^/,a.$k=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};
Xk=function(b,c){var d=Yk.lV,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||Zk,function(b,c){return"',_.escape("+$k(c)+"),'"}).replace(d.nQ||Zk,function(b,c){return"',"+$k(c)+",'"}).replace(d.evaluate||Zk,function(b,c){return"');"+$k(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("data","_",d);
return c?e(c,Yk):function(b){return e.call(this,b,Yk)}};$(function(){var b=Ag(document.body).top;al.paddingTop=b});a.al={offsetTop:0,paddingTop:0,tC:n},a.bl=function(b){$(b.target.N.g).off("click.disable-a").on("click.disable-a","a",function(b){b.preventDefault()})},a.cl=function(b,c){var d=k;return function(){var e=this,g=arguments;clearTimeout(d);d=setTimeout(function(){c.apply(e,g)},b)}},a.dl=Ek(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});a.el=function(){ai.call(this,i,i,i);this.OM=R.ul;this.Lo=R.Lo;this.GI=""!==this.Lo;this.h().e(Pi,"/activation/resend-email",xa(this.CI,j))};ia(el);y(el,Di);t=el.prototype;t.Ek=Xk('    <% if (showTopTip) { %>       <div class="top-tip well-blue"><%= topTip %></div>    <% } %>    <% if (showForm) { %>    <form class="js-email-form">    <dl class="zm-form-table zm-form-table-wide" style="">      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">æ¨çæ³¨åé®ç®±ï¼</label>      </dt>      <dd class="zm-form-table-field zg-form-table-count">        <label class=""><%= curEmail %></label></dd>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="new-email">æ°çç»å½é®ç®±ï¼</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="text" name="newemail"></dd>      <dd class="zm-form-table-field">        <button class="js-update-email zg-btn-blue">æ´æ°é®ç®±</button>        <a class="js-cancel zm-form-btn-collapse" href="javascript:;">åæ¶</a>      </dd>    </dl>    </form>    <% } %>    <% if (showMiddleTip) { %>    <div class="middle-tip"><%= middleTip %></div>    <% } %>    <% if (showSendEmail) { %>    <div class="">      <dl class="zm-form-table zm-form-table-wide" >        <dt class="zm-form-table-head zm-form-table-head-align-middle">          <label class="">æ¨ç<%= isMobile ? "" : "æ³¨å" %>é®ç®±ï¼</label>        </dt>        <dd class="zm-form-table-field zg-form-table-count">          <label class="login-email"><%= curEmail %></label>          <a class="js-change-email" href="javascript:;">ä¿®æ¹</a>          <br>        </dd>      </dl>    <% if (sent) { %>    <div style="text-align:center;clear:both;"><span class="zg-medium-gray">å·²åé</span></div>    <% } else { %>    <div style="text-align:center;margin-bottom:15px;clear:both;"><a class="js-resend" href="javascript:;">éæ°åéæ¿æ´»é®ä»¶</a></div>    <% } %>    </div>    <% } %>    <% if (showEmailUrl) { %>    <div class="email-url">      <a class="zg-btn-blue" target="_blank" href="<%= emailUrl %>">è¿å¥æçé®ç®± Â»</a>    </div>    <% } %>    <% if (showBottomTip) { %>    <div class="bottom-tip"><%= bottomTip %></div>    <% } %>    ');
t.bu={showTopTip:j,showSendEmail:j,showBottomTip:j};t.YU={showTopTip:j,showForm:j,showBottomTip:j,showEmailUrl:n};t.ZU={showMiddleTip:j};t.aa=function(){el.n.aa.call(this);this.lb("è¯·æ¿æ´»å¸å·");fl(this,el.prototype.bu);this.M=$(this.fa()).addClass("activate-dialog");$(this.g).css("width","400px");this.nv()};
a.fl=function(b,c){var d=$.extend({showTopTip:n,showMiddleTip:n,showBottomTip:n,showEmailUrl:b.GI,showForm:n,showSendEmail:n,isMobile:ub,sent:b.yI,topTip:"ä¸ºæ­£å¸¸ä½¿ç¨ç¥ä¹æé®ãåç­ãè¯è®ºåç¼è¾åè½ï¼è¯·éªè¯æ¨çé®ç®±ãæ¿æ´»å¸å·ã",middleTip:Ga("ä¸å°éªè¯é®ä»¶å·²ç»åå°æ¨çæ°é®ç®±ï¼<br>%sï¼è¯·æ³¨ææ¥æ¶ã",b.rR),bottomTip:"å¦ææ¨æ²¡ææ¶å°æ¿æ´»é®ä»¶ï¼è¯·æ³¨ææ£æ¥åå¾ç®±ã",curEmail:b.OM,emailUrl:b.Lo},c);b.Na(b.Ek(d))};t.nv=function(){var b=this;$.each({".js-update-email":b.RV,".js-cancel":b.cancel,".js-change-email":b.TC,".js-resend":b.fI},function(c,d){b.M.on("click",c,$.proxy(d,b))})};
t.RV=function(){var b=this;$.post("/settings/update_email",b.M.find(".js-email-form").serialize()).done(function(c){c.r?U(c.msg):(b.rR=c.msg[0],b.GI=""!==c.msg[1],b.Lo=c.msg[1],fl(b,el.prototype.ZU))});return n};t.CI=function(b){this.yI=b;fl(this,el.prototype.bu)};t.cancel=function(){this.vM?this.F(n):fl(this,el.prototype.bu)};t.TC=function(b){this.vM=b===j;fl(this,el.prototype.YU)};t.fI=function(b){var c=this;$.post("/reactive").done(function(d){d.r?(U(d.msg),b&&c.F(n)):(c.yI=j,fl(c,el.prototype.bu))})};a.gl=function(b,c){M.call(this);b&&this.attach(b,c)};y(gl,Kd);t=gl.prototype;t.g=k;t.Es=k;t.oy=k;t.Fs=k;t.he=-1;t.qi=-1;t.fv=n;
a.hl={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},a.il={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},a.jl=A||D&&Gb("525"),a.kl=mb&&C;t=gl.prototype;
t.tf=function(b){if(D&&(17==this.he&&!b.ctrlKey||18==this.he&&!b.altKey||mb&&91==this.he&&!b.metaKey))this.qi=this.he=-1;-1==this.he&&(b.ctrlKey&&17!=b.keyCode?this.he=17:b.altKey&&18!=b.keyCode?this.he=18:b.metaKey&&91!=b.keyCode&&(this.he=91));jl&&!zh(b.keyCode,this.he,b.shiftKey,b.ctrlKey,b.altKey)?this.handleEvent(b):(this.qi=C?Ah(b.keyCode):b.keyCode,kl&&(this.fv=b.altKey))};t.OO=function(b){this.qi=this.he=-1;this.fv=b.altKey};
t.handleEvent=function(b){var c=b.Zb,d,e,g=c.altKey;A&&"keypress"==b.type?(d=this.qi,e=13!=d&&27!=d?c.keyCode:0):D&&"keypress"==b.type?(d=this.qi,e=0<=c.charCode&&63232>c.charCode&&yh(d)?c.charCode:0):tb?(d=this.qi,e=yh(d)?c.keyCode:0):(d=c.keyCode||this.qi,e=c.charCode||0,kl&&(g=this.fv),mb&&(63==e&&224==d)&&(d=191));var h=d,l=c.keyIdentifier;d?63232<=d&&d in hl?h=hl[d]:25==d&&b.shiftKey&&(h=9):l&&l in il&&(h=il[l]);b=h==this.he;this.he=h;c=new ll(h,e,b,c);c.altKey=g;this.dispatchEvent(c)};t.m=q("g");
t.attach=function(b,c){this.Fs&&this.detach();this.g=b;this.Es=N(this.g,"keypress",this,c);this.oy=N(this.g,"keydown",this.tf,c,this);this.Fs=N(this.g,"keyup",this.OO,c,this)};t.detach=function(){this.Es&&(Dd(this.Es),Dd(this.oy),Dd(this.Fs),this.Fs=this.oy=this.Es=k);this.g=k;this.qi=this.he=-1};t.z=function(){gl.n.z.call(this);this.detach()};a.ll=function(b,c,d,e){e&&this.B(e,i);this.type="key";this.keyCode=b;this.charCode=c;this.repeat=d};y(ll,od);a.ml=function(b){M.call(this);this.g=b;b=ra(this.g)&&1==this.g.nodeType?this.g:this.g?this.g.body:k;this.CQ=!!b&&hg(b);this.kG=N(this.g,C?"DOMMouseScroll":"mousewheel",this)};y(ml,Kd);
ml.prototype.handleEvent=function(b){var c=0,d=0,e=0,b=b.Zb;if("mousewheel"==b.type){d=1;if(A||D&&(nb||Gb("532.0")))d=40;e=nl(-b.wheelDelta,d);la(b.wheelDeltaX)?(c=nl(-b.wheelDeltaX,d),d=nl(-b.wheelDeltaY,d)):d=e}else e=b.detail,100<e?e=3:-100>e&&(e=-3),la(b.axis)&&b.axis===b.HORIZONTAL_AXIS?c=e:d=e;pa(this.zG)&&(c=Ob(c,-this.zG,this.zG));pa(this.AG)&&(d=Ob(d,-this.AG,this.AG));this.CQ&&(c=-c);c=new ol(e,b,c,d);this.dispatchEvent(c)};a.nl=function(b,c){return D&&(mb||ob)&&0!=b%c?b:b/c};
ml.prototype.z=function(){ml.n.z.call(this);Dd(this.kG);delete this.kG};a.ol=function(b,c,d,e){c&&this.B(c,i);this.type="mousewheel";this.detail=b;this.gj=d;this.hj=e};y(ol,od);a.pl=function(){Fj.call(this);this.queue=[]};y(pl,Fj);pl.prototype.add=function(b){z.contains(this.queue,b)||(this.queue.push(b),N(b,"finish",this.YG,n,this))};pl.prototype.remove=function(b){z.remove(this.queue,b)&&Bd(b,"finish",this.YG,n,this)};pl.prototype.z=function(){z.forEach(this.queue,function(b){b.H()});this.queue.length=0;pl.n.z.call(this)};a.ql=function(){pl.call(this);this.Hw=0};y(ql,pl);
ql.prototype.play=function(b){if(0==this.queue.length)return n;if(b||this.da==Ej)this.Hw=0,this.ui();else if(1==this.da)return n;this.Wd("play");-1==this.da&&this.Wd("resume");var c=-1==this.da&&!b;this.startTime=za();this.Sn=k;this.da=1;z.forEach(this.queue,function(d){(!c||-1==d.da)&&d.play(b)});return j};ql.prototype.stop=function(b){z.forEach(this.queue,function(c){c.da==Ej||c.stop(b)});this.da=Ej;this.Sn=za();this.Wd("stop");this.vi()};
ql.prototype.YG=function(){this.Hw++;this.Hw==this.queue.length&&(this.Sn=za(),this.da=Ej,this.Wd("finish"),this.vi())};a.rl=function(){M.call(this)};y(rl,Kd);t=rl.prototype;t.qe=0;t.Qo=0;t.Mo=100;t.wl=0;t.yk=1;t.QF=n;t.$s=n;t.Ea=function(b){b=sl(this,b);this.qe!=b&&(this.qe=b+this.wl>this.Mo?this.Mo-this.wl:b<this.Qo?this.Qo:b,!this.QF&&!this.$s&&this.dispatchEvent("change"))};t.X=function(){return sl(this,this.qe)};t.zp=function(b){b=sl(this,b);this.wl!=b&&(this.wl=0>b?0:this.qe+b>this.Mo?this.Mo-this.qe:b,!this.QF&&!this.$s&&this.dispatchEvent("change"))};
t.hi=function(){return this.yk==k?this.wl:Math.round(this.wl/this.yk)*this.yk};t.Oc=function(){return sl(this,this.Qo)};t.Zc=function(){return sl(this,this.Mo)};t.ix=q("yk");a.sl=function(b,c){return b.yk==k?c:b.Qo+Math.round((c-b.Qo)/b.yk)*b.yk};a.tl=function(b){T.call(this,b);this.jC=k;this.Va=new rl;N(this.Va,"change",this.$E,n,this)};y(tl,T);a.ul=Jd("dragvaluestart"),a.vl=Jd("dragvalueend"),a.wl=Jd("dragextentstart"),a.xl=Jd("dragextentend"),a.yl=Jd("dragstart"),a.zl=Jd("dragend");t=tl.prototype;t.zb="horizontal";t.ws=n;t.nR=n;t.Rf=10;t.Po=0;t.TF=j;t.jc=j;t.ae=n;t.w=function(){tl.n.w.call(this);var b=this.L().w("div",this.P(this.zb));this.$(b)};
t.$=function(b){tl.n.$.call(this,b);E.add(b,this.P(this.zb));var b=this.m(),c=Xb(k,"goog-slider-thumb",b)[0];c||(c=this.L().w("div","goog-slider-thumb"),Qc(c,Zc.sq),b.appendChild(c));this.Za=this.Gd=c;Qc(this.m(),Zc.zK);Al(this)};t.C=function(){tl.n.C.call(this);this.pe=new Ch(this.Za);this.bg=new Ch(this.Gd);this.pe.bi(this.ae);this.bg.bi(this.ae);this.pe.Zv=this.bg.Zv=ha;this.pb=new gl(this.m());Bl(this,j);this.m().tabIndex=0;Cl(this)};
a.Bl=function(b,c){c?(b.h().e(b.pe,"beforedrag",b.Rr).e(b.bg,"beforedrag",b.Rr).e(b.pe,["start","end"],b.Zr).e(b.bg,["start","end"],b.Zr).e(b.pb,"key",b.tf).e(b.m(),"mousedown",b.xj),b.TF&&Dl(b,j)):(b.h().ya(b.pe,"beforedrag",b.Rr).ya(b.bg,"beforedrag",b.Rr).ya(b.pe,["start","end"],b.Zr).ya(b.bg,["start","end"],b.Zr).ya(b.pb,"key",b.tf).ya(b.m(),"mousedown",b.xj),b.TF&&Dl(b,n))};t.ab=function(){tl.n.ab.call(this);Wc(this.pe,this.bg,this.pb,this.Yj)};
t.Rr=function(b){var c=b.vr==this.pe?this.Za:this.Gd,d;"vertical"==this.zb?(d=this.m().clientHeight-c.offsetHeight,d=(d-b.top)/d*(this.Zc()-this.Oc())+this.Oc()):d=b.left/(this.m().clientWidth-c.offsetWidth)*(this.Zc()-this.Oc())+this.Oc();d=b.vr==this.pe?Math.min(Math.max(d,this.Oc()),this.X()+this.hi()):Math.min(Math.max(d,this.X()),this.Zc());El(this,c,d)};
t.Zr=function(b){var c="start"==b.type;E.enable(this.m(),"goog-slider-dragging",c);E.enable(b.target.handle,"goog-slider-thumb-dragging",c);b=b.vr==this.pe;c?(this.dispatchEvent(yl),this.dispatchEvent(b?ul:wl)):(this.dispatchEvent(zl),this.dispatchEvent(b?vl:xl))};
t.tf=function(b){var c=j;switch(b.keyCode){case 36:Fl(this,this.Oc());break;case 35:Fl(this,this.Zc());break;case 33:Gl(this,this.Rf);break;case 34:Gl(this,-this.Rf);break;case 37:var d=this.ae&&this.Md()?1:-1;Gl(this,b.shiftKey?d*this.Rf:d*this.$p);break;case 40:Gl(this,b.shiftKey?-this.Rf:-this.$p);break;case 39:d=this.ae&&this.Md()?-1:1;Gl(this,b.shiftKey?d*this.Rf:d*this.$p);break;case 38:Gl(this,b.shiftKey?this.Rf:this.$p);break;default:c=n}c&&b.preventDefault()};
t.xj=function(b){this.m().focus&&this.m().focus();var c=b.target;!vc(this.Za,c)&&!vc(this.Gd,c)&&(this.nR?Fl(this,Hl(this,b)):(this.TA(b),this.bf=Il(this,Hl(this,b)),this.AF="vertical"==this.zb?this.Is<this.bf.offsetTop:this.Is>Jl(this,this.bf)+this.bf.offsetWidth,b=Ub(this.m()),this.h().e(b,"mouseup",this.QA,j).e(this.m(),"mousemove",this.TA),this.ni||(this.ni=new Md(200),this.h().e(this.ni,Nd,this.gF)),this.gF(),this.ni.start()))};t.VE=function(b){Gl(this,(0<b.detail?-1:1)*this.$p);b.preventDefault()};
t.gF=function(){var b;if("vertical"==this.zb){var c=this.Is,d=this.bf.offsetTop;this.AF?c<d&&(b=Kl(this,this.bf)+this.Rf):c>d+this.bf.offsetHeight&&(b=Kl(this,this.bf)-this.Rf)}else c=this.Is,d=Jl(this,this.bf),this.AF?c>d+this.bf.offsetWidth&&(b=Kl(this,this.bf)+this.Rf):c<d&&(b=Kl(this,this.bf)-this.Rf);la(b)&&El(this,this.bf,b)};t.QA=function(){this.ni&&this.ni.stop();var b=Ub(this.m());this.h().ya(b,"mouseup",this.QA,j).ya(this.m(),"mousemove",this.TA)};
a.Ll=function(b,c){var d=mg(c,b.m());return"vertical"==b.zb?d.y:b.ae&&b.Md()?b.m().clientWidth-d.x:d.x};t.TA=function(b){this.Is=Ll(this,b)};
a.Hl=function(b,c){var d=b.Oc(),e=b.Zc();if("vertical"==b.zb){var g=b.Za.offsetHeight,h=b.m().clientHeight-g,g=Ll(b,c)-g/2;return(e-d)*(h-g)/h+d}g=b.Za.offsetWidth;h=b.m().clientWidth-g;g=Ll(b,c)-g/2;return(e-d)*g/h+d},a.Kl=function(b,c){if(c==b.Za)return b.Va.X();if(c==b.Gd)return b.Va.X()+b.Va.hi();f(Error("Illegal thumb element. Neither minThumb nor maxThumb"))},a.Gl=function(b,c){var d=Kl(b,b.Za)+c,e=Kl(b,b.Gd)+c,d=Ob(d,b.Oc(),b.Zc()-b.Po),e=Ob(e,b.Oc()+b.Po,b.Zc());Ml(b,d,e-d)},a.El=function(b,
c,d){var e=k;c==b.Gd&&(d<=b.Va.Zc()&&d>=b.Va.X()+b.Po)&&(e=d-b.Va.X());var g=e||b.Va.hi();c==b.Za&&(d>=b.Oc()&&d<=b.Va.X()+g-b.Po)&&(c=g-(d-b.Va.X()),sl(b.Va,d)+sl(b.Va,c)==sl(b.Va,d+c)&&(Ml(b,d,c),e=k));e!=k&&b.Va.zp(e)},a.Ml=function(b,c,d){b.Oc()<=c&&(c<=b.Zc()-d&&b.Po<=d&&d<=b.Zc()-c)&&!(c==b.X()&&d==b.hi())&&(b.Va.$s=j,b.Va.zp(0),b.Va.Ea(c),b.Va.zp(d),b.Va.$s=n,b.$E())};t.Oc=function(){return this.Va.Oc()};t.Zc=function(){return this.Va.Zc()};
a.Il=function(b,c){return c<=b.Va.X()+b.Va.hi()/2?b.Za:b.Gd};t.$E=function(){Cl(this);Al(this);this.dispatchEvent("change")};
a.Cl=function(b){if(b.Za&&!b.ws){var c=Nl(b,Kl(b,b.Za)),d=Nl(b,Kl(b,b.Gd));if("vertical"==b.zb)b.Za.style.top=c.y+"px",b.Gd.style.top=d.y+"px",b.Rb&&(c=Ol(d.y,c.y,b.Za.offsetHeight),b.Rb.style.top=c.offset+"px",b.Rb.style.height=c.size+"px");else{var e=b.ae&&b.Md()?"right":"left";b.Za.style[e]=c.x+"px";b.Gd.style[e]=d.x+"px";b.Rb&&(c=Ol(c.x,d.x,b.Za.offsetWidth),b.Rb.style[e]=c.offset+"px",b.Rb.style.width=c.size+"px")}}},a.Ol=function(b,c,d){var e=Math.ceil(d/2);return{offset:b+e,size:Math.max(c-
b+d-2*e,0)}},a.Nl=function(b,c){var d=new Pb;if(b.Za){var e=b.Oc(),g=b.Zc(),g=c==e&&e==g?0:(c-e)/(g-e);"vertical"==b.zb?(e=b.m().clientHeight-b.Za.offsetHeight,g=Math.round(g*e),d.x=Jl(b,b.Za),d.y=e-g):(e=Math.round(g*(b.m().clientWidth-b.Za.offsetWidth)),d.x=e,d.y=b.Za.offsetTop)}return d},a.Fl=function(b,c){c=Ob(c,b.Oc(),b.Zc());b.ws&&b.jr.stop(j);var d=new ql,e,g=Il(b,c),h=b.X(),l=b.hi(),m=Kl(b,g),p=Nl(b,m);e=b.ix();Math.abs(c-m)<e&&(c=Ob(m+(c>m?e:-e),b.Oc(),b.Zc()));El(b,g,c);m=Nl(b,Kl(b,g));
e="vertical"==b.zb?[Jl(b,g),m.y]:[m.x,g.offsetTop];p=new Pj(g,[p.x,p.y],e,100);p.bi(b.ae);d.add(p);if(b.Rb){var p=Nl(b,h),r=Nl(b,h+l),l=p;e=r;g==b.Za?l=m:e=m;"vertical"==b.zb?(g=Ol(r.y,p.y,b.Za.offsetHeight),l=Ol(e.y,l.y,b.Za.offsetHeight),m=new Pj(b.Rb,[Jl(b,b.Rb),g.offset],[Jl(b,b.Rb),l.offset],100),g=new Sj(b.Rb,g.size,l.size,100)):(g=Ol(p.x,r.x,b.Za.offsetWidth),l=Ol(l.x,e.x,b.Za.offsetWidth),m=new Pj(b.Rb,[g.offset,b.Rb.offsetTop],[l.offset,b.Rb.offsetTop],100),g=new Rj(b.Rb,g.size,l.size,100));
m.bi(b.ae);g.bi(b.ae);d.add(m);d.add(g)}b.jC&&(h=b.jC.lZ(h,c,100),z.forEach(h,function(b){d.add(b)}));b.jr=d;b.h().e(d,"end",b.rN);b.ws=j;d.play(n)};t.rN=function(){this.ws=n};t.Cp=function(b){if(this.zb!=b){var c=this.P(this.zb),d=this.P(b);this.zb=b;this.m()&&(E.WI(this.m(),c,d),b=this.ae&&this.Md()?"right":"left",this.Za.style[b]=this.Za.style.top="",this.Gd.style[b]=this.Gd.style.top="",this.Rb&&(this.Rb.style[b]=this.Rb.style.top="",this.Rb.style.width=this.Rb.style.height=""),Cl(this))}};
t.z=function(){tl.n.z.call(this);this.ni&&this.ni.H();delete this.ni;this.jr&&this.jr.H();delete this.jr;delete this.Za;delete this.Gd;this.Rb&&delete this.Rb;this.Va.H();delete this.Va;this.pb&&(this.pb.H(),delete this.pb);this.Yj&&(this.Yj.H(),delete this.Yj);this.pe&&(this.pe.H(),delete this.pe);this.bg&&(this.bg.H(),delete this.bg)};t.$p=1;t.ix=function(){return this.Va.ix()};t.X=function(){return this.Va.X()};t.Ea=function(b){El(this,this.Za,b)};t.hi=function(){return this.Va.hi()};
t.zp=function(b){El(this,this.Gd,this.Va.X()+b)};t.F=function(b){Q(this.m(),b);b&&Cl(this)};a.Al=function(b){var c=b.m();if(c){var d=b.Oc();Rc(c,Yc.NK,d);d=b.Zc();Rc(c,Yc.MK,d);b=b.X();Rc(c,Yc.OK,b)}},a.Dl=function(b,c){c?(b.Yj||(b.Yj=new ml(b.m())),b.h().e(b.Yj,"mousewheel",b.VE)):b.h().ya(b.Yj,"mousewheel",b.VE)};t.Ya=function(b){if(this.jc!=b&&this.dispatchEvent(b?"enable":"disable"))this.jc=b,Bl(this,b),b||this.QA(),E.enable(this.m(),"goog-slider-disabled",!b)};t.isEnabled=q("jc");
a.Jl=function(b,c){return b.ae?Bh(c):c.offsetLeft};a.Pl=function(b){tl.call(this,b);this.Va.zp(0)};y(Pl,tl);Pl.prototype.P=function(b){return"vertical"==b?"goog-slider-vertical":"goog-slider-horizontal"};a.Ql=function(b){this.options=$.extend({},this.R,b)};y(Ql,T);t=Ql.prototype;t.R={hD:310,iD:310,Dg:250,Eg:250,dR:2,opacity:0.25,i0:"#eee"};t.$=function(b){Ql.n.$.call(this,b);this.src=this.g.src;this.options.src=this.src;this.options.Xm=(this.options.hD-this.options.Dg)/2;this.options.Wm=(this.options.iD-this.options.Eg)/2;this.gr()};
t.gr=function(){var b=this.options;this.AB=$(Xk('            <div class="avatar-editor-container" style="width:<%=containerWidth%>px">              <div class="avatar-editor-container-inner" style="height:<%=containerHeight%>px;">                <div class="avatar-editor-window" style="height:<%=windowHeight%>px;width:<%=windowWidth%>px;margin:<%=windowMarginTop%>px <%=windowMarginLeft%>px;">                  <div class="avatar-editor-window-shadow" style="height:<%=windowHeight%>px;width:<%=windowWidth%>px;"></div>                  <div class="avatar-editor-window-inner" style="width:<%=containerWidth%>px; height:<%=containerHeight%>px;margin:-<%=windowMarginTop%>px 0 0 -<%=windowMarginLeft%>px;">                    <img class="inner" title="æå¨ç¸ç"/>                  </div>                </div>                <img class="outer" style="opacity:<%=opacity%>;"/>              </div>              <div class="goog-slider-wrap">                  <i class="zg-icon image-minus"></i>                  <i class="zg-icon image-plus"></i>                  <div class="goog-slider">                      <div class="line"></div>                      <div class="goog-slider-thumb"></div>                  </div>              </div>            </div>',{containerWidth:b.iD,
containerHeight:b.hD,windowHeight:b.Dg,windowWidth:b.Eg,windowMarginTop:b.Xm,windowMarginLeft:b.Wm,src:b.src,opacity:b.opacity}));this.Lb=this.AB[0];this.AB.insertBefore(this.g);Q(this.g,n);this.IM=J("avatar-editor-container-inner",this.Lb);this.ks=J("outer",this.Lb);this.Sx=J("inner",this.Lb);this.Zm=$(this.ks);this.Eu=$(this.Sx);this.xF=0;this.Zm.load(v(this.oJ,this));this.Eu.load(v(this.oJ,this));this.Sx.src=this.ks.src=this.options.src;this.UU=J("goog-slider",this.Lb)};
t.C=function(){this.JA=new Pl;this.JA.o(this.UU);this.h().e(this.IM,["mousedown","touchstart"],function(b){var c=new Ch(this.Lb);c.addEventListener("drag",v(function(b){var c=this.zoom;this.Se={hq:this.options.Eg/c,co:this.options.Dg/c,x:(this.options.Wm-(this.IF.left+(b.clientX-this.$t)))/c,y:(this.options.Xm-(this.IF.top+(b.clientY-this.au)))/c};Rl(this)},this));c.addEventListener("end",v(function(){c.H()},this));c.Rm(b);this.Rm(b)});this.h().e(this.Lb,["touchmove"],function(b){b.stopPropagation();
b.preventDefault()});this.h().e(this.JA,"change",function(){var b=this.JA.X(),c=this.PJ;Sl(this,(this.mW-c)*b/100+c)})};a.Sl=function(b,c){b.f_=b.zoom;b.zoom=c;Tl(b,b.Se.hq/2+b.Se.x,b.Se.co/2+b.Se.y)},a.Tl=function(b,c,d){var e=b.zoom;b.Se={hq:b.options.Eg/e,co:b.options.Dg/e,x:c-b.options.Eg/e/2,y:d-b.options.Dg/e/2};Rl(b)};t.oJ=function(){this.$P||(this.Sx.complete&&this.ks.complete?this.B():(this.xF++,2<=this.xF&&this.B()))};
t.B=function(){this.js=this.Zm.width();this.hs=this.Zm.height();var b=this.options.Eg/this.js,c=this.options.Dg/this.hs;this.PJ=b=c>b?c:b;this.mW=this.PJ*this.options.dR;this.Se={co:this.options.Eg/b,hq:this.options.Dg/b,x:0,y:0};Sl(this,b);Tl(this,this.js/2,this.hs/2);this.$P=j};t.Rm=function(b){this.$t=b.clientX;this.au=b.clientY;this.IF=this.Eu.position();this.y_=this.Zm.position()};
a.Rl=function(b){var c=b.zoom,d=Ob(b.options.Wm-b.Se.x*c,b.options.Eg+b.options.Wm-b.js*c,b.options.Wm),e=Ob(b.options.Xm-b.Se.y*c,b.options.Dg+b.options.Xm-b.hs*c,b.options.Xm),g={width:c*b.js,height:c*b.hs,left:d,top:e};b.Zm.css(g);b.Eu.css(g);b.Se.x=(b.options.Wm-d)/c;b.Se.y=(b.options.Xm-e)/c};t.support=function(){return"getContext"in document.createElement("canvas")&&n};a.Vl=function(b,c,d){T.call(this);this.DC=b||Ul;this.tN=c;this.$T=d||"l"};y(Vl,T);a.Ul=1;t=Vl.prototype;t.$=function(b){this.g=b;this.w()};
t.w=function(){this.Ok=$(Xk('            <form target="av_up_frame" style="display:none;" method="post" enctype="multipart/form-data" action="<%=uploadAction%>">                <label for="avt_file"></label>                <input type="file" accept="image/*" name="picture" id="avt_file" />                <input type="hidden" name="handle_mode" value="server1" />            </form>',{uploadAction:"/upload"}));this.SJ=$('<iframe id="av_up_frame" src="about:_blank" name="av_up_frame" style="position: absolute; height: 0px; width: 0px; left: -9000px;"></iframe>');
this.SJ.appendTo(document.body);this.input=this.Ok.find("input[type=file]")[0];A?(this.Ok.find("label").html($(this.g).html()),this.g.innerHTML="",$(this.g).append(this.Ok),this.Ok.addClass("avatar-editor-form-ie")):(this.Ok.insertAfter(this.g),$(this.g).click($.proxy(function(){this.input.click()},this)));this.h().e(this.input,"change",this.Te)};
t.Te=function(b){b=this.input=b.target;this.Wl=this.Rx=this.Dj="";if(this.jf)this.jf.pa();else{this.jf=new Di(k,n);this.jf.lb("ä¿®æ¹å¾ç");var c=qi.XJ,d=qi.QK,e=new ii;e.set(c,"åæ¶",n,j).set(d,"ç¡®å®",j);mi(this.jf,e);this.h().e(this.jf,ni,function(b){if(b.key===d){if(this.Gn.support()){var c=this.Gn,b=$("<canvas>",{width:c.options.Eg,height:c.options.Dg}),e=b[0];$(document.body).append(e);var m=b[0].getContext("2d"),p=c.Se;m.drawImage(c.ks,p.x,p.y,p.hq,p.co,0,0,c.options.Eg,c.options.Dg);c=e.toDataURL("image/png");
b.remove();b=c}else b=this.Gn.Se;this.Dj=b;Wl(this);this.jf.F(n);return n}})}e=this.jf.fa();c=$("<div class='new-avatar-editor-loading'><div><span></span></div><div>æ­£å¨ä¸ä¼ ...</div></div>");e=$(e);e.html("");e.append(c);this.jf.F(j);E.add(this.jf.g,"avatar-edit-dialog");window.FileReader&&(b.files&&b.files[0])&&(this.file=b=b.files[0],c=new window.FileReader,c.onload=v(function(b){this.Wl=b.target.result;this.cp()},this),c.readAsDataURL(b));this.h().e(Y,Xl,function(b){(b=b.qb)&&!b.r?(this.Wl=b.data.pic_url,
this.Rx=b.data.hashval,window.FileReader||this.cp(),Wl(this)):U(b.msg)});this.Ok[0].submit();b=this.input.cloneNode();pc(b,this.input);this.input=b;this.h().e(this.input,"change",this.Te)};t.cp=function(){var b=this.jf.fa();this.Qx=new Image;this.Qx.src=this.Wl;b=$(b);b.html("");b.append(this.Qx);this.Gn=new Ql;this.Gn.o(this.Qx)};
a.Wl=function(b){if(b.Rx&&b.Dj){b.dispatchEvent("beforepost");var c={type:b.DC,dest_id:b.DC===Ul?R[3]:b.tN,return_size:b.$T},c=b.Gn.support()?$.extend(c,{handle_mode:"client",pic_body:b.Dj.replace(/data\:image\/\w{3,4};base64,/,""),fileName:b.file.name}):$.extend(c,{handle_mode:"server2",x:Math.round(b.Dj.x),y:Math.round(b.Dj.y),height:Math.round(b.Dj.co),width:Math.round(b.Dj.hq),hashval:b.Rx});$.post("/upload",c,$.proxy(function(b){b&&!b.r?this.data=b.msg:U(b.msg);this.dispatchEvent({type:"success",
src:this.data});this.jf.F(n)},b),"json")}};t.getData=function(){return!this.data?k:/(\w*)_\w/.exec(this.data)[1]};a.Yl=function(b){var c=navigator.userAgent,b={qq:"/oauth/auth/qqconn?next=",sina:"/oauth/auth/sina?next="}[b];!/Mobile/.test(c)||!/CriOS/.test(c)?window.open(b+"/oauth/account_callback","_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no"):location.href=b+"/oauth/account_callback&from="+encodeURIComponent(location.pathname)};$.fn.placeholder=function(b){return this.each(function(){var c=$(this),d=c.data("placeholder");d||c.data("placeholder",d=new Zl(this,b));d.Vq()})};a.Zl=function(b,c){b&&(this.input=b,"string"===typeof c&&(c={text:c}),F.extend(this.G={},this.R,c||{}),this.Zg=k,this.Tu())},a.$l="placeholder"in document.createElement("input");t=Zl.prototype;t.R={text:"",offsetParent:k,CC:n};t.XL=["paddingBottom","paddingTop","paddingLeft","paddingRight"];
t.sk=function(b){var c=this.input,d=this.G;d.text=b||"";$l?(am(c)||Rc(c,Yc.vq,d.text),c.setAttribute("placeholder",d.text)):Ac(this.label,d.text)};a.bm=function(b){$l?E.enable(b.input,"placeholder-hilight",n):E.enable(b.label,"placeholder-label-hilight",n)};t.H=function(){this.Zg&&(this.Zg.Sc(),this.Zg.H());L(this.label);this.label=k};
t.Tu=function(){var b=this.input,c=this.G;c.text||(c.text=b.getAttribute("placeholder"));if($l)return this.sk(c.text);var d=this.input,e=jg(d),g=K("label"),h=mg(d,this.offsetParent());Wf(g,{color:"gray",cursor:"text",position:"absolute",left:h.x+e.left+"px",top:h.y+e.top+"px",display:this.Jb()?"block":"none",width:cm(d,"width"),fontSize:cm(d,"fontSize"),lineHeight:cm(d,"lineHeight"),fontFamily:cm(d,"fontFamily")});d=this.label=g;this.sk(c.text);this.offsetParent().appendChild(d);e=this.Zg=new qe(this);
e.e(b,"blur",this.Vq);e.e(b,"focus",this.hide);c.CC&&e.e(b,"keydown",this.hide);e.e(d,"click",function(){this.hide();ug(b)&&b.focus()});b.t_=v(this.Vq,this);c=this.input;d=this.label;am(c)||(c.id?d.htmlFor=c.id:(d.id=Nh(Mh.U()),Rc(c,Yc.Mu,d.id)));this.position();this.Vq()};a.am=function(b){if(("labels"in b?b.labels.length:b.id&&z.some(document.getElementsByTagName("label"),function(c){return c.htmlFor===b.id}))||Sc(b,Yc.vq)||Sc(b,Yc.Mu))return j},a.cm=function(b,c){return Yf(b,c)||Zf(b,c)||b.style[c]};
t.offsetParent=function(){return this.G.offsetParent||this.input.offsetParent};t.Vq=function(){if(!$l)if(this.Jb()&&ug(this.input)){this.show();var b=this.input,c=jg(b),d=this.label,e=mg(b,this.offsetParent());Wf(d,{left:e.x+c.left+"px",top:e.y+c.top+"px",width:cm(b,"width"),fontSize:cm(b,"fontSize"),lineHeight:cm(b,"lineHeight"),fontFamily:cm(b,"fontFamily")});this.offsetParent().appendChild(d)}else this.hide()};t.show=function(){this.label&&Q(this.label,j)};
t.hide=function(){this.label&&Q(this.label,n)};t.Jb=function(){return!this.input.value};t.position=function(){z.forEach(this.XL,function(b){this.label.style[b]=cm(this.input,b)},this)};a.dm=function(){M.call(this);this.Yc=[];this.pl=[];this.iw={};this.S=new qe(this);this.rQ=this.UF=n;this.sB=j};y(dm,Kd);t=dm.prototype;t.sF=0;t.AI=ca("sF");a.em=function(b,c,d){c.TD=d;c.jj=i;b.Yc.push(c)};
t.B=function(){if(!this.UF){for(var b=0,c=this.Yc.length;b<c;b++)for(var d=rc(this.Yc[b]),e=0,g=d.length;e<g;++e){var h=d[e],l=h,m=ua(l);this.iw[m]=h;this.WD&&(this.S.e(h,"mouseover",this.vO),this.S.e(h,"mouseout",this.uO));this.VD&&(this.S.e(l,"mouseover",this.tO),this.S.e(l,"mouseout",this.sO));this.pl.push(h);this.S.e(l,["mousedown","touchstart"],this.dP)}this.UF=j}};
t.z=function(){this.S.H();for(var b=0,c=this.Yc.length;b<c;b++){var d=this.Yc[b];d.TD=i;d.jj=i}this.Yc.length=0;this.pl.length=0;this.iw=k;fm(this);dm.n.z.call(this)};a.gm=function(b,c){for(var d=0,e=b.Yc.length;d<e;d++){var g=b.Yc[d];g.ol=sg(g)}d=0;for(e=b.pl.length;d<e;d++)g=b.pl[d],g!=c&&(g.ol=sg(g))};
t.dP=function(b){var c=ua(b.currentTarget);this.Ba=this.iw[c];a:{var c=this.Ba,d=c.cloneNode(j);switch(c.tagName.toLowerCase()){case "tr":c=K("table",k,K("tbody",k,d));break a;case "td":case "th":c=K("table",k,K("tbody",k,K("tr",k,d)));break a;default:c=d}}this.Eb=c;this.wr&&E.add(this.Eb,this.wr);this.Eb.style.margin="0";this.Eb.style.position="absolute";this.Eb.style.visibility="hidden";Ub(this.Ba).body.appendChild(this.Eb);c=gg(this.Ba);og(this.Eb,c);this.Fb=new Ch(this.Eb);this.Fb.AI(this.sF);
N(this.Fb,"start",this.ux,n,this);N(this.Fb,"end",this.qO,n,this);N(this.Fb,"earlycancel",this.Gv,n,this);this.Fb.Rm(b)};
t.ux=function(b){if(this.dispatchEvent(new hm("beforedragstart",this,b.OC,this.Ba,k,k))){this.it=this.Ba.parentNode;this.rD=this.uz=this.Ba.nextElementSibling!=i?this.Ba.nextElementSibling:sc(this.Ba.nextSibling,j);this.Uv=this.it;this.Tv?E.add.apply(k,z.concat(this.Ba,this.Tv)):this.Ba.style.visibility="hidden";var c=rg(this.Eb);this.Eb.$N=c.width/2;this.Eb.ZN=c.height/2;this.Eb.style.visibility="";this.sB&&(this.Ba.style.display="none");gm(this,this.Ba);this.Ba.style.display="";N(this.Fb,"drag",
this.wO,n,this);this.dispatchEvent(new hm("dragstart",this,b.OC,this.Ba,this.Eb,this.Fb))}else b.preventDefault(),this.Gv()};
t.wO=function(b){var c=gg(this.Eb),c=new Pb(c.x+this.Eb.$N,c.y+this.Eb.ZN),d;a:{d=k;if("none"!=this.Ba.style.display){d=this.Ba.parentNode;var e=sg(d);if(im(c,e))break a}for(var e=0,g=this.Yc.length;e<g;e++){var h=this.Yc[e];if(h!=d&&im(c,h.ol)){d=h;break a}}d=k}var l;if(d){d==k&&f(Error("getHoverNextItem_ called with null hoverList."));var m,p,e=n,g=i;switch(d.TD){case 0:l=c.y;m=jm;p=km;break;case 4:e=j;case 2:l=c.x;m=lm;p=km;break;case 5:e=j;case 3:l=c.x,m=mm,p=nm}for(var h=k,r,w=rc(d),B=0,H=w.length;B<
H;B++){var G=w[B];if(G!=this.Ba){var S=m(G.ol);if(e){var X=om(G,c);la(g)||(g=X);if(p(l,S)&&(r==i||X<g||X==g&&(p(S,r)||S==r)))h=G,r=S;X<g&&(g=X)}else if(p(l,S)&&(r==i||p(S,r)))h=G,r=S}}l=h!==k&&om(h,c)>g?k:h}else l=k;if(!this.dispatchEvent(new hm("beforedragmove",this,b,this.Ba,this.Eb,this.Fb,c,d,l)))return n;if(d)this.sB?(this.Ba.parentNode!=d||(this.Ba.nextElementSibling!=i?this.Ba.nextElementSibling:sc(this.Ba.nextSibling,j))!=l)&&d.insertBefore(this.Ba,l):l&&(this.rD=l),this.Ba.style.display=
"",d.jj&&E.add(d,d.jj);else{this.rQ||(this.Ba.style.display="none");m=0;for(p=this.Yc.length;m<p;m++)r=this.Yc[m],r.jj&&E.remove(r,r.jj)}d!=this.Uv&&(this.Uv=d,gm(this,this.Ba));this.dispatchEvent(new hm("dragmove",this,b,this.Ba,this.Eb,this.Fb,c,d,l));return n};t.Gv=function(){fm(this);this.Fb=this.Eb=this.uz=this.it=this.Uv=this.Ba=k;for(var b=0,c=this.Yc.length;b<c;b++)this.Yc[b].ol=k;b=0;for(c=this.pl.length;b<c;b++)this.pl[b].ol=k};
t.qO=function(b){if(!this.dispatchEvent(new hm("beforedragend",this,b,this.Ba,this.Eb,this.Fb)))return n;this.sB||this.it.insertBefore(this.Ba,this.rD);fm(this);this.dispatchEvent(new hm("dragend",this,b,this.Ba,this.Eb,this.Fb));this.Gv();return j};
a.fm=function(b){Xc(b.Fb);b.Eb&&L(b.Eb);b.Ba&&"none"==b.Ba.style.display&&(b.it.insertBefore(b.Ba,b.uz),b.Ba.style.display="");b.Tv&&b.Ba?E.remove.apply(k,z.concat(b.Ba,b.Tv)):b.Ba&&(b.Ba.style.visibility="visible");for(var c=0,d=b.Yc.length;c<d;c++){var e=b.Yc[c];e.jj&&E.remove(e,e.jj)}};t.vO=function(b){E.add.apply(k,z.concat(b.currentTarget,this.WD))};t.uO=function(b){E.remove.apply(k,z.concat(b.currentTarget,this.WD))};t.tO=function(b){E.add.apply(k,z.concat(b.currentTarget,this.VD))};
t.sO=function(b){E.remove.apply(k,z.concat(b.currentTarget,this.VD))};
a.im=function(b,c){return b.x>c.left&&b.x<c.left+c.width&&b.y>c.top&&b.y<c.top+c.height},a.om=function(b,c){var d=b.ol;return Math.abs(c.y-(d.top+(d.height-1)/2))},a.jm=function(b){return b.top+b.height-1},a.lm=function(b){return b.left+b.width-1},a.mm=function(b){return b.left||0},a.km=function(b,c){return b<c},a.nm=function(b,c){return b>c},a.hm=function(b,c,d,e,g,h,l,m,p){kd.call(this,b);this.uZ=c;this.event=d;this.pZ=e;this.vZ=g;this.vr=h;this.wZ=l;this.QZ=m;this.RZ=p};y(hm,kd);a.tm=function(b,c,d){M.call(this);this.zf=b;this.Ef=d;this.N=c;N(c,[pm,qm,rm,sm],this);this.Bb=k;this.Xa=[];this.zc=-1;this.Nc=0;this.Vd=this.Vb=k;this.KF={}};y(tm,Kd);t=tm.prototype;t.ri=10;t.jn=j;t.pC=n;t.LJ=n;t.mJ=n;a.pm="hilite",a.qm="select",a.sm="dismiss",a.rm="canceldismiss",a.um={gY:"rowhilite",iX:pm,kY:qm,cK:sm,FW:rm,KY:"update",Ri:"suggestionsupdate"};t=tm.prototype;
t.handleEvent=function(b){if(b.target==this.N)switch(b.type){case pm:this.Ne(b.sp);break;case qm:this.Ci();break;case rm:vm(this);break;case sm:this.ij()}};t.St=function(b,c){this.Bb!=b&&(this.Bb=b,this.zf.Ai(this.Bb,this.ri,v(this.$Q,this),c),vm(this))};t.sb=function(){return this.N.V()};
a.wm=function(b){var c=b.Nc+b.Xa.length-1;b.zc>=b.Nc&&b.zc<c?b.Ne(b.zc+1):-1==b.zc?b.Ne(b.Nc):b.zc==c&&(b.pC?b.Ne(-1):b.LJ&&b.Ne(b.Nc))},a.xm=function(b){b.zc>b.Nc?b.Ne(b.zc-1):b.pC&&b.zc==b.Nc?b.Ne(-1):b.LJ&&(-1==b.zc||b.zc==b.Nc)&&b.Ne(b.Nc+b.Xa.length-1)};t.Ne=function(b){this.zc=b;this.N.Ne(b);return-1!=ym(this,b)};
t.Ci=function(){var b=ym(this,this.zc);if(-1!=b){var b=this.Xa[b],c=this.Ef.Di(b);this.mJ?(this.Bb=k,this.ij()):this.Mc();c||(this.dispatchEvent({type:"update",sp:b}),this.mJ&&this.Ef.update(j));return j}this.Mc();this.dispatchEvent({type:"update",sp:k});return n};t.Mc=function(){this.zc=-1;this.Bb=k;this.Nc+=this.Xa.length;this.Xa=[];window.clearTimeout(this.Vd);this.Vd=k;this.N.Mc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(sm)};
t.ij=function(){this.Vd||(this.Vd=window.setTimeout(v(this.Mc,this),100))};t.yF=function(){return this.Vd?(window.clearTimeout(this.Vd),this.Vd=k,j):n};a.vm=function(b){b.yF()||window.setTimeout(v(b.yF,b),10)};t.z=function(){tm.n.z.call(this);delete this.KF;this.N.H();this.Ef.H();this.zf=k};t.$Q=function(b,c,d){this.Bb==b&&this.Am(c,d)};
t.Am=function(b,c){var d="object"==ka(c)&&c,e=(d?d.LZ():c)?ym(this,this.zc):-1;this.Nc+=this.Xa.length;this.Xa=b;for(var g=[],h=0;h<b.length;++h)g.push({id:this.Nc+h,data:b[h]});h=k;this.Vb&&(h=this.KF[ua(this.Vb)]||this.Vb);this.N.xL=h;this.N.Am(g,this.Bb,this.Vb);h=this.jn;d&&d.RN()!==i&&(h=d.RN());(h||0<=e)&&0!=g.length&&this.Bb?this.Ne(0<=e?this.Nc+e:this.Nc):this.zc=-1;this.dispatchEvent("suggestionsupdate")};a.ym=function(b,c){var d=c-b.Nc;return 0>d||d>=b.Xa.length?-1:d};
t.Yk=function(b){var c=this.Ef;c.Yk.apply(c,arguments)};t.update=function(b){this.Ef.update(b)};a.Bm=function(b){var c;a:{var d=0,e=0;if(zm(b))d=b.selectionStart,e=-1;else if(A){var g=Am(b);c=g[0];g=g[1];if(c.inRange(g)){c.setEndPoint("EndToStart",g);if("textarea"==b.type){g.duplicate();d=b=c.text;for(e=n;!e;)0==c.compareEndPoints("StartToEnd",c)?e=j:(c.moveEnd("character",-1),c.text==b?d+="\r\n":e=j);c=[d.length,-1];break a}d=c.text.length;e=-1}}c=[d,e]}return c[0]},a.Am=function(b){var c=b.ownerDocument||b.document,d=c.selection.createRange();"textarea"==b.type?(c=c.body.createTextRange(),
c.moveToElementText(b)):c=b.createTextRange();return[c,d]},a.Cm=function(b,c){"textarea"==b.type&&(c=Ja(b.value.substring(0,c)).length);return c},a.zm=function(b){try{return"number"==typeof b.selectionStart}catch(c){return n}};a.Dm=function(b,c,d,e){M.call(this);e=e||150;this.gm=d!=k?d:j;this.up=b||",;";this.$M=this.up.substring(0,1);b=this.gm?"[\\s"+this.up+"]+":"[\\s]+";this.nJ=RegExp("^"+b+"|"+b+"$","g");this.qU=RegExp("\\s*["+this.up+"]$");this.lG=c||"";this.oT=this.gm;this.sa=0<e?new Md(e):k;this.ic=new qe(this);this.Su=new qe(this);this.pb=new gl;this.eG=-1};y(Dm,M);a.Em=(Pg||Qg)&&!Gb("533.17.9");t=Dm.prototype;t.fW=j;t.ON=j;t.uJ=n;t.sU=j;t.rU=j;t.Vu=k;t.gb=k;t.Io="";t.Pi=n;t.$z=n;t.sJ=j;t.Mr=q("gb");t.X=function(){return this.gb.value};
t.Ea=function(b){this.gb.value=b};t.Jq=function(b){ra(b)&&1==b.nodeType&&Rc(b,"haspopup",j);this.ic.e(b,"focus",this.Le);this.ic.e(b,"blur",this.$c);this.gb||(this.Su.e(b,"keydown",this.eS),ra(b)&&1==b.nodeType&&Nc(Ub(b))==b&&Fm(this,b))};t.Yk=function(b){for(var c=0;c<arguments.length;c++)this.Jq(arguments[c])};t.Di=function(b,c){Gm(this,b.toString(),c);return n};
a.Gm=function(b,c,d){if(la(d)?d:b.gm){var d=Hm(b,b.X(),Bm(b.gb)),e=Im(b,b.X());b.qU.test(c)||(c=Ma(c)+b.$M);b.fW&&(0!=d&&!Ha(e[d-1])&&(c=" "+c),d==e.length-1&&(c+=" "));if(c!=e[d]){e[d]=c;c=b.gb;(C||A&&Gb("9"))&&c.blur();c.value=e.join("");for(var g=0,h=0;h<=d;h++)g+=e[h].length;c.focus();d=g;e=b.gb;c=d;zm(e)?e.selectionStart=c:A&&(g=Am(e),h=g[0],h.inRange(g[1])&&(c=Cm(e,c),h.collapse(j),h.move("character",c),h.select()));e=b.gb;zm(e)?e.selectionEnd=d:A&&(g=Am(e),c=g[1],g[0].inRange(c)&&(d=Cm(e,d),
e=Cm(e,Bm(e)),c.collapse(j),c.moveEnd("character",d-e),c.select()))}}else b.Ea(c);b.$z=j};t.z=function(){Dm.n.z.call(this);this.Vu!=k&&window.clearTimeout(this.Vu);this.ic.H();delete this.ic;this.Su.H();this.pb.H()};
t.$b=function(b){switch(b.keyCode){case 40:if(this.W.sb())return this.uJ?xm(this.W):wm(this.W),b.preventDefault(),j;if(!this.gm)return this.update(j),b.preventDefault(),j;break;case 38:if(this.W.sb())return this.uJ?wm(this.W):xm(this.W),b.preventDefault(),j;break;case 9:if(this.W.sb()&&!b.shiftKey){if(this.update(),this.W.Ci()&&this.oT)return b.preventDefault(),j}else this.W.Mc();break;case 13:if(this.W.sb()){if(this.update(),this.W.Ci())return b.preventDefault(),b.stopPropagation(),j}else this.W.Mc();
break;case 27:if(this.W.sb())return this.W.Mc(),b.preventDefault(),b.stopPropagation(),j;break;case 229:if(!this.Pi)return this.Pi||(this.ic.e(this.gb,"keyup",this.iH),this.ic.e(this.gb,"keypress",this.hH),this.Pi=j),j;break;default:this.sa&&!this.sJ&&(this.sa.stop(),this.sa.start())}return Jm(this,b)};a.Jm=function(b,c){var d=b.gm&&c.charCode&&-1!=b.up.indexOf(String.fromCharCode(c.charCode));b.sU&&d&&b.update();return b.rU&&d&&b.W.Ci()?(c.preventDefault(),j):n};t.Wr=s(n);
a.Km=function(b){b.pb.attach(b.gb);b.ic.e(b.pb,"key",b.bp);b.ic.e(b.gb,"mousedown",b.jH);A&&b.ic.e(b.gb,"keypress",b.gH)};t.Le=function(b){Fm(this,b.target||k)};a.Fm=function(b,c){b.Su.Sc();b.W&&vm(b.W);c!=b.gb&&(b.gb=c,b.sa&&(b.sa.start(),b.ic.e(b.sa,Nd,b.lm)),b.Io=b.X(),Km(b))};t.$c=function(){Em?this.Vu=window.setTimeout(v(this.LH,this),0):this.LH()};
t.LH=function(){this.gb&&(this.ic.ya(this.pb,"key",this.bp),this.pb.detach(),this.ic.ya(this.gb,"keyup",this.Wr),this.ic.ya(this.gb,"mousedown",this.jH),A&&this.ic.ya(this.gb,"keypress",this.gH),this.Pi&&Lm(this),this.gb=k,this.sa&&(this.sa.stop(),this.ic.ya(this.sa,Nd,this.lm)),this.W&&this.W.ij())};t.lm=function(){this.update()};t.eS=function(b){this.Le(b)};t.bp=function(b){this.eG=b.keyCode;this.W&&this.$b(b)};t.hH=function(){this.Pi&&229!=this.eG&&Lm(this)};
t.iH=function(b){this.Pi&&(13==b.keyCode||77==b.keyCode&&b.ctrlKey)&&Lm(this)};t.jH=function(b){this.W&&this.Me(b)};t.Me=ba();a.Lm=function(b){b.Pi&&(b.Pi=n,b.ic.ya(b.gb,"keypress",b.hH),b.ic.ya(b.gb,"keyup",b.iH))};t.gH=function(b){Jm(this,b)};t.update=function(b){if(this.gb&&(b||this.X()!=this.Io)){if(b||!this.$z){var b=Bm(this.gb),c=this.X(),b=Im(this,c)[Hm(this,c,b)],b=this.nJ?String(b).replace(this.nJ,""):b;this.W&&(this.W.Vb=this.gb,this.W.St(b,this.X()))}this.Io=this.X()}this.$z=n};
a.Hm=function(b,c,d){b=Im(b,c);if(d==c.length)return b.length-1;for(var e=c=0,g=0;e<b.length&&g<=d;e++)g+=b[e].length,c=e;return c},a.Im=function(b,c){if(!b.gm)return[c];for(var d=String(c).split(""),e=[],g=[],h=0,l=n;h<d.length;h++)b.lG&&-1!=b.lG.indexOf(d[h])?(b.ON&&!l&&(e.push(g.join("")),g.length=0),g.push(d[h]),l=!l):!l&&-1!=b.up.indexOf(d[h])?(g.push(d[h]),e.push(g.join("")),g.length=0):g.push(d[h]);e.push(g.join(""));return e};a.Mm=function(b,c){M.call(this);this.TV=b;this.xB=!c;this.ma=new Ae};y(Mm,M);t=Mm.prototype;t.FG="GET";t.vc=i;t.EP=k;t.uy=k;t.nA=ca("FG");t.Na=ca("vc");t.lW=function(b,c,d){var d=Ke(d.target),e=[];if(d)try{e=ad(d)}catch(g){}c(b,e)};
t.Ai=function(b,c,d){var e,g=this.xB;e=new yf(this.TV);tj(e);e.Pd.set("token",b);c=String(c);tj(e);e.Pd.set("max_matches",c);g=String(Number(g));tj(e);e.Pd.set("use_similar",g);if(e=e.toString())b=v(this.lW,this,b,d),this.ma.bc()&&this.ma.abort(),this.uy&&Dd(this.uy),this.uy=Ad(this.ma,"success",b),this.ma.send(e,this.FG,this.vc,this.EP)};t.z=function(){this.ma.H();Mm.n.z.call(this)};a.Pm=function(b,c,d,e,g,h,l,m,p){var r=Nm(d),w=sg(b),B=ig(b);B&&w.MF(new Tf(B.left,B.top,B.right-B.left,B.bottom-B.top));var B=Vb(b),H=Vb(d);if(B.za()!=H.za()){var G=B.za().body,H=H.Ta(),S=new Pb(0,0),X=dc(Ub(G)),ja=G;do{var Oa=X==H?gg(ja):lg(ja);S.x+=Oa.x;S.y+=Oa.y}while(X&&X!=H&&(ja=X.frameElement)&&(X=X.parent));G=Qb(S,gg(G));A&&!Oc(B)&&(G=Qb(G,Pc(B)));w.left+=G.x;w.top+=G.y}b=(c&4&&hg(b)?c^2:c)&-5;w=new Pb(b&2?w.left+w.width:w.left,b&1?w.top+w.height:w.top);w=Qb(w,r);g&&(w.x+=(b&2?-1:1)*g.x,w.y+=
(b&1?-1:1)*g.y);var Qa;if(l)if(p)Qa=p;else if(Qa=ig(d))Qa.top-=r.y,Qa.right-=r.x,Qa.bottom-=r.y,Qa.left-=r.x;return Om(w,d,e,h,Qa,l,m)},a.Nm=function(b){var c;if(b=b.offsetParent){var d="HTML"==b.tagName||"BODY"==b.tagName;if(!d||"static"!=ag(b))c=gg(b),d||(d=(d=hg(b))&&C?-b.scrollLeft:d&&(!A||!Gb("8"))?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollLeft,c=Qb(c,new Pb(d,b.scrollTop)))}return c||new Pb},a.Om=function(b,c,d,e,g,h,l){var b=b.clone(),m=0,p=(d&4&&hg(c)?d^2:d)&-5,d=rg(c),l=l?l.clone():
d.clone();if(e||0!=p)p&2?b.x-=l.width+(e?e.right:0):e&&(b.x+=e.left),p&1?b.y-=l.height+(e?e.bottom:0):e&&(b.y+=e.top);if(h){if(g){m=b;e=0;if(65==(h&65)&&(m.x<g.left||m.x>=g.right))h&=-2;if(132==(h&132)&&(m.y<g.top||m.y>=g.bottom))h&=-5;m.x<g.left&&h&1&&(m.x=g.left,e|=1);m.x<g.left&&(m.x+l.width>g.right&&h&16)&&(l.width=Math.max(l.width-(m.x+l.width-g.right),0),e|=4);m.x+l.width>g.right&&h&1&&(m.x=Math.max(g.right-l.width,g.left),e|=1);h&2&&(e|=(m.x<g.left?16:0)|(m.x+l.width>g.right?32:0));m.y<g.top&&
h&4&&(m.y=g.top,e|=2);m.y>=g.top&&(m.y+l.height>g.bottom&&h&32)&&(l.height=Math.max(l.height-(m.y+l.height-g.bottom),0),e|=8);m.y+l.height>g.bottom&&h&4&&(m.y=Math.max(g.bottom-l.height,g.top),e|=2);h&8&&(e|=(m.y<g.top?64:0)|(m.y+l.height>g.bottom?128:0));m=e}else m=256;if(m&496)return m}cg(c,b);Sb(d,l)||(g=Oc(Vb(Ub(c))),A&&(!g||!Gb("8"))?(b=c.style,g?(g=Ag(c),c=jg(c),b.pixelWidth=l.width-c.left-g.left-g.right-c.right,b.pixelHeight=l.height-c.top-g.top-g.bottom-c.bottom):(b.pixelWidth=l.width,b.pixelHeight=
l.height)):(c=c.style,C?c.MozBoxSizing="border-box":D?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(l.width,0)+"px",c.height=Math.max(l.height,0)+"px"));return m};a.Qm=function(b,c,d,e){M.call(this);this.Wa=b||document.body;this.K=Vb(this.Wa);this.mp=!b;this.g=k;this.Bb="";this.Xa=[];this.vg=[];this.RI=this.mi=-1;this.nb=n;this.className="ac-renderer";this.Jt="ac-row";this.hG="active";this.Uu="ac-active";this.IP="ac-highlighted";this.jl=c||k;this.xJ=e!=k?e:j;this.es=n;this.cU=!!d;this.ou=n;this.Ws=0};y(Qm,Kd);t=Qm.prototype;t.m=q("g");t.Hf=ca("xJ");
t.Am=function(b,c,d){this.Bb=c;this.Xa=b;this.mi=-1;this.RI=za();this.Vb=d;this.vg=[];this.g||(this.g=b=this.K.w("div",{style:"display:none"}),E.add(b,this.className),Qc(b,Zc.QB),b.id=Nh(Mh.U()),this.K.appendChild(this.Wa,b),N(b,"click",this.Sr,n,this),N(b,"mousedown",this.xj,n,this),N(b,"mouseover",this.TE,n,this));this.ou&&(this.g.style.visibility="hidden");this.gW&&(this.g.style.minWidth=this.gW.clientWidth+"px");this.vg.length=0;this.K.Bt(this.g);if(this.jl&&this.jl.aa)this.jl.aa(this,this.g,
this.Xa,this.Bb);else{var e=k;O.forEach(this.Xa,function(b){b=Rm(this,b,this.Bb);this.ou?this.g.insertBefore(b,e):this.K.appendChild(this.g,b);e=b},this)}0==this.Xa.length?this.Mc():(this.show(),this.pa(),wg(this.g,j))};t.Mc=function(){this.Vb&&Rc(this.Vb,"activedescendant","");this.nb&&(this.nb=n,this.Vb&&Rc(this.Vb,Yc.Rk,n),0<this.Ws?(Xc(this.Wk),this.Wk=new Uj(this.g,this.Ws),this.Wk.play()):Q(this.g,n))};
t.show=function(){this.nb||(this.nb=j,this.Vb&&(Qc(this.Vb,Zc.$J),Rc(this.Vb,Yc.WJ,"list"),Rc(this.Vb,Yc.Rk,j)),0<this.Ws?(Xc(this.Wk),this.Wk=new Vj(this.g,this.Ws),this.Wk.play()):Q(this.g,j))};t.V=q("nb");a.Sm=function(b,c){var d=0<=c&&c<b.vg.length?b.vg[c]:i;b.dispatchEvent({type:"rowhilite",M_:d})&&(0<=b.mi&&E.remove(b.vg[b.mi],b.Uu,b.hG),b.mi=c,d&&(E.add(d,b.Uu,b.hG),b.Vb&&Rc(b.Vb,"activedescendant",d?d.id:""),kg(d,b.g)))};
t.Ne=function(b){if(-1==b)Sm(this,-1);else for(var c=0;c<this.Xa.length;c++)if(this.Xa[c].id==b){Sm(this,c);break}};t.pa=function(){if(this.Vb&&this.mp){var b;b=this.cU?3:1;this.ou&&(b^=1);Pm(this.xL||this.Vb,b,this.g,b^1,k,k,65);this.ou&&(this.g.style.visibility="visible")}};t.z=function(){this.g&&(Bd(this.g,"click",this.Sr,n,this),Bd(this.g,"mousedown",this.xj,n,this),Bd(this.g,"mouseover",this.TE,n,this),this.K.removeNode(this.g),this.g=k,this.nb=n);Xc(this.Wk);this.Wa=k;Qm.n.z.call(this)};
t.bI=function(b,c,d){d.innerHTML=Wa(b.data.toString())};
a.Tm=function(b,c,d){if(3==c.nodeType){var e=k;ma(d)&&(1<d.length&&!b.es)&&(e=z.slice(d,1));var g="";d&&(ma(d)&&(d=z.filter(d,function(b){return!Ha(b==k?"":String(b))})),b.es?ma(d)?g=z.map(d,$a).join("|"):(g=d.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),g=$a(g),g=g.replace(/ /g,"|")):ma(d)?g=0<d.length?$a(d[0]):"":/^\W/.test(d)||(g=$a(d)));d=g;if(0!=d.length){for(var g=c.nodeValue,h=RegExp("([\\s\\S]*?)\\b("+d+")","gi"),d=[],l=0,m=h.exec(g),p=0;m;)p++,d.push(m[1]),d.push(m[2]),l=h.lastIndex,
m=h.exec(g);d.push(g.substring(l));if(1<d.length){e=!b.es?1:p;for(g=0;g<e;g++)h=2*g,c.nodeValue=d[h],l=b.K.createElement("b"),l.className=b.IP,b.K.appendChild(l,b.K.createTextNode(d[h+1])),l=c.parentNode.insertBefore(l,c.nextSibling),c.parentNode.insertBefore(b.K.createTextNode(""),l.nextSibling),c=l.nextSibling;b=z.slice(d,2*e);c.nodeValue=b.join("")}else e&&Tm(b,c,e)}}else for(c=c.firstChild;c;)e=c.nextSibling,Tm(b,c,d),c=e},a.Rm=function(b,c,d){var e=b.K.w("div",{className:b.Jt,id:Nh(Mh.U())});
Qc(e,Zc.UB);b.jl&&b.jl.dd?b.jl.dd(c,d,e):b.bI(c,d,e);d&&b.xJ&&Tm(b,e,d);E.add(e,b.Jt);b.vg.push(e);return e},a.Um=function(b,c){for(;c&&c!=b.g&&!E.has(c,b.Jt);)c=c.parentNode;return c?z.indexOf(b.vg,c):-1};t.Sr=function(b){var c=Um(this,b.target);0<=c&&this.dispatchEvent({type:qm,sp:this.Xa[c].id});b.stopPropagation()};t.xj=function(b){b.stopPropagation();b.preventDefault()};t.TE=function(b){b=Um(this,b.target);0<=b&&!(300>za()-this.RI)&&this.dispatchEvent({type:pm,sp:this.Xa[b].id})};a.Vm=function(){};
Vm.prototype.aa=ba();Vm.prototype.dd=ba();a.Wm=function(b,c,d,e){this.zf=b=new Mm(b,!e);e=new Qm;d=new Dm(k,k,!!d,300);tm.call(this,b,e,d);d.W=this;d.Yk(c)};y(Wm,tm);Wm.prototype.Hf=function(b){this.N.Hf(b)};Wm.prototype.nA=function(b){this.zf.nA(b)};Wm.prototype.Na=function(b){this.zf.Na(b)};a.Xm=function(b){T.call(this);this.dT=b};y(Xm,T);t=Xm.prototype;t.$=function(b){Xm.n.$.call(this,b);this.ue=$("input",b);this.Ad=$(".zm-profile-details-items",this.g);this.wq=[];var c=this;c.wq=this.ue.map(function(){var b=new Ym("/topic/autocomplete",this,c.dT||$(this).parents(".topic-input-wrap")[0]);b.jn=n;var e=v(c.filter,c);b.filter=e;return b});this.Bm()};
t.C=function(){this.h().e(J("add",this.g),"click",this.add);var b=this;this.ue.each(function(){b.h().e(this,"keydown",function(b){this.keydown(b)})});z.forEach(this.wq,function(c){b.h().e(c.N,qm,b.select)});this.Ad.on("click","[name='del']",$.proxy(this.remove,this));this.Bm()};t.Bm=function(){if(!gh.Bc){var b=this;this.Xf&&this.Xf.H();var c=new dm;c.wr="profile-edit-item-moving";em(c,this.Ad[0],0);c.B();this.Xf=c;$('a, input, [role="button"]',this.Ad).each(function(){b.h().e(this,"mousedown",function(b){b.stopPropagation()})})}};
t.keydown=function(b){13===b.keyCode&&setTimeout(v(function(){Zm(this)&&this.add();this.ue[0].value&&(this.ue[1]&&!this.ue[1].value)&&this.ue[1].focus()},this));return j};a.Zm=function(b){return z.every(b.ue,function(b){return!!b.value})},a.$m=function(b){z.forEach(b.ue,function(b){b.value=""});b.ue[0].focus()};t.select=function(){Zm(this)&&this.add()};
t.add=function(){var b=La(this.ue[0].value),c={title:b,member_url_token:lh["1"]};if(this.ue[1]){var d=La(this.ue[1].value);if(!b&&!d)return;c.sub_title=d}fk("ProfileEditItemV2",c,this.yR,this)};t.yR=function(b){var b=$(b),c;if(b.data("title")){if(c=this.Ad.find("[data-title='"+b.data("title")+"']")[0]){Mk(c);$m(this);return}}else if(b.data("sub-title")&&(c=this.Ad.find("[data-sub-title='"+b.data("sub-title")+"']")[0])){Mk(c);$m(this);return}this.Ad.append(b);this.Bm();$m(this);this.dispatchEvent("add")};
t.remove=function(b){$(b.target).parents("li").remove();this.dispatchEvent("remove")};Xm.prototype.filter=function(b){return z.filter(b,function(b){return!this.Ad.find("[data-title='"+b+"']")[0]},this)};a.Ym=function(b,c,d,e,g){this.zf=b=new Mm(b,!g);d=new Qm(d);e=new Dm(k,k,!!e,300);tm.call(this,b,d,e);e.W=this;e.Yk(c);(e=c.getAttribute("placeholder"))&&new Zl(c,e)};y(Ym,Wm);
Ym.prototype.Am=function(b,c){b=b[0].slice(1);b=z.filter(b,function(b){return 3<b.length});b=z.map(b,function(b){return b[1]});this.filter&&(b=this.filter(b));Ym.n.Am.call(this,b,c)};$.validator.addMethod("datetime",function(b,c){return this.optional(c)||moment(b,"YYYY-MM-DDTHH:mm:ss").isValid()},"æ¶é´æ ¼å¼ä¸æ­£ç¡®");$.validator.addMethod("dateGreaterThan",function(b,c,d){return new Date(b)>new Date($(d).val())},"æ¶é´èå´ä¸æ­£ç¡®");a.an="AC ACADEMY AD AE AERO AF AG AI AL AM AN AO AQ AR ARPA AS ASIA AT AU AW AX AZ BA BB BD BE BF BG BH BI BIKE BIZ BJ BM BN BO BR BS BT BUILDERS BUZZ BV BW BY BZ CA CAB CAMERA CAMP CAREERS CAT CC CD CENTER CEO CF CG CH CI CK CL CLOTHING CM CN CO CODES COFFEE COM COMPANY COMPUTER CONSTRUCTION CONTRACTORS COOP CR CU CV CW CX CY CZ DE DIAMONDS DIRECTORY DJ DK DM DO DOMAINS DZ EC EDU EDUCATION EE EG ENTERPRISES EQUIPMENT ER ES ESTATE ET EU FARM FI FJ FK FLORIST FM FO FR GA GALLERY GB GD GE GF GG GH GI GL GLASS GM GN GOV GP GQ GR GRAPHICS GS GT GU GURU GW GY HK HM HN HOLDINGS HOLIDAY HOUSE HR HT HU ID IE IL IM IN INFO INSTITUTE INT INTERNATIONAL IO IQ IR IS IT JE JM JO JOBS JP KAUFEN KE KG KH KI KITCHEN KM KN KP KR KW KY KZ LA LAND LB LC LI LIGHTING LIMO LK LR LS LT LU LV LY MA MANAGEMENT MC MD ME MENU MG MH MIL MK ML MM MN MO MOBI MP MQ MR MS MT MU MUSEUM MV MW MX MY MZ NA NAME NC NE NET NF NG NI NINJA NL NO NP NR NU NZ OM ONL ORG PA PE PF PG PH PHOTOGRAPHY PHOTOS PK PL PLUMBING PM PN POST PR PRO PS PT PW PY QA RE RECIPES REPAIR RO RS RU RUHR RW SA SB SC SD SE SEXY SG SH SHOES SI SINGLES SJ SK SL SM SN SO SOLAR SOLUTIONS SR ST SU SUPPORT SV SX SY SYSTEMS SZ TATTOO TC TD TECHNOLOGY TEL TF TG TH TIPS TJ TK TL TM TN TO TODAY TP TR TRAINING TRAVEL TT TV TW TZ UA UG UK UNO US UY UZ VA VC VE VENTURES VG VI VIAJES VN VOYAGE VU WF WS XXX YE YT ZA ZM ZW".split(" ");
$.validator.addMethod("realEmail",function(b){return z.contains(an,z.Ve(b.split(".")).toUpperCase())},"è¯·è¾å¥çå®çé®ç®±å°å");$.validator.addMethod("strongPassword",function(b,c){return this.optional(c)||/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/.test(b)},"å¯ç å¿é¡»åå«å­æ¯åæ°å­ï¼ä¸ä¸å°äº 8 ä½");a.bn=function(b){T.call(this);$.extend(this.options={},this.R,b||{});this.RG=(new yf(location.href)).Pc().get("next")};y(bn,T);t=bn.prototype;t.R={jw:function(b,c){cn(this,b).toggle(c);dn(this);en(this,b)}};t.ig=n;t.Ju={signup:["signcontrol","signup","sina"],signin:["signcontrol","signin","sina"]};a.fn=function(b){b.ew();b.RG?location.href=b.RG:b.ig?location.href="/":location.reload()};t.C=function(){bn.n.C.call(this);this.M.show();this.lb("ç»å½ææ³¨å");this.uh(500);dn(this)};
t.$=function(b){bn.n.$.call(this,b);this.M=$(b);ub&&!Qg?this.M.addClass("mobile"):this.M.addClass("dialog");this.ig&&(this.M=$(document.body));var b=this.ig?k:function(b,c){var d=c.parent();c.is("[type=checkbox]")||c.is("[type=radio]")?b.insertAfter(d):d.hasClass("zg-form-text-input-group")||d.hasClass("zg-form-text-input-group-horizontal")?d.append(b):b.insertAfter(c)},c={confirm_password:{equalTo:"å¯ç ä¸ä¸è´",minlength:$.validator.format("å¯ç é¿åº¦ä¸åºå°äº {0} ä½"),maxlength:$.validator.format("å¯ç é¿åº¦ä¸åºå¤§äº {0} ä½")},
password:{minlength:$.validator.format("å¯ç é¿åº¦ä¸åºå°äº {0} ä½"),maxlength:$.validator.format("å¯ç é¿åº¦ä¸åºå¤§äº {0} ä½"),required:"å¯ç æªå¡«å"},last_name:{required:"å§æ°æªå¡«å"},first_name:{required:"åå­æªå¡«å"},email:{required:"é®ç®±æªå¡«å"}},b={submitHandler:this.WR,errorPlacement:b,messages:c,onfocusout:$.noop,highlight:function(b,c,d){"radio"===b.type?this.kE(b.name).addClass("error").removeClass(d):$(b).addClass("error").removeClass(d)},errorClass:"validate-error"};this.ig&&(b=$.extend({},b,{errorContainer:"#summary",errorLabelContainer:"#summary ul",
wrapper:"li",showErrors:function(b,c){if(0<c.length){var d=[];d.push("<ul>");$.each(c,function(b,c){d.push('<li><i class="icon-sign icon-sign-error"></i>'+c.message+"</li>")});d.push("</ul>");$("#summary").html(d.join("")).show()}else $("#summary").hide().html("")}}));this.Ut=b;(b=Qf.get("r_e"))?(this.ul=(c=b.match(/\"(.+)\"/))?c[1]:b,this.ml="signup"):this.ml=this.ml||"signup";gn(this,this.Ju[this.ml]);var d=this;this.M.on("click",".js-signup",$.proxy(this.EA,this));this.M.on("click",".js-signin",
$.proxy(this.KI,this));this.M.on("click",".js-bindsignin",function(b){Y.Y({type:"ga_click_sign_in_link_account",target:b.target});gn(d,["bindsignin"]);d.Yf()});this.M.on("click",".js-bindweibo",function(){Y.Y({type:"ga_click_sign_in_weibo",label:"sign_in_box_weibo"});Yl("sina");return n}).on("click",".js-weiboname",function(){Y.Y({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});Yl("sina");return n}).on("click",".js-bindqq",function(){Y.Y({type:"ga_click_sign_in_qq",label:"sign_in_box_qq"});
Yl("qq");return n}).on("click",".js-qqname",function(){Y.Y({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});Yl("qq");return n});this.Hu=$(".view-signcontrol",this.g);this.Hu.find('[type="radio"]').on("change",$.proxy(function(b){b=$(b.target).val();hn(this,"signin","signin"===b);hn(this,"signup","signup"===b);Y.Y({type:"ga_click_sign_in_switch",data:b})},this)).filter("[value="+this.ml+"]").prop("checked",j);var b=$(".view-signin",this.g).find("form"),c=$('input[name="email"]',b),
e=dj.get("lastuser:email");!c.val()&&e&&c.val(e);b.validate($.extend({},this.Ut,{Hs:$.proxy(this.oH,this)}));this.oq=b;var g=this;g.g0=(g.Gg=$(".view-signup",g.g)).find("form").validate($.extend({},g.Ut,{Hs:$.proxy(g.yS,g),rules:{email:{email:j,realEmail:j}}}));g.ul&&(g.EA(),g.Gg.find("[name=email]").val(g.ul));g.Gg.find('input[name="accept_terms"]').on("change",function(){g.Gg.find("[type=submit]").prop("disabled",!$(this).prop("checked")).toggleClass("disabled",!$(this).prop("checked"))});if(!A||
!Gb("8"))g.Gg.on("change","input, textarea, select",function(){g.rw()});this.h().e(Y,["accountcallback","sina_callback","qqconn_callback"],$.proxy(this.XG,this));this.QJ=$(".view-bindtip",this.g);var h=this;h.f0=(h.zd=$(".view-info",h.g)).find("form").validate($.extend({},h.Ut,{Hs:$.proxy(h.ZR,h)}));h.zd.on("change",'input[name="iamstudent"]',function(){$(this).prop("checked")?(h.zd.find(".js-workerinfo").hide(),h.zd.find(".js-studentinfo").show(),dn(h),jn(h)):(h.zd.find(".js-workerinfo").show(),
h.zd.find(".js-studentinfo").hide())}).on("change",'input[name="gender"]',function(){var b=$(".js-avatar",h.M),c=b.attr("src");if("http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg"===c||"http://p2.zhimg.com/54/5a/545a51608_xl.jpg"===c)"0"===$(this).val()?b.attr("src","http://p2.zhimg.com/54/5a/545a51608_xl.jpg"):b.attr("src","http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg")});jn(h);var l=this;(l.iq=$(".view-bindsignin",l.g)).find("form").validate($.extend({},l.Ut,{Hs:$.proxy(l.FR,l)}));l.iq.on("click",".js-backto-info",
function(b){Y.Y({type:"ga_click_sign_in_link_account",target:b.target});gn(l,["bindtip","info"]);return n});ub&&l.iq.find("input[type=submit]").val("ç»å½");var m=this;m.qW=$(".view-warmup",m.g).on("click",".js-gotoinfo",function(){m.CP=j;Wk("/signup/form");gn(m,["info"]);m.ig&&(gn(m,["info","bindtip"]),m.QJ.find("span").hide());m.Yf();return n});var p=this;p.mq=$(".view-followtopic",p.g).on("click",".js-gotofollowpeople",function(){Y.Y({type:"ga_click_follow_topic",data:p.GV||0});kn(p);return n}).on("click",
"a.box",p.rE);$(document).on("followchange",function(){var b=p.mq.find("a.box.followed").length;p.mq.find(".js-gotofollowpeople").text(0<b?"ä¸ä¸æ­¥":"è·³è¿");p.GV=b;p.gT=p.Ym.find("a.box.followed").length});var r=this;r.Ym=$(".view-followpeople",r.g).on("click",".js-gotofollowtopoic",function(){Y.Y({type:"ga_click_sign_in_previous_step"});ln(r)}).on("click",".js-startuse",function(){Y.Y({type:"ga_click_follow_people",data:r.gT||0});Vk(["/signup/succeed"]);fn(r)}).on("click",".js-gotoapp",function(){Wk("/signup/appdownload");
r.uh(825);$("#js-form-wrapper").width(770).css("margin","0 0 0 -386px").css("top","150px").css("height","auto");gn(r,["app"])}).on("click","a.box",r.rE);var w=this;$(".view-app",w.g).on("click",".js-gotofollowpeople",function(){kn(w)}).on("click",".js-startuse",function(){Vk(["/signup/succeed"]);fn(w)});this.Yf();b=Qf.get("accountcallback");Qf.remove("accountcallback");if(b){b=decodeURIComponent(b);try{var B=JSON.parse(b);mn("accountcallback",B)}catch(H){}}var G=this;A&&Gb("8")&&$(function(){$("input",
G.g).keydown(function(b){if(13===b.keyCode)return $(this).parents("form").submit(),n})})};t.rw=function(){$(window).on("beforeunload.SignFlow",v(s("æ³¨åè¿æªå®æï¼ç¡®è®¤ç¦»å¼è¯¥é¡µé¢åï¼"),this))};t.ew=function(){$(window).off("beforeunload.SignFlow")};a.dn=function(b){$l||setTimeout(function(){$("input[placeholder]:visible",b.g).placeholder()},10)};
t.XG=function(b){b=b.qb;if(1===b.login)return"qqconn"===b.type?Vk(["/signin/connect/qq"]):Vk(["/signin/connect/weibo"]),fn(this),n;this.CP?gn(this,["info","bindtip"]):(gn(this,["warmup","bindtip"]),this.M.find(".js-weibo-bind-name-transfer").insertAfter(".main-info>div:first-child"));"qqconn"===b.type?(this.zd.find(".js-qqname").text(b.name).removeClass("zg-btn-blue js-qqname").addClass("binded"),this.M.find(".js-avatar").attr("src",b.img)):"sina"===b.type&&(0===$("#follow-official-weibo").length&&
this.M.find(".sns-wrap").append('<div id="follow-official-weibo" style="margin-top:15px;"><label><input name="followzhihu" type="checkbox" checked> å³æ³¨ <a target="_blank" href="http://e.weibo.com/zhihu">@ç¥ä¹</a> å®æ¹å¾®å</label></div>'),this.zd.find(".js-weiboname").text(b.name).removeClass("zg-btn-red js-weiboname").addClass("binded"),this.M.find(".js-avatar").attr("src",b.img));this.zd.find(".zm-entry-head-avatar-edit-button").remove()};
a.jn=function(b){ub||b.zd.find("input[aria-haspopup]").each(function(){var b=$(this).data();b.DP||(new Ym("/topic/autocomplete",this,$(this).parent()[0]),b.DP=j)})};t.EA=function(){this.ig&&(location.hash="signup");this.Hu.find("input[type=radio][value=signup]").prop("checked",j);gn(this,this.Ju.signup);this.Gg.find("[name=email]").val(this.oq.find("[name=email]").val());dn(this);this.Yf();return n};
t.KI=function(){this.ig&&(location.hash="signin");this.Hu.find("input[type=radio][value=signin]").prop("checked",j);gn(this,this.Ju.signin);this.oq.find("[name=email]").val(this.Gg.find("[name=email]").val());this.Yf();return n};a.nn={people:bk,topic:ek};t=bn.prototype;
t.rE=function(){var b=$(this),c=b.data();c.disabled||(c.disabled=j,nn[c.type](c.id,!b.hasClass("followed")).done(function(){var c=b.hasClass("followed")?"å³æ³¨":"å·²å³æ³¨";b.toggleClass("followed");$(document).trigger("followchange");b.find(".follow-tip span").text(c)}).always(function(){c.disabled=n}))};t.az=n;
t.WR=function(b){function c(){d.disabled=n}var d=$(b).data();if(!d.disabled){d.disabled=j;var e=this;var g=$(b);if(g.data("nosubmit")===j)b=$.Deferred().resolve().promise();else{var h=$(b).serializeArray();(g=g.data("otherform"))&&$.each($(g).serializeArray(),function(b,c){z.some(h,function(b){return b.name===c.name})||h.push(c)});b=$.post(b.action,$.param(h))}b.done(e.settings.Hs).done(function(b){b&&b.r&&($.isPlainObject(b.msg)?e.showErrors(b.msg):"string"===$.type(b.msg)&&U(b.msg))}).always(c)}};
t.oH=function(b){b&&!b.r?(Vk(["/signin"]),fn(this)):b.msg&&this.Yf()};t.FR=function(b){Y.Y({type:"ga_click_sign_in_link_account",label:"sign_in_box_sign_in_link_account"});this.oH(b)};
t.Yf=function(){var b=$(".js-captcha",this.M);b&&("1"===Qf.get("l_c")||"1"===Qf.get("r_c")?("1"===Qf.get("r_c")&&(this.zd.find("input[name=email]").is(":visible")?b.appendTo(this.zd.find(".main-info")).show():this.Gg.is(":visible")&&b.insertBefore(this.Gg.find(".captcha-holder")).show()),"1"===Qf.get("l_c")&&(this.iq.is(":visible")?b.appendTo(this.iq.find(".formbar")).show():this.oq.is(":visible")&&b.insertBefore(this.oq.find(".captcha-holder")).show()),this.Yf.cM||$(".js-refresh-captcha",this.M).click($.proxy(this.WH,
this)),this.Yf.cM=j,b.find('input[name="captcha"]').prop("disabled",n),this.WH()):(b.hide(),b.find('input[name="captcha"]').prop("disabled",j)))};t.WH=function(){$(".js-captcha-img",this.M).attr("src","/captcha.gif?r="+za())};
t.yS=function(b){if(b&&!b.r){R[3]="1";var c=this,d=this.zd.find(".avatar-info"),e=new Vl(Ul);e.o(d.get(0));e.on("success",function(b){Y.Y({type:"ga_click_sign_in_avatar"});c.zd.find('input[name="avatar_path"]').val(e.getData());d.find(".zm-avatar-editor-preview").get(0).src=b.src},n,this);gn(this,["warmup"]);this.zd.find("input[name=email]").val(this.Gg.find("input[name=email]").val()).parent().hide();Wk("/signup/splash");this.az=j}else this.Yf()};t.ZR=function(b){b&&!b.r?(ln(this),this.az=j):this.Yf()};
a.ln=function(b){$.get("/register/interests").done(function(c){b.mq.find("ul").html(Xk(b.HV,{each:z.forEach,topics:c.msg}))});gn(b,["followtopic"]);$(document).trigger("followchange");b.mq.find("ul").html($("<div>").text("å è½½ä¸­â¦").css("margin-top","150px").css("text-align","center"));Wk("/signup/suggested_topics")},a.kn=function(b){$.get("/register/recommendations").done(function(c){b.Ym.find("ul").html(Xk(b.hT,{each:z.forEach,persons:c.msg}));b.Ym.find("a.box.followed").length&&b.Ym.find(".friendsfollowed").show()});
gn(b,["followpeople"]);b.Ym.find("ul").html($("<div>").text("å è½½ä¸­â¦").css("margin-top","150px").css("text-align","center"));Wk("/signup/suggested_users")};t.lb=function(b){var c=this.getParent();c&&c.lb&&(c.lb(b),$(ci(c)).removeClass("title-rich"))};t.Qt=function(b){var c=this.getParent();c&&c.Qt&&c.Qt(b)};t.uh=function(b){var c=this.getParent(),d;if(c&&c.m&&(d=c.m(),!ub||Qg))$(d).width(b),c.pa()};
a.gn=function(b,c){function d(b){return z.contains(c,b)}if(b.ig){$("#summary").hide();d("signin")?($(".hideinlogin").hide(),$(".hideinreg").css("display","inline-block")):($(".hideinlogin").css("display","inline-block"),$(".hideinreg").hide());if(d("warmup")||d("info")||d("app"))b.M.addClass("regflow"),$(".hideinlogin").hide();(d("signin")||d("signup"))&&b.M.removeClass("regflow");if(d("info"))$("#summary").prependTo($(".main-info"));else if(d("bindsignin"))$("#summary").insertAfter($(".formbar"));
else{var e=cn(b,d("signin")?"signin":"signup");$("#summary").insertBefore(e.find(".command"))}(d("followtopic")||d("followpeople"))&&$(".hideinlogin").hide()}b.zF=d("signin")||d("signup")?j:n;if(d("warmup")||d("info"))b.Qt(n),e=b.getParent(),$(e&&e.m?e.m():document.body).addClass("bg-signup"),b.lb("æ³¨åç¥ä¹"),b.uh(550),dn(b);d("bindsignin")&&b.lb("ç»å½å¹¶ç»å®å¾®å");if(d("followtopic")&&(b.lb("å³æ³¨è¯é¢"),b.uh(825),b.ig&&(!ub||Qg)))$("#js-form-wrapper").width(825).css("margin","0 0 0 -412px").css("top","150px").css("height",
"auto"),$(".footer").css("bottom","-100px"),$(".view-followtopic").width(825),$(".view-followpeople").width(825);d("app")&&b.lb("ä¸è½½ãç¥ä¹å®¢æ·ç«¯ã");d("followpeople")&&b.lb("å³æ³¨ç¨æ·");$("div.view",b.g).hide();$.each(c,function(c,d){hn(b,d)});b.SM=c},a.cn=function(b,c){return $(".view-"+c,b.g)},a.hn=function(b,c,d){d="undefined"===$.type(d)?j:!!d;b.options.jw.call(b,c,d);d&&(b.SM=[c])},a.en=function(b,c){var d=cn(b,c).find("input:text,input[type=email]").filter(":visible").get(0);setTimeout(function(){d&&d.focus()})};
t.HV='<% each(topics, function(topic, i) { %> <li><a class="box <%= topic.is_following ? "followed" : "" %> " href="javascript:;" data-type="topic" data-id="<%=topic.topic_id%>" ><img src="<%=topic.topic_avatar%>" alt="<%-topic.topic_name%>" /><div><strong class="topicname"><%=topic.topic_name%></strong><div class="extra-info"><strong><%=topic.topic_follower_num%></strong> äººå³æ³¨<br><strong><%=topic.topic_answer_num%></strong> ä¸ªç²¾å½©åç­</div><div class="follow-tip"><i class="icon-green-check"></i><span><%= topic.is_following ? "å·²å³æ³¨" : "å³æ³¨" %></span></div></div></a></li><% }) %>';
t.hT='<% each(persons, function(person, i) { %> <li><a class="box <%= person.is_following ? "followed" : "" %>" href="javascript:;" data-type="people" data-id="<%=person.member_id %>"><img src="<%=person.member_avatar %>" alt="<%-person.member_fullname %>" /><div><strong class="peoplename"><%=person.member_fullname %></strong><div class="extra-info"><%=person.description %></div><div class="follow-tip"><i class="icon-green-check"></i><span><%= person.is_following ? "å·²å³æ³¨" : "å³æ³¨" %></span></div></div></a></li><% }) %>';a.on=function(b){ai.call(this,i,i,i);this.Nn=j;setTimeout(v(function(){this.F(j);this.yb=b||k;this.yU.apply(this,this.RU[b]||[])},this))};y(on,Di);t=on.prototype;
t.RU={question_answer_vote_up:["voteup","å å¥ç¥ä¹ï¼å³å¯æãèµåãç¥¨","ç²¾å½©åç­å¼å¾æ¨è"],question_answer_vote_down:["votedown","å å¥ç¥ä¹ï¼å³å¯æãåå¯¹ãç¥¨","æéè¯¯çè®¤ç¥è¸©å¨èä¸"],question_follow_button:["follow","å å¥ç¥ä¹ï¼å³å¯è®¢éææ°åç­","ææ°åç­æ¶éç¥ä½ "],people_follow_button:["follow","å å¥ç¥ä¹ï¼å³å¯å TA äºå¨äº¤æµ","ç»è¯å¥½åãæ­æ¡£åå¤§ç"],topic_follow_button:["follow","å å¥ç¥ä¹ï¼å³å¯å³æ³¨è¯é¢","è®¢éè¯é¢ä¸æ´å¤ç²¾å½©åå®¹"],question_question_share:["share","å å¥ç¥ä¹ï¼å³å¯åæååäº«ç²¾å½©åå®¹","åäº«å°æ°æµªå¾®åãè¾è®¯å¾®åæéè¿ç§ä¿¡åäº«"],question_answer_share:["share","å å¥ç¥ä¹ï¼å³å¯åæååäº«ç²¾å½©åå®¹","åäº«å°æ°æµªå¾®åãè¾è®¯å¾®åæéè¿ç§ä¿¡åäº«"],question_answer_collect:["favo","å å¥ç¥ä¹ï¼å³å¯æ¶èç²¾å½©åç­",
"ä½ å¯ä»¥æå¥½åå®¹è£è¿ä¸ä¸ªæ¶èå¤¹ï¼æ¹ä¾¿éæ¶æ¥ç"],question_answer_add_comment_start:["comment","å å¥ç¥ä¹ï¼å³å¯åè¡¨ä½ çè¯è®º","ä½ çåä¸ï¼ä¼è®©è®¨è®ºæ´å å¨é¢"],question_comment_box:["comment","å å¥ç¥ä¹ï¼å³å¯åè¡¨ä½ çè¯è®º","ä½ çåä¸ï¼ä¼è®©è®¨è®ºæ´å å¨é¢"],question_answer_comment_box:["comment","å å¥ç¥ä¹ï¼å³å¯åè¡¨ä½ çè¯è®º","ä½ çåä¸ï¼ä¼è®©è®¨è®ºæ´å å¨é¢"],question_answer_thank:["thank","å å¥ç¥ä¹ï¼å³å¯ãæè°¢ãä½è","ç¨æç®åçæ¹å¼èµç¾è®¤ççæåº¦è®¤ççäºº"],question_answer_add_start:["answer","å å¥ç¥ä¹ï¼å³å¯åç­è¯¥é®é¢","ä½ çç¥è¯ãç»éªåè§è§£å¯ä»¥å¸®å©å«äºº"],expand:["default","å å¥ç¥ä¹ï¼å³å¯éè¯»æ´å¤åå®¹","ä¸èµ·åç°æ´å¤§çä¸ç"],top_nav_ask:["ask","å å¥ç¥ä¹ï¼å³å¯ç»§ç»­ãæé®ã","è¿éæä¸ä¸äººå£«æä¾ä¸ä¸çè§è§£ï¼è®©ä½ å¾å°æ»¡æçç­æ¡"]};
t.aa=function(){R.Ia()||on.n.aa.call(this)};t.FA=j;t.uV=Xk('    <span class="sign-icon sign-icon-<%- icon %>"></span>    <div class="title"><%= title %></div>    <div class="sub-title"><%= subTitle %></div>  ');t.yU=function(b,c,d){var e=$;bi(this);var e=e(this.Nf),g=$(ci(this));b?(e.html(this.uV({icon:b,title:c,subTitle:d})),g.addClass("title-rich")):(e.text("ç»å½ææ³¨å"),g.removeClass("title-rich"))};
a.pn=function(b,c){b.FA=c;if(b.ei)if(b.FA){var d=b.ei;d.zF&&d.EA()}else d=b.ei,d.zF&&d.KI()},a.qn=function(b){b.h().e(Y,"accountcallback",function(c){if(1===c.qb.login)return location.reload(),n;b.F(j);b.ei&&b.ei.XG(c)})};
t.C=function(){on.n.C.call(this);$(this.m()).addClass("sign-dialog");this.h().e(this,"aftershow",function(){var b=this.FA?"signup":"signin";if(this.ei)en(this.ei,b);else{var c=I("js-sign-flow").cloneNode(j);this.fa().appendChild(c);var d=this.ei=new bn;this.J(d);d.ml=b;d.o(c);this.pa()}}).e(this,"afterhide",function(){Y.Y({type:"ga_click_sign_in_close"});this.ei.az&&location.reload()}).e(this,"beforeshow",function(){Y.Y({type:"ga_click_sign_in",data:{label:this.yb}})})};
$(function(){$("#js-reg-with-mail-in-top").click(function(){new on("header_sign_up")});$("#js-reg-with-sina-in-top").click(function(){var b=pn(new on,j);Y.Y({type:"ga_click_sign_in_weibo",label:"header_sign_up"});qn(b);Yl("sina")});$("#js-reg-with-qq-in-top").click(function(){var b=pn(new on,j);Y.Y({type:"ga_click_sign_in_qq",label:"header_sign_up"});qn(b);Yl("qq")})});a.rn=function(b,c){return function(){var d={Ia:j,Kh:n};qa(c)&&(c=c.apply(this,arguments));c===j&&(c={Ia:j,Kh:j});F.extend(d,c||{});return!R.Ia()&&d.Ia?(new on(d.Ia),n):!R.Jg&&d.Kh?(el.U().F(j),n):b.apply(this,arguments)}};a.sn=void 0,a.un={"rt:button":function(){tn(this,"roundtable",k,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){tn(this,"roundtable",k,k,{follow_text:"å³æ³¨æ´»å¨"})},"c:link":function(){tn(this,"column",k,k,{follow_text:"å³æ³¨ä¸æ "})},"c:button":function(){tn(this,"column",k,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){tn(this,"question",k,k,{follow_text:"å³æ³¨é®é¢"})},"m:link":function(){var b=this.getAttribute("data-follow_text");tn(this,"people",k,k,b?{follow_text:b}:{})},"t:link":function(){tn(this,
"topic")},"m:button":function(){var b=this;tn(b,"people",function(){b.getAttribute("data-followme")&&(E.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$å¯¹æ¹å·²å³æ³¨ä½ "):b.setAttribute("data-tip","s$b$å·²äºç¸å³æ³¨"))},["zg-btn-follow","zg-btn-unfollow"])},"q:m:button":function(){tn(this,"question",k,["zg-btn-green","zg-btn-white"])},"f:button":function(){tn(this,"favlist",k,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){tn(this,"topic",k,["zg-btn-follow","zg-btn-unfollow"])}},a.tn=rn(function(b,
c,d,e,g){function h(b){b.r?U(b.msg):l(r)}function l(c){c?(E.Nh(b,m,p),Fk(b,g.unfollow_text||"åæ¶å³æ³¨")):(E.Nh(b,p,m),Fk(b,g.follow_text||"å³æ³¨"));qa(d)&&d()}sn&&"pending"===sn.state()&&sn.abort();var g=g||{},c=c||b.getAttribute("data-focustype"),e=e||["zg-follow","zg-unfollow"],m=e[0],p=e[1],r=E.has(b,m);Y.Y({type:"ga_click_follow",target:b,data:{type:c,Oj:r}});var e={roundtable:hk,column:gk,people:bk,question:ck,topic:ek,favlist:dk}[c],w=b.getAttribute("data-id")||b.id.match(/-(.*)/)[1];e&&(e=e(w,r),
"people"===c&&r?e.done(h):l(r),sn=e)},function(b,c){return{Ia:c+"_follow_button"}});$(function(){$(document.body).on("click.video","div[data-swfurl]",function(b){var c=b.currentTarget,b=$(b.currentTarget).data("swfurl");if(!Mc(c,"zh-summary")){var d={url:$(".video-info",c).text()};if(ub||Qg)b=J("video-url",c),$(c).trigger("videobox:open",d),window.open(b.innerHTML);else{var e=K("embed"),g={src:b,type:"application/x-shockwave-flash",allowscriptaccess:"never",allowfullscreen:"true",wmode:"opaque","class":"video",pluginspage:"http://get.adobe.com/cn/flashplayer/"},h=-1<b.indexOf("tudou");
if(-1<b.indexOf("youku")){var l=b.match(/\w{10,}/g);l&&(g.src="http://static.youku.com/v1.0.0366/v/swf/loader.swf?"+("VideoIDS="+l[0]+"&embedid=-&isAutoPlay=true&isShowRelatedVideo=false"))}h&&(g.src=b.replace("/v.swf","&autoPlay=true/v.swf"),g.flashvars="playMovie=true&auto=true");F.forEach(g,function(b,c){e.setAttribute(c,b)});var b=K("a",{innerHTML:'<i class="icon-fold"></i>æ¶èµ·è§é¢',"class":"video-player-close",href:"#"}),m=K("div","video-player-box",[e,K("div","video-player-foot",b)]);Ad(b,"click",
function(b){b.preventDefault();L(m);Q(c,j);$(c).trigger("videobox:close",d)});nc(m,c);Q(c,n);$(c).trigger("videobox:open",d)}}})});a.vn=void 0,a.wn=function(b){if(ub||Qg)window.open("http://v.youku.com/v_show/id_"+b+".html");else if(window.YKU){var c,d;vn?c=vn:(c=new Di,c.on("beforehide",function(){var b="close_video_finished";try{b=58<+d.currentTime()?"close_video_finished":"close_video_playing",d.pauseVideo()}catch(c){}Y.Y({type:"ga_click_close_video",label:b})}));c.F(j);$(c.m()).addClass("videopopup-dialog");var e=$(c.fa());e.children().remove();var g=$(ci(c));e.append($('<div id="youkuplayer"></div>').width(860).height(524)).append($('<div class="share-wrap">  åäº«è§é¢ï¼   <a href="javascript:;" class="share sina-share" data-type="sina" >æ°æµªå¾®å</a>  <a href="javascript:;" class="share renren-share" data-type="renren" >äººäººç½</a>  <a href="javascript:;" class="share douban-share" data-type="douban" >è±ç£</a>  <a href="javascript:;" class="share qzone-share" data-type="qzone" >QQ ç©ºé´</a></div>').on("click",
".share",function(c){var c=$(c.target),d;"sina"===c.data("type")?(Y.Y({type:"ga_click_share_video",label:"share_video_sina_weibo"}),d="http://service.weibo.com/share/share.php?"+$.param({type:"6",count:"1",appkey:"3063806388",title:"ãå¦ææ¯ä¸ªäººé½åå¾ä¹äºåäº«èªå·±çç¥è¯ï¼è¿ä¸ªä¸çæ»ä¼å¥½ä¸ä¸ç¹å¿çå§ãã ââåäº«èª@ç¥ä¹  http://www.zhihu.com/#play-video http://v.youku.com/v_show/id_"+b+".html",pic:"http://s0.zhimg.com/misc/weibo.png",language:"zh_cn",rnd:(new Date).valueOf()})):"renren"===c.data("type")?(Y.Y({type:"ga_click_share_video",label:"share_video_renren"}),
d="http://www.connect.renren.com/share/sharer?"+$.param({url:"http://www.zhihu.com/#play-video",title:"ç¥ä¹ ââ å¯è½æ¯æå¥½çä¸­æé®ç­ç¤¾åºã"})):"douban"===c.data("type")?(Y.Y({type:"ga_click_share_video",label:"share_video_douban"}),d="http://www.douban.com/recommend/?"+$.param({url:"http://www.zhihu.com/#play-video",sel:"ãå¦ææ¯ä¸ªäººé½åå¾ä¹äºåäº«èªå·±çç¥è¯ï¼è¿ä¸ªä¸çæ»ä¼å¥½ä¸ä¸ç¹å¿çå§ãã ââåäº«èª@ç¥ä¹  http://www.zhihu.com/#play-video http://v.youku.com/v_show/id_"+b+".html",title:"ç¥ä¹ ââ å¯è½æ¯æå¥½çä¸­æé®ç­ç¤¾åºã",image:"http://s0.zhimg.com/misc/weibo.png",v:1})):
"qzone"===c.data("type")&&(Y.Y({type:"ga_click_share_video",label:"share_video_qqzone"}),d="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+$.param({url:"http://www.zhihu.com/#play-video",showcount:"1",desc:"ãå¦ææ¯ä¸ªäººé½åå¾ä¹äºåäº«èªå·±çç¥è¯ï¼è¿ä¸ªä¸çæ»ä¼å¥½ä¸ä¸ç¹å¿çå§ãã ââåäº«èª@ç¥ä¹ ",summary:"å¨ç¥ä¹ï¼è®¤çä½ å°±èµ¢äº",title:"ç¥ä¹ ââ å¯è½æ¯æå¥½çä¸­æé®ç­ç¤¾åºã",site:"ç¥ä¹ç½",pics:"http://s0.zhimg.com/misc/weibo.png",style:"203",width:98,height:22}));d&&window.open(d,"","width=700, height=580, top=100, left=100, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no")}));
g.removeClass("modal-dialog-title").addClass("videopopup-title");c.uh("auto");$(c.Zn()).css("backgroundColor","#000");ei(c,0.8);d=new window.YKU.Player("youkuplayer",{client_id:"31cc1eceae589704",vid:b,autoplay:j,show_related:n});vn=c;c.pa()}};$(function(){$(document.body).on("click.videopopup","div[data-vid]",function(b){b=$(b.currentTarget).data();Y.Y({type:"ga_click_play_video",label:b.label||"home_play_video"});wn(b.vid)})});
$(function(){Xa(location.hash,"play-video")&&(window.setTimeout(function(){Y.Y({type:"ga_visit_home_video"})},10),wn("XNjEwNTk4MjIw"))});a.xn=void 0,a.yn=window.FastClick;xn=[".ac-row *",".goog-menu *",".goog-menu-button *"];if(yn){var zn=yn.prototype.needsClick,An;if(window.kX){var Bn=z.find(["matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],function(b){return HTMLElement.prototype[b]});An=Bn&&HTMLElement.prototype[Bn]}var Cn=An?function(b,c){return An.call(b,c)}:function(b,c){return $(b).is(c)};yn.prototype.needsClick=function(b){return z.some(xn,function(c){return Cn(b,c)})?j:zn.call(this,b)}};a.Dn=function(){M.call(this)};y(Dn,Kd);Dn.prototype.h=function(){return this.li||(this.li=new qe(this))};Dn.prototype.qf=function(b,c){if(!this.g)return k;for(var d=c||"A",e=b;e!=k&&e!==this.g;){if(e.tagName===d)return e;e=e.parentNode}return k};a.En=function(){M.call(this);this.last=this.xZ=0;this.BZ=n};y(En,Dn);En.prototype.B=function(){if(this.g=I("zh-global-message"))this.LG=J("zu-global-notify-msg",this.g),this.h().e(this.g,"click",this.na)};En.prototype.na=function(b){b.target&&b.target.name&&Q(this.g,n)};a.Gn=function(b,c){c&&c.length&&z.forEach(c,function(b){this.dispatchEvent(new Fn(b[0],b[1]))},b)},a.mn=function(b,c){Y.dispatchEvent(new Fn(b,c))};En.prototype.fireEvent=u(37);
a.Hn=function(b){var c=Y;c.LG?(c.LG.innerHTML=b,Q(c.g,j)):U(b)},a.Xl="iframe_data",a.Fn=function(b,c){this.type=b;this.qb=c};y(Fn,kd);a.Y=new En;Y.B();a.In=function(b){function c(){r.onload=r.onerror=r.onreadystatechange=k;document.body.removeChild(r)}function d(){c();p.resolve()}function e(){clearTimeout(m);m=k;try{delete window[h]}catch(b){window[h]=k}}"string"===$.type(b)&&(b={url:b});var b=b||{},g=$.Deferred(),h="zh"+za()+cb(),l=$.extend({},b.data||{},{callback:h}),m=k;b.timeout&&(m=setTimeout(function(){window[h]&&(window[h]=e,g.reject("timeout"))},b.timeout));window[h]=g.resolve;var b=b.url+(-1===b.url.indexOf("?")?"?":"&")+$.param(l),p=$.Deferred(),
r=document.createElement("script");r.onload=d;r.onerror=function(){c();p.reject()};r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&d()};r.src=b;document.body.appendChild(r);p.promise().fail(g.reject).always(e);return g.promise()};a.Jn=function(b){this.options=$.extend(j,{},this.R,b||{});this.promise=k;this.iI=1E3;this.Ly=3E4;this.Qj=this.iI;this.RP=1.5};y(Jn,Kd);Jn.prototype.R={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:j}};Jn.prototype.Fz=function(){if(!(this.promise&&"pending"===this.promise.state())){var b=this.options;this.promise=($.support.cors?$.ajax(b):In(b)).done($.proxy(this.iS,this)).fail($.proxy(this.wi,this))}};
Jn.prototype.iS=function(b){this.Qj=this.iI;try{this.dispatchEvent({type:"message",data:b})}catch(c){}this.Fz()};Jn.prototype.wi=function(){this.Qj!==this.Ly&&(this.Qj*=this.RP);this.Qj>this.Ly&&(this.Qj=this.Ly);this.Ec=setTimeout($.proxy(this.Fz,this),this.Qj);this.dispatchEvent("error")};a.Kn=function(b){this.Nd=b},a.Ln=function(b){return function(){this.Nd=b.apply(k,[this.Nd].concat(z.toArray(arguments)));return this}};Kn.prototype.filter=Ln(z.filter);Kn.prototype.map=Ln(z.map);Kn.prototype.reduce=Ln(z.reduce);Kn.prototype.reduceRight=Ln(z.reduceRight);Kn.prototype.flatten=Ln(z.flatten);Kn.prototype.size=function(){return this.Nd.length};Kn.prototype.toArray=q("Nd");a.Mn=function(b){F.extend(this.G={},this.R,b||{});this.bh()},a.Nn=["group","key","name"],a.On=function(b){return z.every(Nn,function(c){return b[c]})},a.Pn=function(b){return $.extend({},{key:b.key},b.Ab)},a.Qn=function(b,c){z.every(b,function(b){return!z.every(Nn,function(e){return b[e]===c[e]})})&&b.push(c);return b},a.Rn=function(b,c){var d=b[c.group];d?d.push(c):b[c.group]=[c];return b};Mn.prototype.R={hN:"å¸®å©ä¿¡æ¯",dw:"shortcut-tips-dialog"};
Mn.prototype.bh=function(){Ck(Bk(Dk,"shift+/",this.show,this),{group:"å¯¼èª",name:"å¸®å©",key:"?"})};
Mn.prototype.show=function(){var b=this.G,c=b.hN,d;d=(new Kn(Ak)).map(function(b){return F.La(b.al.mu())}).flatten().map(Pn).filter(On).reduce(Qn,[]).reduce(Rn,{}).toArray();var e=['<div class="shortcut-tips">'],g={dU:/([^\s+])+|([\s+])/g,MN:function(b){return b.replace(this.dU,function(b,c){return c?"<kbd>"+b+"</kbd>":" "+b+" "})}};F.forEach(d,function(b,c){e.push('<div class="group"><h2>',c,"</h2><dl>");z.forEach(b,function(b){e.push("<dt>",g.MN(b.key),"</dt>");e.push("<dd>",b.name,"</dd>")});e.push("</dl></div>")});
e.push("</div>");d=e.join("");Hi({title:c,content:d,Yi:["ç¡®å®"],className:b.dw})};$.easing.easeOutCubic=function(b,c,d,e,g){return e*((c=c/g-1)*c*c+1)+d};a.Sn=function(b){T.call(this);this.Fj=-1;F.extend(this.G={},this.R,b||{})};y(Sn,T);t=Sn.prototype;t.R={items:">li",lM:n,HN:j,className:"navigable",qE:"navigable-focusin"};t.C=function(){Sn.n.C.call(this);var b=this.G;this.M=$(this.g).addClass(b.className).data("navigable",this).on("focusin.navigable focusout.navigable",b.items,$.proxy(this.UR,this));this.Of()};t.z=function(){Sn.n.z.call(this);this.M.removeClass(this.G.className).data("navigable",k).off(".navigable");this.M=k};t.Of=ha;t.index=q("Fj");
t.size=function(){return this.items().length};t.prev=function(){Tn(this,this.index()-1)};t.next=function(){Tn(this,this.index()+1)};t.first=function(){Tn(this,0)};t.last=function(){Tn(this,this.size()-1)};a.Tn=function(b,c){if(c!==b.index()){var d=b.size(),e=d-1;b.G.lM&&(c>e?c=0:0>c&&(c=e));b.dispatchEvent({data:{index:c,size:d},type:"action"});0>c||c>e||(b.Fj=c,b.gz(b.items()[b.index()]))}};
t.UR=function(b){var c=this.G,d=b.currentTarget,e=$(d);"focusin"===b.type?(e.addClass(c.qE),this.Fj=$.inArray(d,this.items())):e.removeClass(c.qE)};t.gz=function(b){this.G.HN&&(b.tabIndex=-1,b.focus());this.dispatchEvent({data:{item:b},type:"focus"})};Sn.prototype.items=function(){var b=this.G.items;return!b?this.M.children().get():$(b,this.M).get()};a.Un=function(b){Sn.call(this,b);this.TJ=$("html, body")};y(Un,Sn);F.extend(Un.prototype.R={lU:200,offsetTop:0},Sn.prototype.R);a.Vn=function(b){return{k:{action:b.prev,Ab:{group:"å¯¼èª",name:"ä¸ä¸æ¡ç®"}},j:{action:b.next,Ab:{group:"å¯¼èª",name:"ä¸ä¸æ¡ç®"}},"g g":{action:b.first,Ab:{group:"å¯¼èª",name:"ç¬¬ä¸ä¸ªæ¡ç®"}},"shift+g":{action:b.last,Ab:{group:"å¯¼èª",name:"æåä¸ä¸ªæ¡ç®"}},"shift+k":{action:b.nU,Ab:{group:"å¯¼èª",name:"å±å¹ä¸ç§»"}},"shift+j":{action:b.jU,Ab:{group:"å¯¼èª",name:"å±å¹ä¸ç§»"}}}};t=Un.prototype;
t.Of=function(){F.forEach(Vn(this),function(b,c){Ck(Bk(Dk,c,b.action,this),b.Ab)},this)};t.z=function(){Un.n.z.call(this);var b=F.Hb(Vn(this));z.forEach(ma(b)?b:[b],Dk.NV,Dk)};t.gz=function(b){Un.n.gz.call(this,b);var c=this.G;this.scrollTo($(b).offset().top+c.offsetTop,c.lU,"easeOutCubic")};t.scrollTo=function(b,c,d){this.TJ.stop().animate({scrollTop:b},c,d)};t.jU=function(){this.scrollTo("+=60",100)};t.nU=function(){this.scrollTo("-=60",100)};Pi.on("init",function(){$("img.lazy").lazyload({load:function(){$(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});Pi.on("init",function(){window.parent!=window&&document.referrer&&(z.some(["zhihu.com","weibo.com"],function(b){return-1<document.referrer.indexOf(b)})?-1<document.referrer.indexOf("zhihu.com")&&!$(window.top.document.body).hasClass("zhi")&&location.reload():location.reload())});
Pi.on("init",function(){R.ul&&dj.$e("lastuser:email",R.ul)});Pi.on("init",function(){fj()});
Pi.on("init",function(){$("#js-open-in-app").on("click",function(){var b=$('meta[name="apple-itunes-app"]').attr("content");if(b){var b=(new nj(b.replace(/,\s*/,"&"))).get("app-argument")||"",c=n;-1===b.indexOf("zhihu://")&&(b="zhihu://"+b);window.location=b;window.setTimeout(function(){c=j;window.location="http://itunes.apple.com/cn/app/id432274380"},250);window.setTimeout(function(){c&&window.location.reload()},500);W("app-promotion","click_zhihu_ios_open_dl_link","header_not_logged_in")}})});
Pi.on("init",function(){$(document.body).on("click.follow","[data-follow]",function(){if(this.name)return Tk("æ«æ¸é¤ç name å±æ§:",this);var b=this.getAttribute("data-follow");(b=b&&un[b])&&b.call(this)})});Pi.on("postinit",function(){window.FastClick&&FastClick.attach(document.body)});
Pi.on("postinit",function(){if(R.Ia())if(window.MozWebSocket||window.WebSocket&&!("__addTask"in window.WebSocket))io.connect("http://"+gh.cr).on("live",function(b){Gn(Y,JSON.parse(b.replace(/^\+;/,"")))});else{var b=new Jn({url:Dg,data:{loc:location.href,channel:za()+cb()},dataType:"polling",converters:{"text polling":function(b){return JSON.parse(b.replace(/^\+;/,""))}}});b.addEventListener("message",function(b){Gn(Y,b.data)});b.Fz()}});
Pi.on("init",function(){new Mn;Un.prototype.R.offsetTop=-60;var b=$('div[data-widget="navigable"], ul[data-widget="navigable"]');if(1===b.length){var c=b.data("navigable-options"),c=new Un(c);c.o(b.get(0));var d=$("#zh-load-more");c.on("action",function(b){b.data.index>=b.data.size&&d.is(":visible")&&d[0].click()})}});
Pi.on("postinit",function(){$(document).on("click","[data-activate-dialog]",function(b){var c=this.getAttribute("data-activate-dialog"),d=el.U();d.F(j);"changeEmail"===c?d.TC(j):"resendEmail"===c&&(d.fI(j),d.CI(j));b.preventDefault()})});Pi.on("init",function(){$(document).on("click",'a[href="#"]',function(b){b.preventDefault()})});
Pi.on("postinit",function(){setTimeout(function(){var b=window._gaq=window._gaq||[];b.push(["_setAccount","UA-20961733-1"]);b.push(["_setDomainName",".zhihu.com"]);b.push(["_addOrganic","baidu","word"]);b.push(["_addOrganic","baidu","wd"]);b.push(["_addOrganic","sogou","query"]);b.push(["_addOrganic","so.360.cn","q"]);b.push(["_addOrganic","so.com","q"]);b.push(["_addOrganic","soso","w"]);b.push(["_addOrganic","google","q"]);b.push(["_addIgnoredOrganic","ç¥ä¹"]);b.push(["_addIgnoredOrganic","ç¥ä¹ç½"]);
b.push(["_addIgnoredOrganic","zhihu"]);b.push(["_addIgnoredOrganic","zhihu.com"]);b.push(["_addIgnoredOrganic","www.zhihu.com"]);var c=xh.ga_vars,d=c.user_attr.join("");b.push(["_setVar",d]);b.push(["_setCustomVar",1,"user_attr",d,3]);var e=d=9E12;c.user_created&&(e=c.user_created,b.push(["_setCustomVar",2,"registration_date",moment(e).format("YYYYMMDD"),1]));var g=document.cookie.match(/q_c1=(\w+)\|(\w+)\|(\d+)/);g&&(d=+g[3]);d=Math.min(d,e,c.now);b.push(["_setCustomVar",3,"entry_date",moment(d).format("YYYYMMDD"),
1]);b.push(["_setCustomVar",4,"abtest_group",c.abtest_mask,3]);(window._zao=window._zao||{uid:0}).uid=c.user_hash||0;b=$c(dj.get("zhga"));dj.remove("zhga");b&&!("null"===b||"undefined"===b)&&z.forEach(b,function(b){1===b.length?Wk(b[0]):Uk(b[0],b[1],b[2],b[3])});window._gaq.push(["_trackPageview"]);c=document.createElement("script");c.type="text/javascript";c.async=j;c.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";b=document.getElementsByTagName("script")[0];
b.parentNode.insertBefore(c,b);c=document.createElement("script");c.type="text/javascript";c.async=j;c.src="http://static.analytics.zhihu.com/static/za.js?v=4";b.parentNode.insertBefore(c,b);var h=window,c=b=i;h.GoogleAnalyticsObject="__ga";h.__ga=h.__ga||function(){(h.__ga.st=h.__ga.st||[]).push(arguments)};h.__ga.e_=1*new Date;b=document.createElement("script");c=document.getElementsByTagName("script")[0];b.async=1;b.src="//www.google-analytics.com/analytics.js";c.parentNode.insertBefore(b,c);b=
window.__ga;b("create","UA-20961733-3",{cookieDomain:"zhihu.com"});b("send","pageview")})});a.Wn=function(b,c,d){M.call(this);this.Uj=b;this.dh=c;this.ha=d;this.cl=v(this.DS,this)};y(Wn,M);t=Wn.prototype;t.Vt=n;t.DH=0;t.sa=k;t.fire=function(){!this.sa&&!this.DH?this.Tg():this.Vt=j};t.stop=function(){this.sa&&(Ld.clearTimeout(this.sa),this.sa=k,this.Vt=n)};t.z=function(){Wn.n.z.call(this);this.stop()};t.DS=function(){this.sa=k;this.Vt&&!this.DH&&(this.Vt=n,this.Tg())};t.Tg=function(){this.sa=Od(this.cl,this.dh);this.Uj.call(this.ha)};a.Xn=function(){M.call(this);this.g=k;this.lastPosition=0;this.Ew=this.kU=300;this.cs=j;this.iv=n;this.qV=150};y(Xn,Dn);t=Xn.prototype;t.B=function(){if(!(ub&&!Rg||z.contains(qh,"back_to_top"))){this.g=ic(this.mV);document.body.appendChild(this.g);var b=this.h(),c=new Wn(this.lz,this.qV,this);b.e(window,"scroll",function(){c.fire()});b.e(this.g,"click",this.PL)}};t.mV='<div class="zh-backtotop" style="display:none"><a data-action="backtotop" data-tip="s$r$åå°é¡¶é¨" href="javascript:;" class="btn-backtotop btn-action"><div class="arrow"></div><div class="stick"></div></a></div>';
t.PL=function(){var b=bc(document),c=cc(document),d=c.x,c=c.y,e=new ql,g=this.h();e.add(new Qj(b,[d,c],[0,0],this.kU,$j));e.add(new Uj(this.g,this.Ew,Zj));g.e(e,"finish",this.SR);g.e(e,"begin",this.ER);e.play();Y.Y("ga_click_back_to_top")};t.ER=function(){this.iv=this.cs=j};t.SR=function(){this.iv=n};t.lz=function(){if(!this.iv){var b=cc(document).y,c=ub?500:1E3;this.cs?b>=c&&((new Vj(this.g,this.Ew,Xj)).play(),this.cs=n):b<c&&((new Uj(this.g,this.Ew,Zj)).play(),this.cs=j)}};a.Yn=function(){};Yn.prototype.link="æ³æ¥ç¥ä¹å·¥ä½ï¼è¯·åéé®ä»¶å° jobs@zhihu.com";Yn.prototype.GL="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";a.Zn=function(){M.call(this)};y(Zn,Dn);a.$n=k;Zn.prototype.B=function(){$n=this;ao(this)};a.ao=function(b){b.Zj=new V(n);P(b.h(),b.Zj,"success",b.nS);b.Zj.ajax("/noti7/new?r="+ +new Date,k,"GET")};Zn.prototype.nS=function(){var b=Le(this.Zj);b&&!b.r&&Gn(Y,[b])};a.bo=function(){};bo.prototype.pa=ba();a.co=function(b,c,d){this.element=b;this.Uf=c;this.$S=d};y(co,bo);co.prototype.pa=function(b,c,d){Pm(this.element,this.Uf,b,c,i,d,this.$S)};a.eo=function(b,c){this.Vh=b instanceof Pb?b:new Pb(b,c)};y(eo,bo);eo.prototype.pa=function(b,c,d,e){Pm(dg(b),0,b,c,this.Vh,d,k,e)};a.fo=function(b,c){this.Hz=4;this.pt=c||i;Wh.call(this,b)};y(fo,Wh);fo.prototype.ed=function(b){this.pt=b||i;this.V()&&this.pa()};fo.prototype.pa=function(){if(this.pt){var b=!this.V()&&"move_offscreen"!=this.ji(),c=this.m();b&&(c.style.visibility="hidden",Q(c,j));this.pt.pa(c,this.Hz,this.Iy);b&&Q(c,n)}};a.go=function(b,c,d){this.K=d||(b?Vb(I(b)):Vb());fo.call(this,this.K.w("div",{style:"position:absolute;display:none;"}));this.ej=new Pb(1,1);this.$a=new Vd;b&&this.attach(b);c!=k&&Ac(this.m(),c)};y(go,fo);a.ho=[];t=go.prototype;t.fc=k;t.className="goog-tooltip";t.Yt=500;t.ds=0;t.L=q("K");t.attach=function(b){b=I(b);this.$a.add(b);N(b,"mouseover",this.nd,n,this);N(b,"mouseout",this.Sl,n,this);N(b,"mousemove",this.Rl,n,this);N(b,"focus",this.Le,n,this);N(b,"blur",this.Sl,n,this)};
t.detach=function(b){if(b)b=I(b),jo(this,b),this.$a.remove(b);else{for(var c=this.$a.La(),d=0;b=c[d];d++)jo(this,b);this.$a.clear()}};a.jo=function(b,c){Bd(c,"mouseover",b.nd,n,b);Bd(c,"mouseout",b.Sl,n,b);Bd(c,"mousemove",b.Rl,n,b);Bd(c,"focus",b.Le,n,b);Bd(c,"blur",b.Sl,n,b)};t.Yw=q("ds");t.ne=function(b){this.m().innerHTML=b};t.rh=function(b){var c=this.m();c&&L(c);go.n.rh.call(this,b);b&&(c=this.K.za().body,c.insertBefore(b,c.lastChild))};t.Qc=u(31);t.$w=u(10);
t.de=function(){return this.Om?this.V()?4:1:this.Tl?3:this.V()?2:0};t.ys=function(b){if(!this.V())return n;var c=gg(this.m()),d=rg(this.m());return c.x<=b.x&&b.x<=c.x+d.width&&c.y<=b.y&&b.y<=c.y+d.height};t.Vo=function(){if(!Wh.prototype.Vo.call(this))return n;if(this.anchor)for(var b,c=0;b=ho[c];c++)vc(b.m(),this.anchor)||b.F(n);z.us(ho,this);b=this.m();b.className=this.className;ko(this);N(b,"mouseover",this.Hx,n,this);N(b,"mouseout",this.hF,n,this);lo(this);return j};
t.$j=function(){z.remove(ho,this);for(var b=this.m(),c,d=0;c=ho[d];d++)c.anchor&&vc(b,c.anchor)&&c.F(n);this.AH&&mo(this.AH);Bd(b,"mouseover",this.Hx,n,this);Bd(b,"mouseout",this.hF,n,this);this.anchor=i;0==this.de()&&(this.Ot=n);Wh.prototype.$j.call(this)};t.My=function(b,c){this.anchor==b&&this.$a.contains(this.anchor)&&(this.Ot||!this.L_?(this.F(n),this.V()||(this.anchor=b,this.ed(c||no(this,0)),this.F(j))):this.anchor=i);this.Om=i};t.gi=q("$a");t.Mr=q("fc");
t.BG=function(b){this.Tl=i;b==this.anchor&&(this.fc==k||this.fc!=this.m()&&!this.$a.contains(this.fc))&&(!this.el||!this.el.fc)&&this.F(n)};a.oo=function(b,c){var d=Pc(b.K);b.ej.x=c.clientX+d.x;b.ej.y=c.clientY+d.y};t.nd=function(b){var c=po(this,b.target);this.fc=c;ko(this);c!=this.anchor&&(this.anchor=c,qo(this,c),ro(this),oo(this,b))};a.po=function(b,c){try{for(;c&&!b.$a.contains(c);)c=c.parentNode;return c}catch(d){return k}};t.Rl=function(b){oo(this,b);this.Ot=j};
t.Le=function(b){this.fc=b=po(this,b.target);this.Ot=j;if(this.anchor!=b){this.anchor=b;var c=no(this,1);ko(this);qo(this,b,c);ro(this)}};a.no=function(b,c){if(0==c){var d=b.ej.clone();return new so(d)}return new to(b.fc)},a.ro=function(b){if(b.anchor)for(var c,d=0;c=ho[d];d++)vc(c.m(),b.anchor)&&(c.el=b,b.AH=c)};
t.Sl=function(b){var c=po(this,b.target),d=po(this,b.relatedTarget);c!=d&&(c==this.fc&&(this.fc=k),lo(this),this.Ot=n,this.V()&&(!b.relatedTarget||!vc(this.m(),b.relatedTarget))?mo(this):this.anchor=i)};t.Hx=function(){var b=this.m();this.fc!=b&&(ko(this),this.fc=b)};t.hF=function(b){var c=this.m();if(this.fc==c&&(!b.relatedTarget||!vc(c,b.relatedTarget)))this.fc=k,mo(this)};
a.qo=function(b,c,d){b.Om||(b.Om=Od(v(b.My,b,c,d),b.Yt))},a.lo=function(b){b.Om&&(Ld.clearTimeout(b.Om),b.Om=i)},a.mo=function(b){2==b.de()&&(b.Tl=Od(v(b.BG,b,b.anchor),b.Yw()))},a.ko=function(b){b.Tl&&(Ld.clearTimeout(b.Tl),b.Tl=i)};t.z=function(){this.F(n);lo(this);this.detach();this.m()&&L(this.m());this.fc=k;delete this.K;go.n.z.call(this)};a.so=function(b,c){eo.call(this,b,c)};y(so,eo);
so.prototype.pa=function(b,c,d){c=dg(b);c=ig(c);d=d?new Rf(d.top+10,d.right,d.bottom,d.left+10):new Rf(10,0,0,10);Om(this.Vh,b,4,d,c,9)&496&&Om(this.Vh,b,4,d,c,5)};a.to=function(b){co.call(this,b,3)};y(to,co);to.prototype.pa=function(b,c,d){var e=new Pb(10,0);Pm(this.element,this.Uf,b,c,e,d,9)&496&&Pm(this.element,2,b,1,e,d,5)};a.uo=function(b,c,d){go.call(this,b,c,d)};y(uo,go);t=uo.prototype;t.UM=n;t.TM=100;t.Zp=n;t.gt=function(){uo.n.gt.call(this);this.Qq=Uf(sg(this.m()));this.anchor&&(this.hv=Uf(sg(this.anchor)));this.Zp=this.UM;N(this.L().za(),"mousemove",this.Rl,n,this)};t.$j=function(){Bd(this.L().za(),"mousemove",this.Rl,n,this);this.hv=this.Qq=k;this.Zp=n;uo.n.$j.call(this)};
t.ys=function(b){if(this.Vl){var c=gg(this.m()),d=rg(this.m());return c.x-this.Vl.left<=b.x&&b.x<=c.x+d.width+this.Vl.right&&c.y-this.Vl.top<=b.y&&b.y<=c.y+d.height+this.Vl.bottom}return uo.n.ys.call(this,b)};a.vo=function(b,c){if(b.hv&&b.hv.contains(c)||b.ys(c))return j;var d=b.el;return!!d&&d.ys(c)};t.BG=function(b){this.Tl=i;b==this.anchor&&(!vo(this,this.ej)&&(!this.Mr()&&(!this.el||!this.el.fc))&&(!C||!(0==this.ej.x&&0==this.ej.y)))&&this.F(n)};
t.Rl=function(b){var c=this.V();if(this.Qq){var d=Pc(this.L()),d=new Pb(b.clientX+d.x,b.clientY+d.y);vo(this,d)?c=n:this.Zp&&(c=Sf(this.Qq,d)>=Sf(this.Qq,this.ej))}if(c){if(mo(this),this.fc=k,c=this.el)c.fc=k}else 3==this.de()&&ko(this);uo.n.Rl.call(this,b)};t.Hx=function(){this.Mr()!=this.m()&&(this.Zp=n,this.fc=this.m())};t.Yw=function(){return this.Zp?this.TM:uo.n.Yw.call(this)};a.wo=function(b,c,d,e){go.call(this,k,k,d);qa(b)?this.ey=b:this.sC=b;this.hM=c!=n;this.aB=[];this.Ja=e||(d?d.za():document);N(this.Ja,"mouseover",this.iF,n,this)};y(wo,uo);t=wo.prototype;t.z=function(){wo.n.z.call(this);Bd(this.Ja,"mouseover",this.iF,n,this)};t.ey=function(b){return b.tagName in this.sC&&!!b.getAttribute(this.sC[b.tagName])};t.iF=function(b){if(b=b.target)if(this.ey(b))this.ed(k),xo(this,b);else if(this.hM&&(b=Kc(b,v(this.ey,this),n,this.j_)))this.ed(k),xo(this,b)};
a.xo=function(b,c,d){if(c==b.hf)ko(b);else if(c!=b.anchor){if(1==b.de()||4==b.de())lo(b),yo(b);var e=new zo("trigger",b,c,i);b.gi().contains(c)||(b.attach(c),b.aB.push(c));b.anchor=c;b.pz(e)?qo(b,c,d||b.pt):yo(b)}},a.Ao=function(b,c){var d=z.indexOf(b.aB,c);-1!=d&&(b.detach(c),b.aB.splice(d,1))};t.pz=function(b){return this.dispatchEvent(b)};a.yo=function(b){b.dispatchEvent(new zo("canceltrigger",b,b.anchor||k));Ao(b,b.anchor);delete b.anchor};
t.$j=function(){wo.n.$j.call(this);k!=this.hf&&Ao(this,this.hf);this.hf=k};t.nd=function(b){var c=po(this,b.target);c&&c!=this.anchor?xo(this,c):wo.n.nd.call(this,b)};t.Sl=function(b){var c=this.anchor,d=this.de();wo.n.Sl.call(this,b);if(d!=this.de()&&(1==d||4==d))this.anchor=c,yo(this)};t.My=function(b,c){wo.n.My.call(this,b,c);this.V()?(b!=this.hf&&Ao(this,this.hf),this.hf=b):(lo(this),yo(this))};a.zo=function(b,c,d,e){kd.call(this,b,c);this.anchor=d;this.data=e};y(zo,kd);a.Bo=function(b,c,d){co.call(this,b,c);this.kC=d};y(Bo,co);Bo.prototype.bo=s(5);
Bo.prototype.pa=function(b,c,d,e){var g={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},h;if(this.kC){h=Pm(this.element,this.Uf,b,c,k,d,10,e);var l=Co(h,this.Uf),m=Co(h,c);h&496&&(h=Pm(this.element,l,b,m,k,d,10,e),h&496&&(l=Co(h,l),m=Co(h,m),this.kC?Pm(this.element,l,b,m,k,d,this.bo(),e):Pm(this.element,l,b,m,k,d,0,e)));this.ot&&(b=(la(l)?l:this.Uf)+"-"+(la(c)?c:m),this.ot(g[b],b))}else Pm(this.element,this.Uf,b,c,i,d),this.ot&&
(b=this.Uf+"-"+c,this.ot(g[b],b))};a.Co=function(b,c){b&48&&(c^=2);b&192&&(c^=1);return c};a.Do=!!window.DOMTokenList,a.Eo=Do?function(b){return b.classList}:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},a.Fo=Do?function(b,c){return b.classList.contains(c)}:function(b,c){return z.contains(Eo(b),c)},a.Go=Do?function(b,c){b.classList.add(c)}:function(b,c){Fo(b,c)||(b.className+=0<b.className.length?" "+c:c)},a.Ho=Do?function(b,c){b.classList.remove(c)}:function(b,c){Fo(b,c)&&(b.className=z.filter(Eo(b),function(b){return b!=c}).join(" "))};a.Io=function(b,c){T.call(this,c);this.yb=b||""};y(Io,T);Io.prototype.cg=k;a.Jo="placeholder"in document.createElement("input");t=Io.prototype;t.no=n;t.w=function(){this.g=this.L().w("input",{type:"text"})};t.$=function(b){Io.n.$.call(this,b);this.yb||(this.yb=b.getAttribute("label")||"");Nc(Ub(b))==b&&(this.no=j,Ho(this.m(),this.an));Jo?this.m().placeholder=this.yb:Rc(this.m(),Yc.vq,this.yb)};
t.C=function(){Io.n.C.call(this);var b=new qe(this);b.e(this.m(),"focus",this.PE);b.e(this.m(),"blur",this.nx);Jo?this.S=b:(C&&b.e(this.m(),["keypress","keydown","keyup"],this.CO),b.e(dc(Ub(this.m())),"load",this.vP),this.S=b,Ko(this));this.Rh();this.m().LQ=this};t.ab=function(){Io.n.ab.call(this);this.S&&(this.S.H(),this.S=k);this.m().LQ=k};a.Ko=function(b){!b.KN&&(b.S&&b.m().form)&&(b.S.e(b.m().form,"submit",b.EO),b.KN=j)};t.z=function(){Io.n.z.call(this);this.S&&(this.S.H(),this.S=k)};t.an="label-input-label";
t.PE=function(){this.no=j;Ho(this.m(),this.an);if(!Jo&&!Lo(this)&&!this.QP){var b=this,c=function(){b.m().value=""};A?Od(c,10):c()}};t.nx=function(){Jo||(this.S.ya(this.m(),"click",this.PE),this.cg=k);this.no=n;this.Rh()};t.CO=function(b){27==b.keyCode&&("keydown"==b.type?this.cg=this.m().value:"keypress"==b.type?this.m().value=this.cg:"keyup"==b.type&&(this.cg=k),b.preventDefault())};t.EO=function(){Lo(this)||(this.m().value="",Od(this.dO,10,this))};t.dO=function(){Lo(this)||(this.m().value=this.yb)};
t.vP=function(){this.Rh()};a.Lo=function(b){return!!b.m()&&""!=b.m().value&&b.m().value!=b.yb};t.clear=function(){this.m().value="";this.cg!=k&&(this.cg="")};t.reset=function(){Lo(this)&&(this.clear(),this.Rh())};t.Ea=function(b){this.cg!=k&&(this.cg=b);this.m().value=b;this.Rh()};t.X=function(){return this.cg!=k?this.cg:Lo(this)?this.m().value:""};
t.Rh=function(){Jo?this.m().placeholder!=this.yb&&(this.m().placeholder=this.yb):(Ko(this),Rc(this.m(),Yc.vq,this.yb));if(Lo(this))b=this.m(),Ho(b,this.an);else{if(!this.QP&&!this.no){var b=this.m();Go(b,this.an)}Jo||Od(this.YT,10,this)}};t.Ya=function(b){this.m().disabled=!b;var c=this.m(),d=this.an+"-disabled";!b?Go(c,d):Ho(c,d)};t.isEnabled=function(){return!this.m().disabled};t.YT=function(){this.m()&&(!Lo(this)&&!this.no)&&(this.m().value=this.yb)};a.Oo=function(b,c){M.call(this);this.v_=k;this.minHeight=c||66;this.ac=b;this.h().e(this.ac,["input","propertychange"],this.ru);Mo(this);No(this,j);E.add(this.ac,"zu-seamless-input-origin-element")};y(Oo,Dn);Oo.prototype.ru=function(){return No(this)};
a.No=function(b,c){var d=b.ac.value.replace(/[<>]/g,"a").replace(/[\n\r]/g,"<br>");if(c||b.YS!==d)b.YS=d,b.si&&(b.si.innerHTML=d,d=b.si.scrollHeight,d=d>b.minHeight?d:b.minHeight,b.ac.style.height=bg(d,j),b.ac.style.minHeight=d+"px",b.dispatchEvent("change"))},a.Mo=function(b){if(!b.si){var c=$(b.ac).css("white-space","pre");if(0!==xg(b.ac).width){var d=K("div",{style:"overflow:hidden;position:relative;height:0;"},b.si=K("div","zu-seamless-input-mock-element"));document.body.appendChild(d);$.each("fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),
function(d,g){b.si.style[g]=c.css(g)})}}};tm.Jh=um;tm.uq=Dm;tm.uq.qY=",;";tm.uq.VX='"';a.Po=function(b,c,d,e){Dm.call(this,b,c,d,e)};y(Po,Dm);Po.prototype.Di=function(b){var c=Po.n.Di.call(this,b);b.select(this.W.Vb);return c};tm.rK=Po;tm.Pu=Qm;tm.Pu.OW=300;tm.Pu.MW=Vm;tm.XB=Mm;tm.qK=Wm;a.Qo=function(b,c){tm.XB.call(this,b,c);this.Zz=k;this.jE=j};y(Qo,tm.XB);Qo.prototype.sT=["æ ¹è¯é¢","æªå½ç±»è¯é¢"];Qo.prototype.Ep=ca("Zz");Qo.prototype.Ai=function(b,c,d){var e=v(function(b,c){for(var e=[],m,p=0;p<c.length;p++)for(var r=1;r<c[p].length;r++){m=c[p][r];var w=j;this.jE&&z.forEach(this.sT,function(b){m[2]===b&&(w=n)});w&&e.push(m)}this.Zz&&(e=this.Zz(e,b));d(b,e)},this);Qo.n.Ai.call(this,b,c,e)};a.Ro=function(b,c,d,e){this.GG=0;tm.uq.call(this,b,c,!!d,e||300)};y(Ro,tm.uq);t=Ro.prototype;
t.Di=function(b){var c=tm.rK.n.Di.call(this,b),d=this.W.Vb,e=this.W;e.sI=b;e.dispatchEvent("select");d.value="";return c};t.Ea=ba();t.update=function(b){var c=Hk(this.X());!c||"æç´¢ç¨æ·"===c||"æç´¢è¯é¢"===c||"å¨è¿éè¾å¥é®é¢"===c||z.contains(this.W.Aw||[],c)||(!c?0:unescape(encodeURIComponent(c)).length)<this.GG||c===this.wG?(this.W.ij(),this.Io=c):(this.wG=k,this.W.dispatchEvent({type:So}),Ro.n.update.call(this,b))};
t.Le=function(b){this.W&&vm(this.W);b.target!==this.gb&&(this.gb=b.target||k,this.sa&&(this.sa.start(),this.ic.e(this.sa,Nd,this.lm)),this.Io=this.X(),Km(this));this.sa&&this.sa.start();this.update(j)};t.$c=function(){this.sa&&this.sa.stop();this.W&&this.W.ij()};
t.$b=function(b){if(13===b.keyCode){if(this.W.sb()){if(this.W.Ci())return b.preventDefault(),b.stopPropagation(),j;b.preventDefault();b.stopPropagation();this.W.Bb="";this.W.Mc();this.update(j);return n}b.stopPropagation();b.preventDefault();return n}Ro.n.$b.call(this,b)};t.Jq=function(b){Ro.n.Jq.call(this,b);this.ic.e(b,"mousedown",function(b){b.stopPropagation();return j})};a.To=function(b,c,d,e){Ro.call(this,b,c,!!d,e)};y(To,Ro);
To.prototype.Di=function(b){var c=this.W;c.sI=b;c.dispatchEvent("select");return n};a.Uo=function(b,c,d,e,g,h,l,m,p){var r={};"question_suggest"===h?(r.aa=v(this.PT,this),r.dd=Pk):"topic_question"===h?(r.aa=v(this.RT,this),r.dd=Ok):r.dd=h?Ok:Pk;h=new tm.Pu(g,r);g&&(h.mp=n);h.es=j;this.N=h;this.zf=new Qo(b,!e);b=p?p:new Ro(k,k,d);l&&l.length&&new Zl(c,l[0]);b.sJ=n;tm.call(this,this.zf,h,b);b.W=this;b.Jq(c);m&&(b.GG=m)};y(Uo,tm.qK);a.So="before_update";t=Uo.prototype;t.ND=j;
t.PT=function(b,c,d){O.forEach(d,function(b){b=Rm(this,b,this.Bb);this.K.appendChild(this.g,b)},b);oc(b.g,b.K.w("div","zh-question-suggest-info",[b=b.K.w("a",{href:"javascript:;",title:"å³é­",name:"close",id:"zh-question-suggest-info-close"},[b.K.w("span","x-m"),"ä¸æ¯"]),"æ¨æ³é®çæ¯ä¸æ¯ä¸é¢çé®é¢ï¼"]),0);N(b,"click",function(){var b=this.Ef;b.$c();this.Mc();b.wG=b.X()},n,this)};
t.RT=function(b,c,d){0===d.length?this.Mc():(O.forEach(d,function(b){b=Rm(this,b,this.Bb);this.K.appendChild(this.g,b)},b),c=b.K.w("div","zh-question-topic-autocomplete-plaintext",["å»ºè®®æ·»å çè¯é¢",b.K.w("span","x-m")]),oc(b.g,c,0),gh.Bc&&N(c,"click",function(){this.Ef.$c();this.Mc()},n,this))};t.fg=q("sI");t.Ep=function(b){this.zf.Ep(b)};t.Mc=function(){if(this.ND)return Uo.n.Mc.call(this)};t.Ci=function(){return-1===ym(this,this.zc)?n:Uo.n.Ci.call(this)};
t.ij=function(){gh.Bc?Ad(document,"click",v(this.Mc,this)):Uo.n.ij.call(this)};a.Vo=function(b){M.call(this);this.bq=j;this.Ii=this.Rp=-1;this.cJ="";this.rb=k;F.extend(this.G={},this.R,b||{})};y(Vo,Dn);a.Wo=cj.create("PMForm"+R.No);t=Vo.prototype;t.R={EH:"pm",At:n};t.rh=ca("g");t.m=q("g");t.Zx=function(){this.rb=new Di(k,n);this.rb.lb("åéç§ä¿¡");mi(this.rb,k);this.rb.F(j);this.g=this.rb.fa()};t.focus=function(){this.B();this.ac.focus()};
t.B=function(){this.AP||(this.AP=j,this.bq&&(this.rb||this.Zx(),this.g.innerHTML='<div class="zm-pm-wrap"><dl class="zm-form-table zm-form-table-medium"><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">åç»ï¼</label></dt><dd class="zm-form-table-field"><div class="zm-pm-selector-wrap"><div class="zg-user-name" style="display:none;padding:4px 0 0 0"></div><input class="zg-form-text-input zm-pm-user-selector" type="text" /></div></dd><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">åå®¹ï¼</label></dt><dd class="zm-form-table-field zm-form-table-field-last"><div class="zg-editor-simple-wrap zg-form-text-input"><textarea class="zg-editor-input" style="font-weight:normal"></textarea></div></dd></dl><div class="zh-pm-warnmsg" style="display:none;text-align:right;color:#C3412F;"></div><div class="zm-command zg-clear"><div class="zm-item-meta zg-left" style="margin: 0 0 0 57px;"><span class="zg-text-counter" style="display:none">è¿å¯ä»¥è¾å¥ 500 å­</span><span class="additional-info" ></span></div><a name="cancel" href="javascript:;" class="zm-command-cancel">åæ¶</a><a name="send" href="javascript:;" class="zg-btn-blue zg-r3px" id="zh-question-pm-send-button">åé</a></div></div>'),this.Cg=
J("zg-user-name",this.g),this.ac=J("zg-editor-input",this.g),this.Uc=J("zm-pm-user-selector",this.g),this.$i=J("zm-command",this.g),this.kZ=J("zg-text-counter",this.g),this.Zs=J("zh-pm-warnmsg",this.g),this.nW=$(".additional-info",$(this.g)),this.FH=new Oo(this.ac),this.h().e(this.$i,"click",this.na).e(this.Cg,"click",this.na).e(this.ac,"keydown",this.KO),this.Uc&&((new Io("æç´¢ç¨æ·")).o(this.Uc),this.h().e(this.Uc,"blur",this.jM),this.O=new Uo("/people/autocomplete?type="+this.G.EH,this.Uc,k,k,J("zm-pm-wrap",
this.g),j),this.O.Hf(j),this.h().e(this.O,"select",this.ep)),this.sw(),this.Cy(),R.Jg||Xo(this,"æªæ¿æ´»ç¨æ·ï¼ä¸è½åéç§ä¿¡ãè¯·åæ¿æ´»é®ç®±ã"))};t.KO=function(b){if(13===b.keyCode&&(b.ctrlKey||b.metaKey))this.dF(),b.preventDefault()};a.Yo=function(b,c){b.PZ=c;b.Cg.innerHTML+='<a class="zm-profile-email-history-link" href="'+c+'">ç§ä¿¡è®°å½  Â»</a>'};t.jM=function(){this.WC&&clearTimeout(this.WC);this.WC=setTimeout(v(this.kM,this),200)};t.kM=function(){var b=Hk(this.Uc.value);-1===this.Ii&&(b&&"æç´¢ç¨æ·"!==b)&&Xo(this,"è¯·è¾å¥å¯¹æ¹å§åï¼ä»ä¸æèåééæ©æ¶ä»¶äºº")};
t.St=ca("pU");t.show=function(){this.B();this.bq&&(this.rb.F(j),this.rb.pa())};t.sw=function(){if(this.dl)$(window).on("beforeunload.PMForm",v(function(){this.Lt()},this))};t.fw=function(){this.dl&&$(window).off("beforeunload.PMForm")};t.Lt=function(){this.dl&&this.ac.value&&Wo.$e("content",this.ac.value)};t.Cy=function(){if(this.dl){var b=Wo.get("content");b&&(this.ac.value=b)}};t.Hv=function(){this.dl&&Wo.remove("content")};t.ep=function(){var b=z.slice(this.O.fg(),1);Zo(this,b[3],b[0],j)};
a.Zo=function(b,c,d,e){-1===c?(c=b.Cg,Q(b.Uc,j),Q(c,n)):c!==R[3]&&(b.Ii=c,b.cJ=d,b.Cg&&b.Uc&&(b.Cg.innerHTML=b.cJ+(e?Kk():""),c=b.Uc,Q(b.Cg,j),Q(c,n),b.Uc.value=""))};
t.dF=rn(function(){if(!(this.Ed&&"pending"===this.Ed.state()))if(-1===this.Ii)Xo(this,"è¯·å¡«åæ¶ä¿¡äººã");else{var b=this.ac.value;La(b)?(b=-1!==this.Rp?$.post("/inbox/reply",{message_id:this.Rp,content:b,type:this.bB}):$.post("/inbox/post",{member_id:this.Ii,content:b,token:this.pU}),b.done(v(this.xS,this)),this.Ed=b):Xo(this,"è¯·å¡«åç§ä¿¡åå®¹ã")}},j);t.na=function(b){if(b=(b=this.qf(b.target))&&b.name)switch(b){case "edit":this.Ii=-1;b=this.Cg;Q(this.Uc,j);Q(b,n);break;case "cancel":this.bq&&this.rb.F(n);break;case "send":this.dF()}};
a.Xo=function(b,c){b.Zs.innerHTML=c;Q(b.Zs,j)};t.xS=function(b){Uk("message","send_message");b&&!b.r?(this.fw(),this.Hv(),this.bq&&this.rb.F(n),this.G.At?window.location.reload():U("åéæå")):Xo(this,b.msg)};t.dl=j;a.$o=function(){M.call(this);this.IU=this.HP=250;this.Qh={}};y($o,Dn);a.ap={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};t=$o.prototype;t.KP={t:0,r:2,b:1,l:2};a.bp=function(b,c){return'<div class="popover-content no-hovercard">'+b+"</div>"+('<div class="arrow"></div><div class="arrow2'+(c?" loading":"")+'"></div>')};
t.B=function(){if(!gh.Bc&&!z.contains(qh,"tooltiop")){var b=this.T=new wo({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip"}),c=K("div",{id:"zh-tooltip"});document.body.appendChild(c);this.T.rh(c);this.T.Yt=this.IU;this.T.ds=this.HP;this.h().e(this.T,"trigger",this.pz);var d=$(c),e=k;b.on("show",function(b){clearTimeout(e);d.addClass("in");Y.Y({type:"ga_hover_hovercard",target:b.target.hf||b.target.anchor})}).on("hide",function(){d.css({display:"block",visibility:"visible"}).removeClass("in").addClass("out");
e=setTimeout(function(){d.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.h().e(this.T,"beforeshow",this.Vo);this.h().e(this.T,"beforehide",this.DR);$(b.m()).on("click",".member-profile-card-pm",function(c){c.preventDefault();var d=$(this);b.F(n);rn(function(){var b=new Vo;b.show();Zo(b,d.data("pmHash"),d.data("pmName"));Yo(b,d.attr("href"));b.ac.focus()},j)()})}};t.DR=function(){"s"!==this.Xh&&this.Qh[this.Xh]&&this.Qh[this.Xh][this.In]&&(this.Qh[this.Xh][this.In]=$(this.T.m()).find(".popover-content").html())};
t.Vo=function(){var b=this.T.hf||this.T.anchor,c=b.getAttribute("data-tip");this.AD=b;b=c.split("$");this.Xh=b[0];this.In=b[2];this.il=b[1];if("s"===this.Xh)b=this.In,c=[],c.push('<div class="tooltip-arrow'),c.push('"></div><div class="tooltip-inner">'),c.push(Za(b)),c.push("</div></div>"),b=c.join(""),cp(this,b);else{var d=this.Xh,e=this.In,b=this.il;if(c=this.Qh[d]&&this.Qh[d][e])cp(this,bp(c));else if(c=ap[d])$.get("/node/"+c,{params:{url_token:e}},v(function(b){dp(this,b,d,e)},this)),cp(this,
this.zv(b))}ep(this)};a.ep=function(b){var c;switch(b.il){case "t":c=5;break;case "r":c=4;break;case "b":c=4;break;case "l":c=6}b=b.T;b.Hz=c;b.V()&&b.pa()};t.zv=function(){return bp('<div class="zh-hovercard-spinner"></div>',j)};a.dp=function(b,c,d,e){b.Xh===d&&b.In===e&&dp(b,c);b.Qh[d]=b.Qh[d]||{};b.Qh[d][e]=c;ep(b);cp(b,bp(c));xo(b.T,b.AD,b.il)},a.cp=function(b,c){b.T.ne(c);b.T.ed(b.PM)};
t.pz=function(b){var c=b.anchor,d=c&&c.getAttribute("data-tip"),b=d.split("$"),e=k;Mc(c,"no-hovercard")?(b=this.T,lo(b),yo(b)):d&&1<b.length?(c.title&&(c.setAttribute("data-original_title",c.title),c.removeAttribute("title")),e=b[1],"s"!==b[0]&&(210>lg(c).y?"t"===e&&(e="b",c.setAttribute("data-tip",d.replace("$t$","$b$"))):(e="t",c.setAttribute("data-tip",d.replace("$b$","$t$")))),this.PM=e=new Bo(c,this.KP[e],"b"===e||"t"===e),c=v(this.zS,this),e.ot=c,this.T.className="s"!==b[0]?"goog-hovercard popover":
"tooltip"):(b=this.T,lo(b),yo(b))};
t.zS=function(b,c){var d=this.T.m();E.remove(d,"top","bottom","left","right");E.add(d,b);var e=xg(d),g=xg(this.AD),h=new Pb(d.offsetLeft,d.offsetTop);if("t"===this.il||"b"===this.il){var e=(e.width-g.width)/2,l=h.x-e;if("s"===this.Xh)Wf(d,"left",l+"px");else{var l=z.contains(["2-5","3-5","3-4","2-4"],c),m=$(".zh-hovercard-spinner",d)[0],p=J("arrow",d),r=J("arrow2",d);m?Wf(d,"left",h.x-e+"px"):l?Wf(d,"left",h.x+83+"px"):Wf(d,"left",h.x-70+"px");var w=g.width/2;p&&r&&(m||(l?z.forEach([p,r],function(b){Wf(b,
"left","auto");Wf(b,"right",w+70+"px")}):z.forEach([p,r],function(b){Wf(b,"left",w+70+"px")})))}}else Wf(d,"top",h.y-(e.height-g.height)/2+"px"),"l"===this.il&&cg(d,h.x-g.width)};a.fp=function(){},a.gp=void 0;ia(fp);t=fp.prototype;t.xc=ba();t.w=function(b){var c=b.L().w("div",this.sf(b).join(" "),b.ib());hp(this,b,c);return c};t.fa=aa();t.oj=function(b,c,d){if(b=b.m?b.m():b)if(A&&!Gb("7")){var e=ip(E.get(b),c);e.push(c);xa(d?E.add:E.remove,b).apply(k,e)}else E.enable(b,c,d)};t.Kc=s(j);
t.o=function(b,c){c.id&&Qh(b,c.id);var d=this.fa(c);d&&d.firstChild?b.Hm(d.firstChild.nextSibling?z.clone(d.childNodes):d.firstChild):b.Hm(k);var e=0,g=this.P(),h=this.P(),l=n,m=n,d=n,p=E.get(c);z.forEach(p,function(b){!l&&b==g?(l=j,h==g&&(m=j)):!m&&b==h?m=j:e|=this.hx(b)},this);b.da=e;l||(p.push(g),h==g&&(m=j));m||p.push(h);var r=b.pf;r&&p.push.apply(p,r);if(A&&!Gb("7")){var w=ip(p);0<w.length&&(p.push.apply(p,w),d=j)}(!l||!m||r||d)&&E.set(c,p.join(" "));hp(this,b,c);return c};
t.Pe=function(b){b.Md()&&this.Fi(b.m(),j);b.isEnabled()&&this.Ze(b,b.V())};a.hp=function(b,c,d){c.isEnabled()||b.Ag(d,1,j);c.da&8&&b.Ag(d,8,j);c.Ub&16&&b.Ag(d,16,c.fe());c.Ub&64&&b.Ag(d,64,c.sb())};t.vp=function(b,c){wg(b,!c,!A&&!tb)};t.Fi=function(b,c){this.oj(b,this.P()+"-rtl",c)};t.oi=function(b){var c;return b.Ub&32&&(c=b.lc())?Fc(c):n};t.Ze=function(b,c){var d;if(b.Ub&32&&(d=b.lc())){if(!c&&b.da&32){try{d.blur()}catch(e){}b.da&32&&b.$c(k)}Fc(d)!=c&&Gc(d,c)}};t.F=function(b,c){Q(b,c)};
t.dc=function(b,c,d){var e=b.m();if(e){var g=this.$n(c);g&&this.oj(b,g,d);this.Ag(e,c,d)}};t.Ag=function(b,c,d){gp||(gp=F.create(1,Yc.bK,8,Yc.sK,16,Yc.tq,64,Yc.PB));(c=gp[c])&&Rc(b,c,d)};t.Na=function(b,c){var d=this.fa(b);if(d&&(lc(d),c))if(oa(c))Ac(d,c);else{var e=function(b){if(b){var c=Ub(d);d.appendChild(oa(b)?c.createTextNode(b):b)}};ma(c)?z.forEach(c,e):na(c)&&!("nodeType"in c)?z.forEach(z.clone(c),e):e(c)}};t.lc=function(b){return b.m()};t.P=s("goog-control");
t.sf=function(b){var c=this.P(),d=[c],e=this.P();e!=c&&d.push(e);c=b.de();for(e=[];c;){var g=c&-c;e.push(this.$n(g));c&=~g}d.push.apply(d,e);(b=b.pf)&&d.push.apply(d,b);A&&!Gb("7")&&d.push.apply(d,ip(d));return d};a.ip=function(b,c){var d=[];c&&(b=b.concat([c]));z.forEach([],function(e){z.every(e,xa(z.contains,b))&&(!c||z.contains(e,c))&&d.push(e.join("_"))});return d};t.$n=function(b){this.Yq||jp(this);return this.Yq[b]};
t.hx=function(b){this.TI||(this.Yq||jp(this),this.TI=F.Um(this.Yq));b=parseInt(this.TI[b],10);return isNaN(b)?0:b};a.jp=function(b){var c=b.P();b.Yq=F.create(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")};a.kp=function(){};y(kp,fp);ia(kp);t=kp.prototype;t.xc=function(){return Zc.sq};t.Ag=function(b,c,d){16==c?Rc(b,Yc.oK,d):kp.n.Ag.call(this,b,c,d)};t.w=function(b){var c=kp.n.w.call(this,b),d=b.gg();d&&this.Wc(c,d);(d=b.X())&&this.Ea(c,d);b.Ub&16&&this.Ag(c,16,b.fe());return c};t.o=function(b,c){var c=kp.n.o.call(this,b,c),d=this.X(c);b.qe=d;b.Tt(this.gg(c));b.Ub&16&&this.Ag(c,16,b.fe());return c};t.X=ha;t.Ea=ha;t.gg=function(b){return b.title};t.Wc=function(b,c){b&&(b.title=c||"")};t.Ff=u(20);
t.P=s("goog-button");a.mp=function(b,c){b||f(Error("Invalid class name "+b));qa(c)||f(Error("Invalid decorator function "+c));lp[b]=c},a.np={},a.lp={};a.op=function(b,c,d){T.call(this,d);if(!c){for(var c=this.constructor,e;c;){e=ua(c);if(e=np[e])break;c=c.n?c.n.constructor:k}c=e?qa(e.U)?e.U():new e:k}this.N=c;this.Hm(b)};y(op,T);t=op.prototype;t.vc=k;t.da=0;t.Ub=39;t.Vi=255;t.vk=0;t.nb=j;t.pf=k;t.yj=j;t.Eq=n;t.ek=k;t.Bp=function(b){this.Da&&b!=this.yj&&pp(this,b);this.yj=b};t.lc=function(){return this.N.lc(this)};t.Or=function(){return this.pb||(this.pb=new gl)};
t.Mh=function(b){b&&(this.pf?z.contains(this.pf,b)||this.pf.push(b):this.pf=[b],this.N.oj(this,b,j))};t.oj=function(b,c){c?this.Mh(b):b&&this.pf&&(z.remove(this.pf,b),0==this.pf.length&&(this.pf=k),this.N.oj(this,b,n))};t.w=function(){var b=this.N.w(this);this.g=b;var c=this.ek||this.N.xc();c&&Qc(b,c);this.Eq||this.N.vp(b,n);this.V()||this.N.F(b,n)};t.Dp=u(17);t.fa=function(){return this.N.fa(this.m())};t.Kc=function(b){return this.N.Kc(b)};
t.$=function(b){this.g=b=this.N.o(this,b);var c=this.ek||this.N.xc();c&&Qc(b,c);this.Eq||this.N.vp(b,n);this.nb="none"!=b.style.display};t.C=function(){op.n.C.call(this);this.N.Pe(this);if(this.Ub&-2&&(this.yj&&pp(this,j),this.Ub&32)){var b=this.lc();if(b){var c=this.Or();c.attach(b);this.h().e(c,"key",this.$b).e(b,"focus",this.Le).e(b,"blur",this.$c)}}};
a.pp=function(b,c){var d=b.h(),e=b.m();c?(d.e(e,"mouseover",b.nd).e(e,"mousedown",b.Me).e(e,"mouseup",b.hg).e(e,"mouseout",b.ki),b.jo!=ha&&d.e(e,"contextmenu",b.jo),A&&d.e(e,"dblclick",b.JE)):(d.ya(e,"mouseover",b.nd).ya(e,"mousedown",b.Me).ya(e,"mouseup",b.hg).ya(e,"mouseout",b.ki),b.jo!=ha&&d.ya(e,"contextmenu",b.jo),A&&d.ya(e,"dblclick",b.JE))};t.ab=function(){op.n.ab.call(this);this.pb&&this.pb.detach();this.V()&&this.isEnabled()&&this.N.Ze(this,n)};
t.z=function(){op.n.z.call(this);this.pb&&(this.pb.H(),delete this.pb);delete this.N;this.pf=this.vc=k};t.ib=q("vc");t.Na=function(b){this.N.Na(this.m(),b);this.Hm(b)};t.Hm=ca("vc");t.Wg=function(){var b=this.ib();if(!b)return"";b=oa(b)?b:ma(b)?z.map(b,Jc).join(""):Ic(b);return Ka(b)};t.Gm=u(55);t.Fi=function(b){op.n.Fi.call(this,b);var c=this.m();c&&this.N.Fi(c,b)};t.vp=function(b){this.Eq=b;var c=this.m();c&&this.N.vp(c,b)};t.V=q("nb");
t.F=function(b,c){if(c||this.nb!=b&&this.dispatchEvent(b?"show":"hide")){var d=this.m();d&&this.N.F(d,b);this.isEnabled()&&this.N.Ze(this,b);this.nb=b;return j}return n};t.isEnabled=function(){return!(this.da&1)};t.Ya=function(b){var c=this.getParent();if((!c||"function"!=typeof c.isEnabled||c.isEnabled())&&qp(this,1,!b))b||(this.setActive(n),this.wd(n)),this.V()&&this.N.Ze(this,b),this.dc(1,!b)};t.wd=function(b){qp(this,2,b)&&this.dc(2,b)};t.bc=function(){return!!(this.da&4)};
t.setActive=function(b){qp(this,4,b)&&this.dc(4,b)};t.Jm=function(b){qp(this,8,b)&&this.dc(8,b)};t.fe=function(){return!!(this.da&16)};t.Vc=function(b){qp(this,16,b)&&this.dc(16,b)};t.sb=function(){return!!(this.da&64)};t.ub=function(b){qp(this,64,b)&&this.dc(64,b)};t.de=q("da");t.dc=function(b,c){this.Ub&b&&c!=!!(this.da&b)&&(this.N.dc(this,b,c),this.da=c?this.da|b:this.da&~b)};
a.rp=function(b,c,d){b.Da&&(b.da&c&&!d)&&f(Error("Component already rendered"));!d&&b.da&c&&b.dc(c,n);b.Ub=d?b.Ub|c:b.Ub&~c},a.sp=function(b,c){return!!(b.Vi&c)&&!!(b.Ub&c)},a.qp=function(b,c,d){return!!(b.Ub&c)&&!!(b.da&c)!=d&&(!(b.vk&c)||b.dispatchEvent(Ph(c,d)))&&!b.Sg};t.nd=function(b){(!b.relatedTarget||!vc(this.m(),b.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&sp(this,2))&&this.wd(j)};
t.ki=function(b){if((!b.relatedTarget||!vc(this.m(),b.relatedTarget))&&this.dispatchEvent("leave"))sp(this,4)&&this.setActive(n),sp(this,2)&&this.wd(n)};t.jo=ha;t.Me=function(b){this.isEnabled()&&(sp(this,2)&&this.wd(j),rd(b)&&(sp(this,4)&&this.setActive(j),this.N.oi(this)&&this.lc().focus()));!this.Eq&&rd(b)&&b.preventDefault()};t.hg=function(b){this.isEnabled()&&(sp(this,2)&&this.wd(j),this.bc()&&(this.ke(b)&&sp(this,4))&&this.setActive(n))};t.JE=function(b){this.isEnabled()&&this.ke(b)};
t.ke=function(b){sp(this,16)&&this.Vc(!this.fe());sp(this,8)&&this.Jm(j);sp(this,64)&&this.ub(!this.sb());var c=new kd("action",this);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Dz=b.Dz);return this.dispatchEvent(c)};t.Le=function(){sp(this,32)&&qp(this,32,j)&&this.dc(32,j)};t.$c=function(){sp(this,4)&&this.setActive(n);sp(this,32)&&qp(this,32,n)&&this.dc(32,n)};
t.$b=function(b){return this.V()&&this.isEnabled()&&this.uf(b)?(b.preventDefault(),b.stopPropagation(),j):n};t.uf=function(b){return 13==b.keyCode&&this.ke(b)};qa(op)||f(Error("Invalid component class "+op));qa(fp)||f(Error("Invalid renderer class "+fp));a.tp=ua(op);np[tp]=fp;mp("goog-control",function(){return new op(k)});a.up=function(){};y(up,kp);ia(up);t=up.prototype;t.xc=ba();t.w=function(b){b.Bp(n);b.Vi&=-256;rp(b,32,n);return b.L().w("button",{"class":this.sf(b).join(" "),disabled:!b.isEnabled(),title:b.gg()||"",value:b.X()||""},b.Wg()||"")};t.Kc=function(b){return"BUTTON"==b.tagName||"INPUT"==b.tagName&&("button"==b.type||"submit"==b.type||"reset"==b.type)};t.o=function(b,c){b.Bp(n);b.Vi&=-256;rp(b,32,n);c.disabled&&E.add(c,this.$n(1));return up.n.o.call(this,b,c)};t.Pe=function(b){b.h().e(b.m(),"click",b.ke)};
t.vp=ha;t.Fi=ha;t.oi=function(b){return b.isEnabled()};t.Ze=ha;t.dc=function(b,c,d){up.n.dc.call(this,b,c,d);if((b=b.m())&&1==c)b.disabled=d};t.X=function(b){return b.value};t.Ea=function(b,c){b&&(b.value=c)};t.Ag=ha;a.vp=function(b,c,d){op.call(this,b,c||up.U(),d)};y(vp,op);t=vp.prototype;t.X=q("qe");t.Ea=function(b){this.qe=b;this.N.Ea(this.m(),b)};t.gg=q("Xp");t.Wc=function(b){this.Xp=b;this.N.Wc(this.m(),b)};t.Tt=ca("Xp");t.Ff=u(19);t.z=function(){vp.n.z.call(this);delete this.qe;delete this.Xp};t.C=function(){vp.n.C.call(this);if(this.Ub&32){var b=this.lc();b&&this.h().e(b,"keyup",this.uf)}};t.uf=function(b){return 13==b.keyCode&&"key"==b.type||32==b.keyCode&&"keyup"==b.type?this.ke(b):32==b.keyCode};
mp("goog-button",function(){return new vp(k)});a.wp=function(){};y(wp,fp);ia(wp);wp.prototype.w=function(b){var c=b.L().w("span",this.sf(b).join(" "));xp(this,c,b.Sh);return c};wp.prototype.o=function(b,c){var c=wp.n.o.call(this,b,c),d=E.get(c),e=yp;z.contains(d,zp(this,Ap))?e=Ap:z.contains(d,zp(this,Bp))?e=Bp:z.contains(d,zp(this,yp))&&(e=yp);b.Sh=e;Rc(c,Yc.tq,e==Ap?"mixed":e==Bp?"true":"false");return c};wp.prototype.xc=function(){return Zc.ZJ};
a.xp=function(b,c,d){if(c){var e=zp(b,d);E.has(c,e)||(F.forEach(Cp,function(b){b=zp(this,b);E.enable(c,b,b==e)},b),Rc(c,Yc.tq,d==Ap?"mixed":d==Bp?"true":"false"))}};wp.prototype.P=s("goog-checkbox");a.zp=function(b,c){var d=b.P();if(c==Bp)return d+"-checked";if(c==yp)return d+"-unchecked";if(c==Ap)return d+"-undetermined";f(Error("Invalid checkbox state: "+c))};a.Dp=function(b,c,d){d=d||wp.U();op.call(this,k,d,c);this.Sh=la(b)?b:yp};y(Dp,op);a.Bp=j,a.yp=n,a.Ap=k,a.Cp={tq:Bp,EY:yp,GY:Ap};t=Dp.prototype;t.yb=k;t.fe=function(){return this.Sh==Bp};t.Vc=function(b){b!=this.Sh&&(this.Sh=b,xp(this.N,this.m(),this.Sh))};t.toggle=function(){this.Vc(this.Sh?yp:Bp)};
t.C=function(){Dp.n.C.call(this);if(this.yj){var b=this.h();this.yb&&b.e(this.yb,"click",this.rx).e(this.yb,"mouseover",this.nd).e(this.yb,"mouseout",this.ki).e(this.yb,"mousedown",this.Me).e(this.yb,"mouseup",this.hg);b.e(this.m(),"click",this.rx)}if(this.yb){if(!this.yb.id){var b=this.yb,c;c=this.ce()+".lbl";b.id=c}Rc(this.m(),Yc.Mu,this.yb.id)}};t.Ya=function(b){Dp.n.Ya.call(this,b);if(b=this.m())b.tabIndex=this.isEnabled()?0:-1};
t.rx=function(b){b.stopPropagation();var c=this.Sh?"uncheck":"check";this.isEnabled()&&this.dispatchEvent(c)&&(b.preventDefault(),this.toggle(),this.dispatchEvent("change"))};t.uf=function(b){32==b.keyCode&&this.rx(b);return n};mp("goog-checkbox",function(){return new Dp});a.Ep=function(){};y(Ep,kp);ia(Ep);t=Ep.prototype;t.w=function(b){var c={"class":"goog-inline-block "+this.sf(b).join(" "),title:b.gg()||""};return b.L().w("div",c,b.ib())};t.xc=function(){return Zc.sq};t.Kc=function(b){return"DIV"==b.tagName};t.o=function(b,c){E.add(c,"goog-inline-block");return Ep.n.o.call(this,b,c)};t.X=s("");t.P=s("goog-flat-button");mp("goog-flat-button",function(){return new vp(k,Ep.U())});a.Fp=function(){};y(Fp,Ep);ia(Fp);Fp.prototype.P=s("goog-link-button");mp("goog-link-button",function(){return new vp(k,Fp.U())});a.Hp=function(b,c,d,e,g){function h(b){b&&(b.tabIndex=0,Qc(b,l.xc()),E.add(b,"goog-zippy-header"),Gp(l,b),b&&l.aG.e(b,"keydown",l.YR))}M.call(this);this.K=g||Vb();this.ai=this.K.m(b)||k;this.Qn=this.K.m(e||k);this.tl=(this.xy=qa(c)?c:k)||!c?k:this.K.m(c);this.kd=d==j;this.aG=new qe(this);this.Xy=new qe(this);var l=this;h(this.ai);h(this.Qn);this.Pa(this.kd)};y(Hp,Kd);t=Hp.prototype;t.yj=j;t.z=function(){Hp.n.z.call(this);Xc(this.aG);Xc(this.Xy)};t.xc=function(){return Zc.ZB};t.fa=q("tl");
t.expand=u(61);t.collapse=function(){this.Pa(n)};t.toggle=function(){this.Pa(!this.kd)};t.Pa=function(b){this.tl?Q(this.tl,b):b&&this.xy&&(this.tl=this.xy());this.tl&&E.add(this.tl,"goog-zippy-content");this.Qn?(Q(this.ai,!b),Q(this.Qn,b)):this.ai&&(E.enable(this.ai,"goog-zippy-expanded",b),E.enable(this.ai,"goog-zippy-collapsed",!b),Rc(this.ai,Yc.PB,b));this.kd=b;this.dispatchEvent(new Ip("toggle",this,this.kd))};t.Ac=q("kd");
t.Bp=function(b){this.yj!=b&&((this.yj=b)?(Gp(this,this.ai),Gp(this,this.Qn)):this.Xy.Sc())};a.Gp=function(b,c){c&&b.Xy.e(c,"click",b.XR)};t.YR=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new kd("action",this)),b.preventDefault(),b.stopPropagation()};t.XR=function(){this.toggle();this.dispatchEvent(new kd("action",this))};a.Ip=function(b,c,d){kd.call(this,b,c);this.Fd=d};y(Ip,kd);a.Jp=function(){this.Ed=k};ia(Jp);Jp.prototype.refresh=function(){return this.Ed&&"pending"===this.Ed.state()?this.Ed:this.Ed=$.post("/oauth/refresh",function(b){var c=b.qq,b=b.sina;F.extend(wh,c);F.extend(vh,b);b.id&&mn("sina_callback",b);c.id&&mn("qq_callback",c)})};a.Kp=function(){};y(Kp,fp);ia(Kp);Kp.prototype.w=function(b){return b.L().w("div",this.P())};Kp.prototype.o=function(b,c){c.id&&Qh(b,c.id);if("HR"==c.tagName){var d=c,c=this.w(b);mc(c,d);L(d)}else E.add(c,this.P());return c};Kp.prototype.Na=ba();Kp.prototype.P=s("goog-menuseparator");a.Lp=function(b,c){op.call(this,k,b||Kp.U(),c);rp(this,1,n);rp(this,2,n);rp(this,4,n);rp(this,32,n);this.da=1};y(Lp,op);Lp.prototype.C=function(){Lp.n.C.call(this);Qc(this.m(),"separator")};mp("goog-menuseparator",function(){return new Lp});a.Mp=function(){};ia(Mp);t=Mp.prototype;t.xc=ba();t.w=function(b){return b.L().w("div",this.sf(b).join(" "))};t.fa=aa();t.Kc=function(b){return"DIV"==b.tagName};t.o=function(b,c){c.id&&Qh(b,c.id);var d=this.P(),e=n,g=E.get(c);g&&z.forEach(g,function(c){c==d?e=j:c&&this.qA(b,c,d)},this);e||E.add(c,d);Np(this,b,this.fa(c));return c};t.qA=function(b,c,d){c==d+"-disabled"?b.Ya(n):c==d+"-horizontal"?b.Cp(Op):c==d+"-vertical"&&b.Cp(Pp)};
a.Np=function(b,c,d){if(d)for(var e=d.firstChild,g;e&&e.parentNode==d;){g=e.nextSibling;if(1==e.nodeType){var h=b.ao(e);h&&(h.g=e,c.isEnabled()||h.Ya(n),c.J(h),h.o(e))}else(!e.nodeValue||""==La(e.nodeValue))&&d.removeChild(e);e=g}};t.ao=function(b){a:{for(var c=E.get(b),d=0,e=c.length;d<e;d++)if(b=c[d]in lp?lp[c[d]]():k)break a;b=k}return b};t.Pe=function(b){b=b.m();wg(b,j,C);A&&(b.hideFocus=j);var c=this.xc();c&&Qc(b,c)};t.lc=function(b){return b.m()};t.P=s("goog-container");
t.sf=function(b){var c=this.P(),d=[c,b.zb==Op?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};t.Vw=u(12);a.Op="horizontal",a.Pp="vertical";a.Qp=function(){T.call(this);this.Au=[]};y(Qp,T);t=Qp.prototype;t.Qb=pe("ZH.ui.Accordion");t.Ha=function(b){this.Au.push(b);b.Rt(this)};t.C=function(){Qp.n.C.call(this);this.h().e(this,"toggle",this.rP)};t.rP=function(b){z.forEach(this.Au,function(c){b.target!==c&&c.Ac()&&c.Pa(n,j)},this)};t.z=function(){Qp.n.z.call(this);z.forEach(this.Au,function(b){b.H()},this);this.Au=[]};a.Rp=function(b,c){var d=this,e={};F.extend(e,this.R,c||{});this.G=e;var g=e.dd?{dd:v(e.dd,d)}:k;g&&(g.aa=e.aa?v(e.aa,d):k);this.N=g=new Qm(e.lk,g);var h=new Mm(e.source,!e.YV);this.zf=h;var l=e.by;l||(l=new Dm(e.separator,e.eN,!!e.multiple,e.delay),l.Di=function(b,c){var g;qa(e.select)&&(g=e.select.call(d,b,d.N.vg[d.N.mi]));Gm(this,la(g)?g:b.label||b.toString(),c);return n});tm.call(this,h,g,l);l.W=this;l.Yk(b);b.setAttribute("autocomplete","off");h.Ai=function(b,c,g){var h=g;qa(e.format)&&(h=function(b,
c){var h=e.format.call(d,c,b);qa(e.filter)&&(h=e.filter.call(d,h,b));g(b,h)});return Mm.prototype.Ai.call(this,b,c,h)};g.bI=function(b,c,d){b=b.data;d.innerHTML=b.xV?b.xV():b.label||b.toString()};this.Vb=b;e.je&&(this.ri=e.je);e.placeholder&&(this.le=new Zl(b,e.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.sb()?"show":"hide")})};y(Rp,Wm);
Rp.prototype.R={source:"",je:10,YV:n,filter:k,format:k,by:k,delay:300,separator:k,eN:k,multiple:n,lk:k,K_:k,placeholder:"",dd:k,aa:k};a.Up=function(b){var c;return(c=Sp[this.G.source])||(c=Sp[Tp][b[0]])?c(b):b};Rp.prototype.R.format=function(b,c){return La(c)&&ma(b)&&ma(b[0])?z.map(b[0].slice(1),Up,this):[]};a.Tp="/autocomplete",a.Sp={};
Sp[Tp]={topic:function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],answers:b[6],alias:b[7],raw:b,value:b[4],label:b[1]}},question:function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],answers:b[4],is_star:!!b[5],raw:b,label:b[1],value:b[2]}},people:function(b){return{type:b[0],fullname:b[1],url_token:b[2],avatar:b[3],id:b[4],headline:b[5],raw:b,label:b[1],value:b[4]}},search_link:function(b){return{type:b[0],raw:b,label:b[1],value:b[1]}}};
Sp["/topic/autocomplete"]=function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],followers:b[5],alias:b[6],label:b[1]}};Sp["/question/autocomplete"]=function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],is_duplicated:Boolean(+b[4]),answer_count:b[5],raw:b,label:b[1],value:b[2]}};a.Vp=function(b,c,d,e){Dm.call(this,b,c,d,e)};y(Vp,Dm);Vp.prototype.$c=ha;Vp.prototype.$b=ha;Vp.prototype.Di=s(n);a.Xp=function(b,c,d){M.call(this);this.ad=d||"æç´¢è¯é¢";this.oa=c;this.data=b||[];this.status=Wp;this.$H="/topic/unbind";this.hC="/topic/bind";this.isEnabled=j;this.qs='<a class="zm-tag-editor-tip-link" href="#" name="edit">å¸®å¿ç»è¿ä¸ªé®é¢éä¸ªè¯é¢å§ï¼å¥½è®©å«äººæ¥åç­</a><a name="edit" class="zu-edit-button" href="#"><i class="zu-edit-button-icon"></i>æ·»å </a>';this.je=10;this.ct=n;this.Us=Infinity;this.Xs=0};y(Xp,Dn);a.Wp="view",a.Yp="é¶ä¸äºä¸åäºå­ä¸å«ä¹å".split("");t=Xp.prototype;
t.o=function(b){this.g=b;this.af=J("zm-tag-editor-labels",this.g);this.ct&&(this.data=this.Az());Zp(this);this.Be();this.Sa()};t.Az=function(){var b=Yb("zm-item-tag",this.af);return z.map(b,function(b){var d=[La(b.innerHTML),b.getAttribute("data-token"),k,b.getAttribute("data-topicid")];d.LV=!!b.getAttribute("data-uneditable");return d})};
a.Zp=function(b){if(b.data.length){var c=z.map(b.data,function(b){return Gk(b,"",k,"b")},b);b.isEnabled&&c.push(Kk());b.af.innerHTML=c.join("")}else b.isEnabled&&(b.af.innerHTML=b.qs)};
t.Tn=function(){this.hc||(this.hc=K("div","zm-tag-editor-editor",[this.Pn=K("div","zg-section zg-clear"),this.lf=K("div","zg-section zm-tag-editor-command-buttons-wrap",[this.Ra=K("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),K("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"æ·»å "),this.mE=K("a",{href:"#",name:"close"},"å®æ")]),this.Vs=K("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[K("span",{},"æå¤åªè½ä¸ºä¸ä¸ªé®é¢ç»å® "+this.Us+" ä¸ªè¯é¢"),
K("a",{href:"#",name:"close"},"å®æ")])]),nc(this.hc,this.af),this.ad&&(this.ry=new Io(this.ad),this.ry.o(this.Ra),this.Ra.title=this.ad),this.vf(this.lf))};t.vf=function(b,c){this.O=new Uo(c||"/topic/autocomplete",this.Ra,k,k,b,j);this.O.Hf(j);this.O.ri=this.je;this.O.Ep(this.qk());this.O.Aw=[this.ad];this.h().e(this.O,"select",this.Uo);this.h().e(this.O,tm.Jh.Ri,this.Zu)};
t.qk=function(){return v(function(b){return z.filter(b,function(b){return"topic"!==b[0]?n:z.every(this.data,function(d){return d[0]!==b[1]})},this)},this)};t.Zu=function(){1<this.O.Xa.length&&!this.O.Xa[0][4]&&wm(this.O)};t.Sa=function(){this.h().e(this.g,"click",this.na);Pi&&this.h().e(Pi,"anon_change",this.wj)};t.wj=function(b){b.mb?E.add(this.g,"zm-tag-editor-disabled"):E.remove(this.g,"zm-tag-editor-disabled")};
t.na=function(b){var c=this.qf(b.target);if(c&&c.name)switch(b.preventDefault(),c.name){case "edit":this.ie(j);break;case "add":(b=Hk(!this.Ra.value?"":this.Ra.value.replace(/<[^>]+>/g,"")))&&b!==this.Ra.title&&this.df("",b);break;case "close":this.ie(n);break;case "remove":this.mH(c)}};t.ie=rn(function(b){b&&this.dispatchEvent("start_editing");this.status=b?"edit":Wp;this.Tn();this.Xe();this.Be();$p(this)},j);
t.mH=function(b){var c=b.id.split("-")[1],d=uc(b).innerHTML;this.Xs&&this.data.length<=this.Xs?U("è¯·è³å°ç»å®"+Yp[this.Xs]+"ä¸ªè¯é¢"):(this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c}),this.dp(c))};t.dp=function(b){if(!this.Ct||!this.Ct.bc()){this.Ct=new V(j);var c=new nj;c.add("qid",this.oa).add("question_id",this.oa).add("topic_id",b);P(this.h(),this.Ct,"complete",this.eP);this.Ct.ajax(this.$H,c.toString())}};
t.eP=function(b){b=Le(b.target);b.r?U(b.msg):(this.dispatchEvent("remove_tag"),Zp(this),this.Xe(),$p(this))};t.Be=function(){this.status===Wp?(Q(this.af,j),this.hc&&Q(this.hc,n)):(Q(this.af,n),this.hc&&this.isEnabled&&Q(this.hc,j),this.Vs&&Q(this.Vs,n))};t.df=function(b,c){this.jh||(this.dispatchEvent("add_tag"),this.jh=j,this.xhr=new V(j),P(this.h(),this.xhr,"complete",this.$u),this.xhr.ajax(this.hC,"qid="+this.oa+"&question_id="+this.oa+"&topic_id="+b+"&topic_text="+encodeURIComponent(c)))};
t.Uo=function(){var b="",c="",d=z.slice(this.O.fg(),1);3<d.length?(b=d[3],c=d[0]):c=d[1];var e=n;z.forEach(this.data,function(d){if(d[3]&&String(d[3])===b||d[0]===c)e=j});e||this.df(b,c)};t.$u=function(){this.jh=n;var b=Le(this.xhr);this.tk(b);$p(this)};t.tk=function(b){var c=k;b&&b.r?b.notify?Hn(b.notify):U(b.msg,2E3):(4<b.length&&Hn(b[4]),this.uI=c=b,this.data.push(c),this.lp(),Zp(this),this.Xe(),this.Ra.value="",this.dispatchEvent("select"))};t.tE=function(b){return Gk(b,"nor",n)};
t.Xe=function(){var b=z.map(this.data,function(b){return['<span class="zm-tag-editor-edit-item">',this.tE(b),b.LV?"":'<a id="rmid-'+b[3]+'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a>',"</span>"].join("")},this);this.Pn.innerHTML=b.join("")};t.fg=q("uI");t.Ya=function(b){this.isEnabled=b;this.status=Wp;this.Be()};a.$p=function(b){var c=b.data.length>=b.Us;b.lf&&Q(b.lf,!c);b.Vs&&Q(b.Vs,c)};
t.lp=function(){var b=[];this.data=z.filter(this.data,function(c){if(z.contains(b,c[1]))return n;b.push(c[1]);return j})};a.aq=function(b){Xp.call(this);this.qs="";this.ad=b||"";this.Us=this.je=5;this.nq=$("#zh-question-suggest-title-content")};y(aq,Xp);t=aq.prototype;
t.o=function(b){aq.n.o.call(this,b);this.ie(j);z.forEach(Xb("a",k,b),function(b){Q(b,n)});this.h().e(this.Ra,"focus",function(){this.nq.val()&&!this.$D&&(this.$D=j,this.rB());this.placeholder&&(this.placeholder.sk("æç´¢è¯é¢"),bm(this.placeholder))});this.$F=new gl;this.$F.attach(this.Ra);this.h().e(this.$F,"key",function(b){8===b.keyCode&&(1===this.Ra.value.length&&(this.EC=j,this.QL=setTimeout(v(function(){this.EC=n;clearTimeout(this.QL)},this))),!this.Ra.value.length&&!this.EC&&(this.data.pop(),this.Xe(),
this.dispatchEvent("remove_tag")))});this.eV=new Wn(this.rB,2E3,this);this.h().e(this.nq[0],"keyup",function(){var b=this.nq.val();this.cu!==b&&(this.eV.fire(),this.cu=b)});this.h().e(this,["remove_tag","add_tag"],function(){bq(this);0<this.data.length&&this.placeholder&&(this.placeholder.sk("æç´¢è¯é¢"),bm(this.placeholder));5<=this.data.length?(this.Ya(n),this.lq.show(),this.placeholder&&this.placeholder.hide(),this.Gu.hide()):(this.Ya(j),this.lq.hide(),this.placeholder&&this.placeholder.show(),this.Gu.show(),
this.lq.removeClass("light"))})};t.qk=function(){return v(function(b){return z.filter(b,function(b){return"topic"!==b[0]?n:z.every(this.data,function(d){return d[1]!==b[1]})},this)},this)};t.dp=function(){this.dispatchEvent("remove_tag");Zp(this);this.Xe()};
t.Tn=function(){this.hc||(aq.n.Tn.call(this),E.add(this.hc,"zg-clear"),E.set(this.Pn,"zg-inline"),E.add(this.lf,"zg-left"),E.remove(this.lf,"zg-section"),E.set(this.Ra,"zu-question-suggest-topic-input"),E.add(this.Ra,"label-input-label"),this.rq=$("<div class='sug-con zg-clear' style='display:none;'></div>").append("<span class='zg-gray-normal zg-left tip'>æ¨èæ·»å </span>").append(this.UJ=$("<span class='sugs zg-clear zg-inline'></span>")).append(this.KB=$("<img src='http://static.zhihu.com/static/img/spinner2.gif' style=''/>")),
this.rq.insertAfter(this.g),this.rq.on("click","a[name='add']",v(function(b){b=b.currentTarget;if(5>this.data.length)this.df($(b).attr("data-id"),$(b).attr("data-text"));else{this.lq.addClass("light");var c=$(this.hc);c.parent().addClass("sandbox");c.addClass("animated shake");setTimeout(function(){c.removeClass("animated shake");c.parent().removeClass("sandbox");qa(i)&&i()},1E3)}},this)),this.Gu=$("<label for='topic' class='zg-icon search-icon'></label>"),$(this.lf).append(this.Gu),this.placeholder=
new Zl(this.Ra,{text:"æç´¢è¯é¢",CC:j}),$(this.lf).append(this.lq=$("<label class='err-tip' style='display:none;'>æå¤æ·»å äºä¸ªè¯é¢</label>")),this.h().e(this.hc,"click",this.JV))};t.JV=function(b){Qk(this.g,b.target)||(b=J("zu-question-suggest-topic-input",this.hc),ug(b)&&b.focus())};
t.rB=function(){this.$D&&(this.cu=this.nq.val(),8>this.cu.length?(this.Pp=[],bq(this)):(this.Qp&&this.Qp.abort(),this.Qp=new V(n),this.h().e(this.Qp,"success",this.AS),this.Qp.ajax("/topic-question/autocomplete?token="+this.cu+"&max_matches=5&use_similar=0","GET"),this.KB.show()))};t.AS=function(){this.Pp=Le(this.Qp)[0].slice(1);bq(this)};
a.bq=function(b){var c;c=b.Pp?z.filter(b.Pp,function(b){return z.every(this.data,function(c){return c[1]!==b[1]})},b):[];b.rq.show();(!c||0===c.length)&&b.rq.hide();var d="";c=z.map(c,function(b){return"<a href='javascript:;' name='add' data-id='"+b[4]+"' data-text='"+b[1]+"' class='zg-r3px zm-item-tag'><span>"+b[1]+"</span></a>"});d+=c.join("");b.UJ.html(d);b.KB.hide()};
t.Xe=function(){var b=[];z.forEach(this.data,function(c){b.push(['<div class="zm-tag-editor-edit-item"><span>',c[0],'</span><a id="rmid-',c[3],'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a></div>'].join(""))},this);this.Pn.innerHTML=b.join("")};t.reset=function(){this.data=[];Zp(this);this.Xe()};t.mH=function(b){var c=b.id.split("-")[1],d=uc(b).innerHTML;this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c});this.dp(c)};
t.df=function(b,c){var d=[c,c,"",b];this.uI=d;this.data.push(d);Zp(this);this.Xe();this.Ra.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};t.Ya=function(b){this.Ra&&Q(this.Ra,b)};a.cq=function(){M.call(this)};y(cq,M);a.dq=pe("goog.dom.SavedRange");cq.prototype.restore=u(35);a.eq=function(b,c,d,e,g){this.Tc=!!c;b&&this.ed(b,e);this.depth=g!=i?g:this.ec||0;this.Tc&&(this.depth*=-1);this.er=!d};y(eq,Qd);t=eq.prototype;t.ga=k;t.ec=0;t.OA=n;t.ed=function(b,c,d){if(this.ga=b)this.ec=pa(c)?c:1!=this.ga.nodeType?0:this.Tc?-1:1;pa(d)&&(this.depth=d)};t.Pg=function(b){this.ga=b.ga;this.ec=b.ec;this.depth=b.depth;this.Tc=b.Tc;this.er=b.er};t.clone=function(){return new eq(this.ga,this.Tc,!this.er,this.ec,this.depth)};t.Lp=u(16);
t.next=function(){var b;if(this.OA){(!this.ga||this.er&&0==this.depth)&&f(O.fb);b=this.ga;var c=this.Tc?-1:1;if(this.ec==c){var d=this.Tc?b.lastChild:b.firstChild;d?this.ed(d):this.ed(b,-1*c)}else(d=this.Tc?b.previousSibling:b.nextSibling)?this.ed(d):this.ed(b.parentNode,-1*c);this.depth+=this.ec*(this.Tc?-1:1)}else this.OA=j;(b=this.ga)||f(O.fb);return b};t.Zf=function(b){return b.ga==this.ga&&(!this.ga||b.ec==this.ec)};
t.splice=function(b){var c=this.ga,d=this.Tc?1:-1;this.ec==d&&(this.ec=-1*d,this.depth+=this.ec*(this.Tc?-1:1));this.Tc=!this.Tc;eq.prototype.next.call(this);this.Tc=!this.Tc;for(var d=na(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)nc(d[e],c);L(c)};a.fq=function(){},a.gq=function(b){if(b.getSelection)return b.getSelection();var b=b.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(e){return k}return c}return k},a.hq=function(b){for(var c=[],d=0,e=b.vj();d<e;d++)c.push(b.Ke(d));return c};t=fq.prototype;t.Gb=u(52);
a.iq=function(b){return b.pi()?b.ka():b.Z()},a.jq=function(b){return b.pi()?b.Z():b.ka()},a.kq=function(b){return b.pi()?b.wa():b.Ka()};t.pi=s(n);t.za=function(){return Ub(A?this.yc():this.Z())};t.Ta=function(){return dc(this.za())};t.containsNode=function(b,c){return this.Mg(lq(b),c)};t.ug=u(39);a.mq=function(b,c){eq.call(this,b,c,j)};y(mq,eq);a.nq=function(){};y(nq,fq);nq.prototype.Mg=function(b,c){var d=hq(this),e=hq(b);return(c?z.some:z.every)(e,function(b){return z.some(d,function(d){return d.Mg(b,c)})})};nq.prototype.insertNode=function(b,c){c?mc(b,this.Z()):nc(b,this.ka());return b};nq.prototype.yh=u(9);a.oq=function(b,c,d,e,g){var h;b&&(this.xa=b,this.Fa=c,this.ua=d,this.Ca=e,1==b.nodeType&&"BR"!=b.tagName&&(b=b.childNodes,(c=b[c])?(this.xa=c,this.Fa=0):(b.length&&(this.xa=z.Ve(b)),h=j)),1==d.nodeType&&((this.ua=d.childNodes[e])?this.Ca=0:this.ua=d));eq.call(this,g?this.ua:this.xa,g,j);if(h)try{this.next()}catch(l){l!=O.fb&&f(l)}};y(oq,mq);t=oq.prototype;t.xa=k;t.ua=k;t.Fa=0;t.Ca=0;t.uj=u(58);t.sj=u(42);t.Z=q("xa");t.ka=q("ua");t.Bo=function(){return this.OA&&this.ga==this.ua&&(!this.Ca||1!=this.ec)};
t.next=function(){this.Bo()&&f(O.fb);return oq.n.next.call(this)};t.Lp=u(15);t.Pg=function(b){this.xa=b.xa;this.ua=b.ua;this.Fa=b.Fa;this.Ca=b.Ca;this.wf=b.wf;oq.n.Pg.call(this,b)};t.clone=function(){var b=new oq(this.xa,this.Fa,this.ua,this.Ca,this.wf);b.Pg(this);return b};a.pq=function(){};pq.prototype.Mg=function(b,c){var d=c&&!b.isCollapsed(),e=b.Q;try{return d?0<=this.Ee(e,0,1)&&0>=this.Ee(e,1,0):0<=this.Ee(e,0,0)&&0>=this.Ee(e,1,1)}catch(g){return A||f(g),n}};pq.prototype.containsNode=function(b,c){return this.Mg(qq(b),c)};pq.prototype.Xg=u(25);pq.prototype.gd=function(){return new oq(this.Z(),this.wa(),this.ka(),this.Ka())};a.rq=function(b){this.Q=b};y(rq,pq);a.tq=function(b){var c=Ub(b).createRange();if(3==b.nodeType)c.setStart(b,0),c.setEnd(b,b.length);else if(sq(b)){for(var d,e=b;(d=e.firstChild)&&sq(d);)e=d;c.setStart(e,0);for(e=b;(d=e.lastChild)&&sq(d);)e=d;c.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=b.parentNode,b=z.indexOf(d.childNodes,b),c.setStart(d,b),c.setEnd(d,b+1);return c},a.uq=function(b,c,d,e){var g=Ub(b).createRange();g.setStart(b,c);g.setEnd(d,e);return g};t=rq.prototype;t.clone=function(){return new this.constructor(this.Q.cloneRange())};
t.yc=function(){return this.Q.commonAncestorContainer};t.Z=function(){return this.Q.startContainer};t.wa=function(){return this.Q.startOffset};t.ka=function(){return this.Q.endContainer};t.Ka=function(){return this.Q.endOffset};t.Ee=function(b,c,d){return this.Q.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.START_TO_END:1==c?fa.Range.END_TO_START:fa.Range.END_TO_END,b)};t.isCollapsed=function(){return this.Q.collapsed};t.Qc=u(30);t.ee=u(47);
t.select=function(b){var c=dc(Ub(this.Z()));this.tp(c.getSelection(),b)};t.tp=function(b){b.removeAllRanges();b.addRange(this.Q)};t.cd=u(5);t.insertNode=function(b,c){var d=this.Q.cloneRange();d.collapse(c);d.insertNode(b);d.detach();return b};t.yh=u(8);t.collapse=function(b){this.Q.collapse(b)};a.vq=function(b){this.Q=b};y(vq,rq);vq.prototype.tp=function(b,c){!c||this.isCollapsed()?vq.n.tp.call(this,b,c):(b.collapse(this.ka(),this.Ka()),b.extend(this.Z(),this.wa()))};a.wq=function(b,c){this.Q=b;this.ur=c};y(wq,pq);a.xq=pe("goog.dom.browserrange.IeRange"),a.yq=function(b){var c=Ub(b).body.createTextRange();if(1==b.nodeType)c.moveToElementText(b),sq(b)&&!b.childNodes.length&&c.collapse(n);else{for(var d=0,e=b;e=e.previousSibling;){var g=e.nodeType;if(3==g)d+=e.length;else if(1==g){c.moveToElementText(e);break}}e||c.moveToElementText(b.parentNode);c.collapse(!e);d&&c.move("character",d);c.moveEnd("character",b.length)}return c};t=wq.prototype;t.rg=k;t.xa=k;
t.ua=k;t.Fa=-1;t.Ca=-1;t.clone=function(){var b=new wq(this.Q.duplicate(),this.ur);b.rg=this.rg;b.xa=this.xa;b.ua=this.ua;return b};t.De=function(){this.rg=this.xa=this.ua=k;this.Fa=this.Ca=-1};
t.yc=function(){if(!this.rg){var b=this.Q.text,c=this.Q.duplicate(),d=b.replace(/ +$/,"");(d=b.length-d.length)&&c.moveEnd("character",-d);d=c.parentElement();c=Ia(c.htmlText).length;if(this.isCollapsed()&&0<c)return this.rg=d;for(;c>Ia(d.outerHTML).length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&sq(d.firstChild);)d=d.firstChild;0==b.length&&(d=zq(this,d));this.rg=d}return this.rg};
a.zq=function(b,c){for(var d=c.childNodes,e=0,g=d.length;e<g;e++){var h=d[e];if(sq(h)){var l=yq(h),m=l.htmlText!=h.outerHTML;if(b.isCollapsed()&&m?0<=b.Ee(l,1,1)&&0>=b.Ee(l,1,0):b.Q.inRange(l))return zq(b,h)}}return c};t.Z=function(){this.xa||(this.xa=Aq(this,1),this.isCollapsed()&&(this.ua=this.xa));return this.xa};t.wa=function(){0>this.Fa&&(this.Fa=Bq(this,1),this.isCollapsed()&&(this.Ca=this.Fa));return this.Fa};
t.ka=function(){if(this.isCollapsed())return this.Z();this.ua||(this.ua=Aq(this,0));return this.ua};t.Ka=function(){if(this.isCollapsed())return this.wa();0>this.Ca&&(this.Ca=Bq(this,0),this.isCollapsed()&&(this.Fa=this.Ca));return this.Ca};t.Ee=function(b,c,d){return this.Q.compareEndPoints((1==c?"Start":"End")+"To"+(1==d?"Start":"End"),b)};
a.Aq=function(b,c,d){d=d||b.yc();if(!d||!d.firstChild)return d;for(var e=1==c,g=0,h=d.childNodes.length;g<h;g++){var l=e?g:h-g-1,m=d.childNodes[l],p;try{p=qq(m)}catch(r){continue}var w=p.Q;if(b.isCollapsed())if(sq(m)){if(p.Mg(b))return Aq(b,c,m)}else{if(0==b.Ee(w,1,1)){b.Fa=b.Ca=l;break}}else{if(b.Mg(p)){if(!sq(m)){e?b.Fa=l:b.Ca=l+1;break}return Aq(b,c,m)}if(0>b.Ee(w,1,0)&&0<b.Ee(w,0,1))return Aq(b,c,m)}}return d},a.Bq=function(b,c){var d=1==c,e=d?b.Z():b.ka();if(1==e.nodeType){for(var e=e.childNodes,
g=e.length,h=d?1:-1,l=d?0:g-1;0<=l&&l<g;l+=h){var m=e[l];if(!sq(m)&&0==b.Q.compareEndPoints((1==c?"Start":"End")+"To"+(1==c?"Start":"End"),qq(m).Q))return d?l:l+1}return-1==l?0:l}g=b.Q.duplicate();h=yq(e);g.setEndPoint(d?"EndToEnd":"StartToStart",h);g=g.text.length;return d?e.length-g:g};t.jg=u(66);t.isCollapsed=function(){return 0==this.Q.compareEndPoints("StartToEnd",this.Q)};t.Qc=u(29);t.ee=u(46);t.select=function(){this.Q.select()};t.cd=u(4);
a.Cq=function(b,c,d){var e;e=e||Vb(b.parentElement());var g;1!=c.nodeType&&(g=j,c=e.w("DIV",k,c));b.collapse(d);var d=e||Vb(b.parentElement()),h,l=h=c.id;h||(h=c.id=fb());b.pasteHTML(c.outerHTML);(c=d.m(h))&&(l||c.removeAttribute("id"));g&&(b=c.firstChild,e.BN(c),c=b);return c};t.insertNode=function(b,c){var d=Cq(this.Q.duplicate(),b,c);this.De();return d};t.yh=u(7);t.collapse=function(b){this.Q.collapse(b);b?(this.ua=this.xa,this.Ca=this.Fa):(this.xa=this.ua,this.Fa=this.Ca)};a.Dq=function(b){this.Q=b};y(Dq,rq);Dq.prototype.tp=function(b){b.collapse(this.Z(),this.wa());(this.ka()!=this.Z()||this.Ka()!=this.wa())&&b.extend(this.ka(),this.Ka());0==b.rangeCount&&b.addRange(this.Q)};a.Eq=function(b){this.Q=b};y(Eq,rq);Eq.prototype.Ee=function(b,c,d){return Gb("528")?Eq.n.Ee.call(this,b,c,d):this.Q.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.END_TO_START:1==c?fa.Range.START_TO_END:fa.Range.END_TO_END,b)};Eq.prototype.tp=function(b,c){b.removeAllRanges();c?b.setBaseAndExtent(this.ka(),this.Ka(),this.Z(),this.wa()):b.setBaseAndExtent(this.Z(),this.wa(),this.ka(),this.Ka())};a.Fq=function(b){return A&&!Ib(9)?new wq(b,Ub(b.parentElement())):D?new Eq(b):C?new vq(b):tb?new Dq(b):new rq(b)},a.qq=function(b){if(A&&!Ib(9)){var c=new wq(yq(b),Ub(b));if(sq(b)){for(var d,e=b;(d=e.firstChild)&&sq(d);)e=d;c.xa=e;c.Fa=0;for(e=b;(d=e.lastChild)&&sq(d);)e=d;c.ua=e;c.Ca=1==e.nodeType?e.childNodes.length:e.length;c.rg=b}else c.xa=c.ua=c.rg=b.parentNode,c.Fa=z.indexOf(c.rg.childNodes,b),c.Ca=c.Fa+1;b=c}else b=D?new Eq(tq(b)):C?new vq(tq(b)):tb?new Dq(tq(b)):new rq(tq(b));return b},a.sq=
function(b){return jc(b)||3==b.nodeType};a.Gq=function(){};y(Gq,fq);a.Hq=function(b,c){var d=new Gq;d.Wi=b;d.wf=!!c;return d},a.Jq=function(b,c,d,e){var g=new Gq;g.wf=Iq(b,c,d,e);if("BR"==b.tagName)var h=b.parentNode,c=z.indexOf(h.childNodes,b),b=h;"BR"==d.tagName&&(h=d.parentNode,e=z.indexOf(h.childNodes,d),d=h);g.wf?(g.xa=d,g.Fa=e,g.ua=b,g.Ca=c):(g.xa=b,g.Fa=c,g.ua=d,g.Ca=e);return g};t=Gq.prototype;t.Wi=k;t.xa=k;t.Fa=k;t.ua=k;t.Ca=k;t.wf=n;
t.clone=function(){var b=new Gq;b.Wi=this.Wi;b.xa=this.xa;b.Fa=this.Fa;b.ua=this.ua;b.Ca=this.Ca;b.wf=this.wf;return b};t.ji=s("text");t.be=function(){return Kq(this).Q};t.De=function(){this.xa=this.Fa=this.ua=this.Ca=k};t.vj=s(1);t.Ke=function(){return this};
a.Kq=function(b){var c;if(!(c=b.Wi)){c=b.Z();var d=b.wa(),e=b.ka(),g=b.Ka();if(A&&!Ib(9)){var h=c,l=d,m=e,p=g,r=n;1==h.nodeType&&(l>h.childNodes.length&&xq.log(fe,"Cannot have startOffset > startNode child count",i),l=h.childNodes[l],r=!l,h=l||h.lastChild||h,l=0);var w=yq(h);l&&w.move("character",l);h==m&&l==p?w.collapse(j):(r&&w.collapse(n),r=n,1==m.nodeType&&(p>m.childNodes.length&&xq.log(fe,"Cannot have endOffset > endNode child count",i),m=(l=m.childNodes[p])||m.lastChild||m,p=0,r=!l),h=yq(m),
h.collapse(!r),p&&h.moveEnd("character",p),w.setEndPoint("EndToEnd",h));p=new wq(w,Ub(c));p.xa=c;p.Fa=d;p.ua=e;p.Ca=g;c=p}else c=D?new Eq(uq(c,d,e,g)):C?new vq(uq(c,d,e,g)):tb?new Dq(uq(c,d,e,g)):new rq(uq(c,d,e,g));c=b.Wi=c}return c};t.yc=function(){return Kq(this).yc()};t.Z=function(){return this.xa||(this.xa=Kq(this).Z())};t.wa=function(){return this.Fa!=k?this.Fa:this.Fa=Kq(this).wa()};t.ka=function(){return this.ua||(this.ua=Kq(this).ka())};t.Ka=function(){return this.Ca!=k?this.Ca:this.Ca=Kq(this).Ka()};
t.pi=q("wf");t.Mg=function(b,c){var d=b.ji();return"text"==d?Kq(this).Mg(Kq(b),c):"control"==d?(d=b.gi(),(c?z.some:z.every)(d,function(b){return this.containsNode(b,c)},this)):n};t.jg=u(65);t.isCollapsed=function(){return Kq(this).isCollapsed()};t.Qc=u(28);t.Xg=u(24);t.ee=u(45);t.gd=function(){return new oq(this.Z(),this.wa(),this.ka(),this.Ka())};t.select=function(){Kq(this).select(this.wf)};t.cd=u(3);t.insertNode=function(b,c){var d=Kq(this).insertNode(b,c);this.De();return d};t.yh=u(6);t.bA=function(){return new Lq(this)};
t.collapse=function(b){b=this.pi()?!b:b;this.Wi&&this.Wi.collapse(b);b?(this.ua=this.xa,this.Ca=this.Fa):(this.xa=this.ua,this.Fa=this.Ca);this.wf=n};a.Lq=function(b){this.rC=iq(b);this.yL=b.pi()?b.Ka():b.wa();this.pE=jq(b);this.FN=kq(b)};y(Lq,cq);Lq.prototype.pk=u(34);Lq.prototype.z=function(){Lq.n.z.call(this);this.pE=this.rC=k};a.Mq=function(){};y(Mq,nq);a.Nq=function(b){var c=new Mq;c.Q=b;return c},a.Oq=function(b){for(var c=Ub(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)c.addElement(arguments[d]);return Nq(c)};t=Mq.prototype;t.Q=k;t.$a=k;t.Mp=k;t.De=function(){this.Mp=this.$a=k};t.clone=function(){return Oq.apply(this,this.gi())};t.ji=s("control");t.be=function(){return this.Q||document.body.createControlRange()};t.vj=function(){return this.Q?this.Q.length:0};
t.Ke=function(b){b=this.Q.item(b);return Hq(qq(b),i)};t.yc=function(){return zc.apply(k,this.gi())};t.Z=function(){return Pq(this)[0]};t.wa=s(0);t.ka=function(){var b=Pq(this),c=z.Ve(b);return z.find(b,function(b){return vc(b,c)})};t.Ka=function(){return this.ka().childNodes.length};t.gi=function(){if(!this.$a&&(this.$a=[],this.Q))for(var b=0;b<this.Q.length;b++)this.$a.push(this.Q.item(b));return this.$a};
a.Pq=function(b){b.Mp||(b.Mp=b.gi().concat(),b.Mp.sort(function(b,d){return b.sourceIndex-d.sourceIndex}));return b.Mp};t.jg=u(64);t.isCollapsed=function(){return!this.Q||!this.Q.length};t.Qc=u(27);t.Xg=u(23);t.ee=u(44);t.gd=function(){return new Qq(this)};t.select=function(){this.Q&&this.Q.select()};t.cd=u(2);t.ug=u(38);t.bA=function(){return new Rq(this)};t.collapse=function(){this.Q=k;this.De()};a.Rq=function(b){this.$a=b.gi()};y(Rq,cq);Rq.prototype.pk=u(33);
Rq.prototype.z=function(){Rq.n.z.call(this);delete this.$a};a.Qq=function(b){b&&(this.$a=Pq(b),this.xa=this.$a.shift(),this.ua=z.Ve(this.$a)||this.xa);eq.call(this,this.xa,n,j)};y(Qq,mq);t=Qq.prototype;t.xa=k;t.ua=k;t.$a=k;t.uj=u(57);t.sj=u(41);t.Z=q("xa");t.ka=q("ua");t.Bo=function(){return!this.depth&&!this.$a.length};t.next=function(){this.Bo()&&f(O.fb);if(!this.depth){var b=this.$a.shift();this.ed(b,1,1);return b}return Qq.n.next.call(this)};
t.Pg=function(b){this.$a=b.$a;this.xa=b.xa;this.ua=b.ua;Qq.n.Pg.call(this,b)};t.clone=function(){var b=new Qq(k);b.Pg(this);return b};a.Sq=function(){this.ef=[];this.xm=[];this.fr=this.Pm=k};y(Sq,nq);t=Sq.prototype;t.Ga=pe("goog.dom.MultiRange");t.De=function(){this.xm=[];this.fr=this.Pm=k};t.clone=function(){var b=new Sq;b.ef=z.clone(this.ef);return b};t.ji=s("mutli");t.be=function(){1<this.ef.length&&this.Ga.Ik("getBrowserRangeObject called on MultiRange with more than 1 range");return this.ef[0]};t.vj=function(){return this.ef.length};t.Ke=function(b){this.xm[b]||(this.xm[b]=Hq(Fq(this.ef[b]),i));return this.xm[b]};
t.yc=function(){if(!this.fr){for(var b=[],c=0,d=this.vj();c<d;c++)b.push(this.Ke(c).yc());this.fr=zc.apply(k,b)}return this.fr};a.Tq=function(b){b.Pm||(b.Pm=hq(b),b.Pm.sort(function(b,d){var e=b.Z(),g=b.wa(),h=d.Z(),l=d.wa();return e==h&&g==l?0:Iq(e,g,h,l)?1:-1}));return b.Pm};t.Z=function(){return Tq(this)[0].Z()};t.wa=function(){return Tq(this)[0].wa()};t.ka=function(){return z.Ve(Tq(this)).ka()};t.Ka=function(){return z.Ve(Tq(this)).Ka()};t.jg=u(63);
t.isCollapsed=function(){return 0==this.ef.length||1==this.ef.length&&this.Ke(0).isCollapsed()};t.Qc=u(26);t.Xg=u(22);t.ee=u(43);t.gd=function(){return new Uq(this)};t.select=function(){var b=gq(this.Ta());b.removeAllRanges();for(var c=0,d=this.vj();c<d;c++)b.addRange(this.Ke(c).be())};t.cd=u(1);t.bA=function(){return new Vq(this)};t.collapse=function(b){if(!this.isCollapsed()){var c=b?this.Ke(0):this.Ke(this.vj()-1);this.De();c.collapse(b);this.xm=[c];this.Pm=[c];this.ef=[c.be()]}};
a.Vq=function(b){this.dA=z.map(hq(b),function(b){return b.bA()})};y(Vq,cq);Vq.prototype.pk=u(32);Vq.prototype.z=function(){Vq.n.z.call(this);z.forEach(this.dA,function(b){b.H()});delete this.dA};a.Uq=function(b){b&&(this.kg=z.map(Tq(b),function(b){return O.fd(b)}));b=b?this.Z():k;eq.call(this,b,n,j)};y(Uq,mq);t=Uq.prototype;t.kg=k;t.hl=0;t.uj=u(56);t.sj=u(40);t.Z=function(){return this.kg[0].Z()};t.ka=function(){return z.Ve(this.kg).ka()};t.Bo=function(){return this.kg[this.hl].Bo()};
t.next=function(){try{var b=this.kg[this.hl],c=b.next();this.ed(b.ga,b.ec,b.depth);return c}catch(d){return(d!==O.fb||this.kg.length-1==this.hl)&&f(d),this.hl++,this.next()}};t.Pg=function(b){this.kg=z.clone(b.kg);Uq.n.Pg.call(this,b)};t.clone=function(){var b=new Uq(k);b.Pg(this);return b};a.Xq=function(b){return(b=gq(b||window))&&Wq(b)},a.Wq=function(b){var c,d=n;if(b.createRange)try{c=b.createRange()}catch(e){return k}else if(b.rangeCount){if(1<b.rangeCount){c=new Sq;for(var d=0,g=b.rangeCount;d<g;d++)c.ef.push(b.getRangeAt(d));return c}c=b.getRangeAt(0);d=Iq(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}else return k;return Yq(c,d)},a.Yq=function(b,c){return b&&b.addElement?Nq(b):Hq(Fq(b),c)},a.lq=function(b){return Hq(qq(b),i)},a.Zq=function(b,c){return Jq(b,c,b,c)},a.Iq=
function(b,c,d,e){if(b==d)return e<c;var g;if(1==b.nodeType&&c)if(g=b.childNodes[c])b=g,c=0;else if(vc(b,d))return j;if(1==d.nodeType&&e)if(g=d.childNodes[e])d=g,e=0;else if(vc(d,b))return n;return 0<(yc(b,d)||c-e)};a.$q=function(b){return(b=b.exec(pb()))?b[1]:""},a.ar=function(){if(Ng)return $q(/Firefox\/([0-9.]+)/);if(A||tb)return zb;if(Sg)return $q(/Chrome\/([0-9.]+)/);if(Tg)return $q(/Version\/([0-9.]+)/);if(Pg||Qg){var b=/Version\/(\S+).*Mobile\/(\S+)/.exec(pb());if(b)return b[1]+"."+b[2]}else{if(Rg)return(b=$q(/Android\s+([0-9.]+)/))?b:$q(/Version\/([0-9.]+)/);if(Og)return $q(/Camino\/([0-9.]+)/)}return""}();a.br=A&&!Ib(9),a.cr=C||D||tb||A&&Ib(9),a.dr=D||n,a.er=A||D||tb,a.fr=C||D;D&&Gb("534.16");a.gr=C&&j,a.hr=C||D||tb,a.ir=C||tb;A&&Gb("7.0");a.jr=C&&Gb("1.8")||D||tb,a.kr=D||A&&Gb("9");A||tb||C&&Gb("1.9");a.lr=C||D&&!Gb("527"),a.mr=A||tb,a.nr=A||D&&Gb("525"),a.or=D&&!Gb("531"),a.pr=D&&!Gb("528");C&&Gb("1.9")||A||tb||D&&Gb("531");a.qr=A||C||tb,a.rr=C||D&&!Gb("526"),a.sr=A||tb,a.tr=!A&&!tb,a.ur=!D;Sg&&0<=db(ar,"4")||Tg&&Gb("533")||C&&Gb("2.0")||A&&Gb("10");a.vr=tb&&Gb("11.10");Sg&&db(ar,"12");a.wr=F.Wh("ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DETAILS","DIR","DIV","DL","DD","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","ISINDEX","OL","LI","MAP","MENU","NAV","OPTGROUP","OPTION","P","PRE","SECTION","SUMMARY","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"),a.xr=F.Wh("IMG","IFRAME","EMBED");a.yr=F.Wh("text","file","url");a.Ar=function(b,c){var d=b?Vb(b):c;T.call(this,d);this.eT=b||this.L().za().body;this.vz={};zr.push(this);this.Mt=j};y(Ar,T);a.Br=0,a.zr=[];Ar.prototype.le=k;Ar.prototype.Bl=n;Ar.prototype.jt=0;a.Cr=A?"styleFloat":"cssFloat",a.Dr=["position","top","left","width",Cr],a.Er=["position","top","left","display",Cr,"marginTop","marginLeft","marginRight","marginBottom"];t=Ar.prototype;t.w=function(){Ar.n.w.call(this);this.$(this.m())};t.$=function(b){Ar.n.$.call(this,b);E.add(b,"goog-scrollfloater")};
t.C=function(){Ar.n.C.call(this);this.rv=Ag(document.body).top-2;this.le||(this.le=this.L().w("div",{style:"visibility:hidden"}));this.jt=gg(this.m()).y;Fr(this,this.Mt);var b=this.Sp=new Wn(this.aq,150,this);this.h().e(window,"scroll",b.fire,n,b);this.h().e(window,"resize",cl(150,this.Fx))};t.z=function(){Ar.n.z.call(this);z.remove(zr,this);this.Sp.H();this.iy&&(Br-=this.uD);delete this.le};a.Fr=function(b,c){(b.Mt=c)?b.aq():Gr(b)};
t.aq=function(){this.Mt&&(Pc(this.L()).y+this.rv>this.jt?Hr(this):Gr(this))};a.Hr=function(b){if(!b.Bl){var c=b.m(),d=gg(c).x,e=xg(c).width;b.vz={};F.forEach(Dr,function(b){this.vz[b]=c.style[b]},b);F.forEach(Er,function(b){this.le.style[b]=c.style[b]||Zf(c,b)||Yf(c,b)},b);pg(b.le,c.offsetWidth,c.offsetHeight);Wf(c,{left:d+"px",width:e+"px",cssFloat:"none"});c.parentNode.replaceChild(b.le,c);b.eT.appendChild(c);c.style.position="fixed";b.mp();E.add(c,"goog-scrollfloater-floating");b.Bl=j}};
t.mp=function(){var b=this.m(),c=this.rv;!this.iy&&0<Br&&(c+=Br);b.style.top=c+"px"};a.Gr=function(b){if(b.Bl){var c=b.m();F.forEach(b.vz,function(b,e){c.style[e]=b});b.le.parentNode.replaceChild(c,b.le);E.remove(c,"goog-scrollfloater-floating");b.Bl=n}};t.Fx=function(){Gr(this);this.jt=gg(this.m()).y;this.aq()};a.Ir=function(b,c,d){Ar.call(this,b,d);this.CT=c;this.Ah="";this.yz=100};y(Ir,Ar);
Ir.prototype.aq=function(){var b,c=this.Ah;b=c&&z.find(zr,function(b){return c===b.Ah&&b.Bl});if(this.Mt&&(!b||b===this)){b=this.CT.getBoundingClientRect();var d=this.rv+Br,e=d+this.yz;b.top<d&&b.bottom>e?Hr(this):Gr(this)}};a.Jr=function(){};ia(Jr);
Jr.prototype.Qg=function(b,c,d){function e(){var e=window.ZH.createRichTextEditor(b,c),g=e[0],e=e[1];d&&d(g,e)}var g=Af.U(),h=g.qd.rich_text_editor;h.Ld()?(g.Ga.info("rich_text_editor module already loaded"),g=new vf(e,i),window.setTimeout(v(g.execute,g),0)):Df(g,"rich_text_editor")?(g.Ga.info("rich_text_editor module already loading"),h.yt(e,i)):(g.Ga.info("Registering callback for module: rich_text_editor"),h.yt(e,i),g.Ga.info("Initiating module load: rich_text_editor"),Gf(g,["rich_text_editor"]))};a.Kr=function(b,c){this.M=$(b);this.G=$.extend({},this.R,c||{});this.Ig()};Kr.prototype.R={WT:[],Wz:[],pM:j};a.Lr="data-tip class style id bgcolor color size width height".split(" ");
Kr.prototype.Ig=function(){var b=this;if(this.G.pM)this.M.on("paste",function(){setTimeout(function(){var c=b.G,d=c.WT,e=c.Wz,g={id:function(b,c){b.id&&!z.contains(d,b.id)&&b.removeAttribute(c)},"class":function(b,c){if(b.className)if(e.length){var d=E.get(b),d=z.filter(d,tf(xa(z.contains,e)));d.length&&E.remove.apply(k,[b].concat(d))}else b.removeAttribute(c)}};$("*",b.M).each(function(){var b=this;$.each(Lr,function(c,d){var e=g&&F.get(g,d);e?e(b,d):b.removeAttribute(d)})})})})};a.Mr=function(b){this.G=$.extend(j,{},this.R,b||{});this.Av();this.vf()};y(Mr,Kd);t=Mr.prototype;t.R={cn:{je:6,content:"",method:"GET",source:"/people/autocomplete"},kT:"mention-popup",dk:document.body,eC:"activated"};t.Av=function(){var b=this.g=ic(this.nB);this.ip=b.getElementsByTagName("input")[0];b.className=this.G.kT;b.style.display="none";this.G.dk.appendChild(b)};t.yc=function(){return this.G.dk};t.nB='<div><div class="writing-bg"><input></div><div class="tip">æ³ç¨ @ æå°è°ï¼</div></div>';t.Ch=Xk('<% if (data.id) { %><img class="avatar" src="<%=avatar%>"><span class="name"><%=label%></span><% } %>');
t.sb=function(){return ug(this.g)};t.open=function(){this.sb()||(Q(this.g,j),this.ip.focus(),this.Ig(),this.dispatchEvent("open"))};t.close=function(){this.sb()&&(Q(this.g,n),E.remove(this.g,this.G.eC),this.ip.value="",this.ip.blur(),this.Xv(),this.dispatchEvent("close"))};a.Nr=function(b,c){b.close();b.dispatchEvent({type:"cancel",data:{originalEvent:c}})};t.cH=function(b){this.sb()&&!vc(this.g,b.target)&&Nr(this,b)};
t.ap=function(b){var c=b.keyCode,d=this.ip;if(27===c||d===b.target&&""===d.value&&(8===c||32===c))Nr(this,b),b.preventDefault(),b.stopPropagation()};t.Ig=function(){N(document,"click",this.cH,n,this);N(this.g,"keydown",this.ap,n,this)};t.Xv=function(){Bd(document,"click",this.cH,n,this);Bd(this.g,"keydown",this.ap,n,this)};
t.vf=function(){var b=this,c=this.G.cn,d=new Rp(this.ip,{lk:this.g,je:c.je,source:c.source,select:function(c){setTimeout(function(){b.close();b.dispatchEvent({type:"select",data:{jT:c}})});return""},dd:function(c,d,h){h.innerHTML=b.Ch(c.data)}});d.nA(c.method);d.Na(c.content);d.addEventListener("suggestionsupdate",function(){E.enable(this.g,this.G.eC,d.sb())},n,this);this.W=d};t.position=function(b){cg(this.g,b)};t.We=u(50);a.Or=function(b,c){this.input=b;F.extend(this.G={},this.R,c||{});this.zi=new Mr({cn:this.G.cn,dk:this.G.dk});this.Ig()};y(Or,Kd);a.Pr=!!window.getSelection;Or.prototype.R={cn:{},dk:document.body,Rj:"member_mention",fs:"mention-holder",position:function(b,c){b.x+=c.width+7;b.y-=5;A&&7<zb&&(b.y+=c.height/2-9)}};a.Qr=F.La({DX:"member_mention"});Or.prototype.m=q("input");
a.Rr=function(b){var b=J(b.G.fs,b.input),c;if(b)return c=document.createTextNode("@"),pc(c,b),c},a.Sr=function(b,c){var d;C&&(d=cc(document),b.input.focus(),window.scrollTo(d.x,d.y));var e;Pr?(d=window.getSelection(),e=document.createRange(),e.setStartAfter(c),d.removeAllRanges(),d.addRange(e)):3===c.nodeType&&Zq(c,c.length).select()};
Or.prototype.Ig=function(){var b=this.zi;N(b,"cancel",function(b){var d=Rr(this),b=b.data.originalEvent;d&&"click"!==b.type&&("keydown"===b.type&&32===b.keyCode&&(d=d.parentNode.insertBefore(document.createTextNode(" "),d.nextSibling)),Sr(this,d))},n,this);N(b,"select",function(b){var d=b.data.jT,b=J(this.G.fs,this.input),d=this.ir(d),e=b.previousSibling,g=document.createTextNode(" ");pc(d,b);nc(g,d);e&&(3===e.nodeType&&!Fa(Ic(e)," "))&&mc(document.createTextNode(" "),d);Sr(this,g)},n,this);N(this.input,
"click",function(){b.sb()&&Rr(this)},n,this);N(this.input,"keydown",function(b){var d;if(8===b.keyCode&&(d=Xq())){var b=d.Z(),e=d.ka(),g=d.wa();d=d.Ka();var h=n;Tr(b.parentNode)&&(g=0,h=j);Tr(e.parentNode)&&(d=e.length,h=j);h&&Jq(b,g,e,d).select()}},n,this);N(this.input,mb||Pg||Qg?"keypress":"keyup",function(b){function d(b,c){if(3!==b.nodeType||"@"===b.nodeValue&&b.previousSibling&&"A"===b.previousSibling.nodeName||b.parentNode&&"A"===b.parentNode.nodeName)return n;var d=b.nodeValue,e=c-1;if("@"!==
d.slice(e,e+1))return n;var g=d;0<=e&&e<d.length&&(g=d.substr(0,e)+d.substr(e+1,d.length-e-1));b.nodeValue=g;return j}if(!("keypress"===b.type&&"@"!==String.fromCharCode(b.charCode))){var e,g,h,l;if("keyup"===b.type){if(50!==b.keyCode)return;if(Pr){e=window.getSelection();h=e.anchorNode;l=e.anchorOffset;if(!d(h,l))return;D&&!h.nextSibling&&(h.nodeValue+=" ");g=document.createRange();e.removeAllRanges();g.setStart(h,l-1);g.setEnd(h,l-1);e.addRange(g)}else{g=Yq(document.selection.createRange());h=iq(g);
l=g.wa();if(!d(h,l))return;Zq(h,l-1).select()}}this.du(b)}},n,this)};
Or.prototype.du=function(b){var c=this,d=this.zi;if(!d.sb()){var e=function(d){return!(d&&"A"===d.nodeName)&&d.className!==c.G.Rj?(b&&b.preventDefault(),j):n};if(Pr){var g=window.getSelection();if(e(g.anchorNode.parentNode)){var e=g.getRangeAt(0),h=Ur(c);e.insertNode(h);e.selectNode(h);g.removeAllRanges();g.addRange(e);e=Vr(c,window.getSelection().getRangeAt(0));d.position(e);d.open()}}else g=document.selection.createRange(),h=g.parentElement(),e(h)&&(g.pasteHTML(Ur(c).outerHTML),g.moveToElementText(J(c.G.fs,
c.input)),g.select(),e=Vr(c,g),"7.0"===zb&&(e.x-=2),d.position(e),d.open())}};a.Vr=function(b,c){var d;d=c.getBoundingClientRect();var e;A&&(e={width:c.boundingWidth,height:c.boundingHeight},ya(e,d),d=e);e=cc(document);var g=gg(b.zi.yc());g.x=d.left-g.x+e.x;g.y=d.top-g.y+e.y;b.G.position.call(b,g,d);return g},a.Tr=function(b){return b&&1===b.nodeType&&"A"===b.tagName&&z.contains(Qr,b.className)};
Or.prototype.ir=function(b,c){return K("a",{"data-hash":b.id,href:"/people/"+b.url_token,className:c||this.G.Rj,innerHTML:"@"+b.label})};a.Ur=function(b){return K("a",{className:b.G.fs,innerHTML:"@"})};a.Wr=function(b,c,d,e){T.call(this);this.status=this.Ab=k;this.WF=b;this.cR=e||0;this.mI=c;this.mr=d;this.isEnabled=j;this.sE=n;this.sd=[];this.content=k;this.XZ=this.cR?j:n;this.tu=n;this.DD=$.Deferred()};y(Wr,T);t=Wr.prototype;t.z=function(){this.Ma=k;Wr.n.z.call(this)};
t.$=function(b){Wr.n.$.call(this,b);var c=b.getAttribute("data-resourceid");c&&(this.XT=b.getAttribute("data-action"),this.Gt=c);this.status||(this.status="normal");b=this.L();if(!this.hd&&(this.hd=b.fi("zm-editable-content",this.g))&&"1"===this.hd.getAttribute("data-disabled"))this.disabled=j;this.Wb?this.Ab&&(this.Wb.innerHTML=this.Ab):(this.Wb=b.fi("zm-editable-tip",this.g),this.Ab&&!this.Wb&&(this.Wb=b.w("div","zm-editable-tip"),this.Wb.innerHTML=this.Ab,b.Zl(this.Wb,this.hd)));this.Ob=b.fi("zm-editable-editor-wrap",
this.g);this.content=La(this.content||this.tu?Ic(this.hd):this.hd.innerHTML);this.Be();Xr(this)};t.w=function(){var b=this.L(),b=b.w("div","zm-editable-item-wrap",[this.Wb=b.w("div","zm-editable-tip"),this.hd=b.w("div","zm-editable-content",this.content)]);this.$(b)};t.C=function(){Wr.n.C.call(this);this.h().e(this.hd,"click",this.na);this.Wb&&this.h().e(this.Wb,"click",this.na)};t.Na=function(b){this.content=b;Xr(this)};
t.na=function(b){var c=Qk(this.g,b.target),d=this.L();if(!c||!c.name)return b=d.QN(b.target,"div","zm-editable-tip-label"),this.isEnabled&&b&&this.xd(),j;b=c.name;switch(b){case "expand":Xr(this);break;case "collapse":Xr(this);break;case "edit":if(!R.Jg){el.U().F(j);return}this.B();this.xd();this.dispatchEvent("click_edit");break;case "save":this.cF();break;case "cancel":this.dispatchEvent("cancel_edit");this.xh();break;default:return this.Pl(b)}return j};
t.cF=function(){var b=Hk(this.eg()),c=/<embed/i.test(b);if(/<img/i.test(b)||c||this.WF||(!b?0:(!b?"":b.replace(/<[^>]+>/g,"")).length))b===this.content&&!this.sE?(this.dispatchEvent("save_unchanged"),this.xh()):(this.dispatchEvent("save_changed"),this.Bf(b))};t.Bf=function(b){if(!this.ma||!this.ma.bc())if(this.mr&&this.mI){this.ma=new V(j);P(this.h(),this.ma,"success",this.mC);var c=new nj(this.sd.join("&"));c.add(this.mr,b).add("field_name",this.mr);this.ma.ajax(this.mI,c.toString())}else this.dispatchEvent("change")};
t.xh=function(){this.status="normal";this.Be()};t.mC=function(){var b=Le(this.ma);b&&(b.r?U(b.msg):(this.Na(b.msg),this.xh(),this.dispatchEvent("change")))};t.ib=q("content");t.Nr=u(0);t.isContentEditable=function(){return!this.Hd};t.eg=function(){return Ik(Na(this.Ma.value))};t.Pl=function(b){this.dispatchEvent(b);return j};t.B=function(){this.$r||(this.$r=j,this.Qg())};
t.ss=function(){var b=this.Ma;if(b.m){var c=v(function(){this.l_=new Or(b.m(),{dk:this.Zh})},this);b.Ld()?c():b.addEventListener("load",c)}};
t.Qg=function(){var b=this.L();this.Ob?(this.Cd=b.fi("zm-command",this.Ob),this.Ma=b.fi("zm-editable-editor-input",this.Ob)):(this.Ob=b.w("div","zm-editable-editor-wrap clearfix",this.Zh=b.w("div","zm-editable-editor-outer",b.w("div","zm-editable-editor-inner zg-form-text-input",this.Ma=b.w("textarea","zm-editable-editor-input")))),b.vs(this.Ob,this.hd),this.bj());this.Ma&&(this.Ma.tagName&&"TEXTAREA"===this.Ma.tagName&&!this.rr)&&new Oo(this.Ma,66);this.$o()};t.ready=function(b){this.DD.done(b)};
t.$o=function(){this.h().e(this.Cd,"click",this.na);this.su&&this.ss();var b=this.Ma;if(b.m)b.on("load",function(){new Kr(b.m(),{Wz:this.su?Qr:[]})},n,this);this.DD.resolveWith(this)};t.bj=function(){this.Cd=K("div","zm-command",[this.bZ=K("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"åæ¶"),this.Dn=K("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"ä¿å­")]);this.Ob.appendChild(this.Cd)};
t.Be=function(){this.lr&&E.remove(this.g,this.lr);"editing"===this.status?(this.Wb&&Q(this.Wb,n),this.Ob&&Q(this.Ob,j),Q(this.hd,n),this.lr="zm-editable-status-editing"):(this.Wb&&(this.WF&&!this.content&&!this.disabled?Q(this.Wb,j):Q(this.Wb,n)),this.Ob&&Q(this.Ob,n),this.content?Q(this.hd,j):Q(this.hd,n),this.lr="zm-editable-status-normal");E.add(this.g,this.lr)};t.xd=function(){this.Gr||(this.B(),this.ready(function(){this.status="editing";this.Be();this.Ap()}))};
t.Ap=function(){if(this.Gt)this.Gr=j,Yr(this);else{var b=this.Ma,c;c=Za(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");b.value=c}};
a.Xr=function(b){if(b.dispatchEvent("shouldUpdateContent")){var c=b.content,d=b.hd,e;e=[];b.disabled||e.push('<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>ä¿®æ¹</a>');e=e.join("");b.tu?(Ac(d,c),d.appendChild(ic(e))):d.innerHTML=c+e;$("img.lazy",d).lazyload({data_attribute:"actualsrc",threshold:400})}},a.Yr=function(b){b.Gr||(b.Gr=j,Ji(b.XT+"?id="+b.Gt,v(function(b){this.Gr=n;b=Le(b.target);b.r?U(b.msg):this.kA(b.msg)},b),"GET"))};
t.kA=function(b){this.Ma.value=b};a.Zr=function(b,c,d,e){Wr.call(this,b,c,d,e);this.jR="mock"+this.ce();this.pw=n;this.Uq=j;this.Hd=!Ug||Rg;this.su=n;this.wJ=this.WV=j;this.Fy=""};y(Zr,Wr);t=Zr.prototype;t.kA=function(b){this.Hd?Zr.n.kA.call(this,b):(b||(b=C?"":"<div></div>"),this.Ma.ne(n,b,j))};t.Ap=function(){this.ready(function(){this.Gt?Yr(this):this.Hd?Zr.n.Ap.call(this):this.content?this.Ma.ne(n,this.content,n,j):this.Ma.ne(n,D?"<div><br></div>":"<div></div>",n,j)})};
t.z=function(){Xc(this.Ma);L(this.Ob);this.jq=this.LB=this.si=this.sl=this.iB=this.Zh=this.Ob=k;Zr.n.z.call(this)};
t.Qg=function(){if(this.Hd)Zr.n.Qg.call(this);else{var b=this.L();this.Ob=b.w("div","zm-editable-editor-wrap",this.Zh=b.w("div","zm-editable-editor-outer",[this.iB=b.w("div","zm-editable-toolbar-container"),this.sl=b.w("div","zm-editable-editor-field-wrap",this.si=b.w("div",{id:this.jR,className:"zm-editable-editor-field-element"}))]));this.LB=$(this.iB);this.jq=$(this.Ob);this.jq.hide();b.vs(this.Ob,this.hd);this.Gt||(this.si.innerHTML=this.content);b={loremIpsum_:this.Fy,enableFullScreen:this.pw,
content:this.content,useScraper_:this.WV,canUploadMedia_:this.Uq,useRemoveFormat_:this.wJ};this.bj();Jr.U().Qg(this.Ob,b,v(this.$o,this));ub||(this.zg=new Ir(k,this.Zh),this.zg.o(this.iB),Fr(this.zg,n),Gr(this.zg),Vc(this,this.zg))}};
t.$o=function(b,c){if(this.Hd)Zr.n.$o.call(this);else{this.Ma=b;this.jq.show();Zr.n.$o.call(this);var d=b.tj("FullScreenPlugin");if(d){var e=Rh(c,"toggleFullScreen");d.on("save",this.cF,n,this).on("willEnterFullScreen",function(){$r(this,n)},n,this).on("enterFullScreen",function(){e.Wc("éåºåä½æ¨¡å¼")}).on("exitFullScreen",function(){e.Wc("åä½æ¨¡å¼")}).on("shouldExitFullScreenOnEscape",function(){return!b.ah})}if(d=b.tj("CodePlugin"))d.vU(c),d.Ig()}};
a.$r=function(b,c){if(b.zg)if(c){E.add(b.sl,"zm-editable-editor-field-wrap-active");var d=b.zg;d.jt=gg(d.m()).y;Fr(b.zg,j)}else E.remove(b.sl,"zm-editable-editor-field-wrap-active"),Fr(b.zg,n)};t.xd=function(){Zr.n.xd.call(this);this.ready(function(){!this.Hd&&!this.oN&&(this.oN=j,Ad(this.Ma,"load",function(){var b=this.Ma,c=b.tj("FullScreenPlugin");C&&(b=b.field);N(b,["focus","blur"],function(b){(!c||!c.hy())&&$r(this,"focus"===b.type)},n,this)},n,this),this.Ma.ie())})};
t.eg=function(){if(this.Hd)return Zr.n.eg.call(this);var b=this.Ma,c=b.m();return(z.some(["img","embed"],function(b){return c.getElementsByTagName(b).length})?0:!sf(Ik,La,Ic)(c))?"":b.Dl()};t.Be=function(){Zr.n.Be.call(this);this.zg&&Fr(this.zg,"editing"===this.status)};a.as=function(b){b.LB.toggle();b.jq.toggleClass("no-toolbar")};a.bs=function(){ai.call(this,i,i,i);this.MD=j;this.c_=n;this.ZZ=j;this.o_=!!R[5];this.Zy=R.Zy;this.BU=-1===window.location.href.indexOf("psq");this.MI=this.Dc=this.NH=this.Cc=k};y(bs,Di);ia(bs);a.cs=cj.create("AddQuestionForm"+R.No);t=bs.prototype;
t.C=function(){bs.n.C.call(this);this.fa().appendChild($($("#add-question-form-tmpl").html())[0]);this.bd=Yb("zg-editor-input",this.g)[0];this.Rq=J("zu-question-form-add",this.g);this.tn=J("zu-question-form-jump",this.g);this.Ro=I("zm-modal-dialog-warnmsg-wrapper");this.Ks=I("js-title-length-err-msg");this.Nz=J("zm-modal-dialog-warnmsg-wrapper",this.g);this.LD=I("zh-question-form-detail-err");this.XA=I("zh-question-form-tag-err");this.uM=J("zu-global-notify-close",this.Ro);this.FV=J("zu-global-notify-close",
this.Nz);this.TP=I("zm-modal-dialog-info-wrapper");this.Zs=J("zm-modal-dialog-warnmsg",this.Ro);this.G_=J("zm-modal-dialog-warnmsg",this.Nz);this.yn=J("zg-addq-isanon",this.g);this.yV=J("js-toggle-editor-toolbar",this.g);this.UK=J("js-editor-add-pic",this.g);this.VK=J("js-editor-add-video",this.g);this.XU=J("js-add-question-splash",this.g);this.YQ=J("js-add-question-form",this.g);this.HC=I("js-before-ask");this.gN=I("zh-question-suggest-detail-container");this.EV=I("zh-question-suggest-topic-container");
this.Zx();this.Zy?(ds(this,j),this.Xx()):(this.Ij(),ds(this,n))};a.es=function(b,c){c&&(b.UZ=c,b.bd&&(b.bd.value=c,b.rH(),b.QH.ru(),b.Qa&&b.Qa.rB()))};t.show=function(b){this.G=$.extend({Tm:k,Yo:k},b||{});this.F(j)};t.jm=function(){bs.n.jm.call(this);this.G={}};t.Zx=function(){this.lb("æé®");this.uh(550);mi(this,k);this.M=$(this.g);this.M.addClass("absolute-position");this.F(j);this.pa()};
t.Cy=function(){var b=this,c=cs.get("add_question_form_title");c&&es(this,c);var d=cs.get("add_question_form_des");if(d){var e=this.Nb;setTimeout(function(){e.Na(d);e.Ap()})}c=this.G.Tm;c||(c=cs.get("add_question_form_topics"))&&(c=JSON.parse(c));c&&z.forEach(c,function(c){b.Qa.tk(c)})};
t.Ij=Ek(function(){function b(){var b=$('<div><div style="text-align:center"><i class="spinner-gray"></i></div></div>'),c=this.Qn,c=$(c&&ug(c)?c:this.ai),d=c.data("answer_count"),e=c.data("url_token");$.get("/question/"+e+"/answers/summary").done(function(c){if(c&&!c.r){var c=p({forEach:z.forEach,answers:c.msg,question_url_token:e}),g=Ga('<div class="zippy-row"><a class="zg-link-litblue" href="/question/%s">æ¥çè¯¥é®é¢%s</a></div>',e,0<d?"çå¨é¨ "+d+" ä¸ªåç­":"");b.html(c+g)}else U(c.msg)});c.after(b);return b.get(0)}
function c(b,c){b.m().title=c;b.m().setAttribute("data-tip","s$b$"+c)}var d=this;this.Qa=new aq;this.Qa.o(this.EV);this.h().e(this.Qa,["add_tag","remove_tag"],this.pH);new Zl(this.bd,"åä¸ä½ çé®é¢");var e=this.gN;this.Nb=new Zr;this.Nb.Fy='<span style="font-style: normal;color: #999;">é®é¢èæ¯ãæ¡ä»¶ç­è¯¦ç»ä¿¡æ¯</span>';this.Nb.o(e);this.Nb.B();this.Nb.xd();(!ub||Qg)&&as(this.Nb);setTimeout(function(){d.pa()});this.h().e(this.yn,"click",this.zL);Jp.U().refresh();var e=J("zm-add-question-form-sns-wrap",this.g),g=new Dp,
h=new Dp;g.aa(e);h.aa(e);E.add(g.m(),"icon sina");E.add(h.m(),"icon qq");c(g,"åäº«å°æ°æµªå¾®å");c(h,"åäº«å°è¾è®¯å¾®å");g.KC="/oauth/auth/sina?next=/oauth/callback";h.KC="/oauth/auth/qq?next=/oauth/callback";this.h().e(g,"change",this.nH).e(h,"change",this.nH);this.Dc=g;this.Cc=h;if(!ub||Qg)e=Fp.U(),g=new vp("",e),rp(g,32,n),this.h().e(g,"action",this.RR),g.o(this.yV),g.Wc("åæ¢å·¥å·æ "),g=new vp("",e),rp(g,32,n),this.h().e(g,"action",function(){this.Nb.Ma.execCommand("image")}),g.o(this.UK),g.Wc("æ·»å å¾ç"),e=new vp("",e),
rp(e,32,n),this.h().e(e,"action",function(){this.Nb.Ma.execCommand("video")}),e.o(this.VK),e.Wc("æ·»å è§é¢");var l=this,m=Xk(l.Ek.OH),p=Xk(l.Ek.EL),e=l.bd,g=new Vp;l.aC=new Rp(e,{source:"/question/autocomplete",lk:I("zh-question-suggest-ac-wrap"),dd:$.noop,aa:function(c,d,e){l.cC&&l.cC.H();var d=$(c.m()),g=l.cC=new Qp;d.html(m({forEach:z.forEach,questions:e,token:encodeURIComponent(this.Bb)}));d.prepend('<div class="ac-head zg-gray">ä½ çé®é¢å¯è½å·²ç»æç­æ¡</div>');$(".ac-row",d).each(function(){g.Ha(new Hp($(this).get(0),
b,n))});g.o(c.m())},by:g});this.Sa();this.Cy()});t.Ek={};t.Ek.OH='<% forEach(questions, function(q, i) { q = q.data; %><div class="ac-row" data-url_token="<%=q.url_token%>" data-answer_count="<%=q.answer_count%>"><% if (q.is_star) { %><a class="zg-star" data-tip="s$b$ä¼è´¨é®ç­" href="/question/<%=q.url_token%>"></a><% } %><a class="zippy-indicator"><i></i></a><a style="color:#222" href="/question/<%=q.url_token%>?q=<%= token %>"><%- q.title%></a><span class="zm-ac-gray"> <%= parseInt(q.answer_count) > 0 ? q.answer_count + " ä¸ªåç­" : "è¿æ²¡æåç­" %> </span></div><% }) %>';
t.Ek.EL='<% forEach(answers, function(a, i) { %><div class="zippy-row"><div class="summary-item"><a class="inline-block zm-item-vote-count" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><%=a.vote_count%></a><% if (a.author.url_token) { %><a class="inline-block" href="/people/<%=a.author.url_token%>"><span class="author"><%-a.author.name%></span> </a><% } else { %><span class="inline-block anon-author"><%-a.author.name%></span> <% } %><span class="inline-block summary ellipsis"><%=a.summary_text%></span><a class="inline-block" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>">éè¯»å¨é¨ Â»</a></div></div><% }) %>';
t.Xx=function(){function b(){ds(c,n);c.bd.value=e.value}var c=this,d=Xk(this.Ek.OH),e=this.HC,g=new Vp;this.RK=new Rp(e,{source:"/question/autocomplete",lk:e.offsetParent,dd:ba(),aa:function(c,g,m){c=$(c.m());c.html(d({forEach:z.forEach,questions:m,token:encodeURIComponent(this.Bb)}));0<m.length&&c.prepend('<div class="ac-row ac-first"><b>ä½ æ³é®çæ¯ä¸æ¯ï¼</b></div>').append($('<div class="ac-row ac-last iwanttoask"><b>ä¸æ¯ï¼æè¦æä¸ä¸ªæ°é®é¢ Â»</b></div>'));0===m.length&&e.value&&(c.html('<div class="ac-row ac-last iwanttoask"><b>æ²¡ææ¾å°ç¸å³é®é¢ï¼é©¬ä¸æé® Â»</b></div>').show(),
m.push("fake row"));c.off("click").on("click",".iwanttoask",b)},by:g});this.RK.jn=n};a.ds=function(b,c){$(b.XU).toggle(!!c);$(b.YQ).toggle(!c);c?b.HC.focus():(b.Ij(),b.bd.focus());b.pa()};t.nH=function(b){b=b.target;if(b===this.Dc&&!this.MI||b===this.Cc&&!this.NH)window.open(b.KC),b.Vc(n)};t.zL=function(){var b=J("zm-add-question-form-sns-wrap"),c=J("zm-question-form-split"),d=this.yn.checked;Q(b,!d);Q(c,!d)};a.fs=function(b,c,d){"title"===d?b.EQ=c:"detail"===d?b.sQ=c:b.FQ=c;b.MD=b.EQ||b.sQ||b.FQ};
t.Sa=function(){this.h().e(this.g,"click",this.qx);this.NQ&&this.NQ.o(this.bd);this.QH=new Oo(this.bd,22);this.h().e(this.QH,"change",this.rH);this.h().e(this.uM,"click",function(){Q(this.Ro,n);Q(this.TP,j)});this.h().e(this.FV,"click",function(){Q(this.Nz,n)});this.h().e(Y,"sina_callback",this.im);this.h().e(Y,"qq_callback",this.im);this.h().e(this,"afterhide",function(){this.Lt()});this.sw()};t.sw=function(){$(window).on("beforeunload.AddQuestionForm",v(function(){this.Lt()},this))};t.fw=function(){$(window).off("beforeunload.AddQuestionForm")};
t.im=function(b){var c={id:b.qb.id,name:b.qb.name};"sina_callback"===b.type?(this.MI=c,this.Dc.Vc(n)):"qq_callback"===b.type&&(this.NH=c,this.Cc.Vc(n))};t.Lt=function(){this.bd.value&&cs.$e("add_question_form_title",this.bd.value);var b=this.Nb.eg();b&&cs.$e("add_question_form_des",b);(b=this.Qa.data)&&cs.$e("add_question_form_topics",JSON.stringify(b))};t.Hv=function(){cs.clear()};t.qx=function(b){if(b=Qk(this.g,b.target))switch(b=b.name,b){case "expand":E.add(this.g,"zg-qform-expanded");break;default:this.Pl(b)}};
t.um=function(){if(!this.Jz){this.Jz=j;setTimeout(v(function(){this.Jz=n},this),3E4);this.xhr=new V(j);P(this.h(),this.xhr,"success",this.Yo);this.xhr.ajax("/question/add",gs(this).Pc());var b=this.Qa;if(b.Pp){var c=0,d=b.data.length;z.forEach(b.data,function(b){z.forEach(this.Pp,function(d){b[1]===d[1]&&c++},this)},b);Y.Y({type:"ga_click_add_question",data:{du:c,total:d}})}}};
t.Yo=function(){this.Jz=n;var b=Le(this.xhr);if(b)if(b.r)if(281===b.errcode){var c=new hs;c.Ie=b.msg;c.mc=3;is(this,c,j)}else U(b.msg);else dj.$e("__Q_ISNEWLYCREATED__","yep"),this.Hv(),this.fw(),b=b.msg,c=b.match(/\/question\/(\d+)/)[1],this.G.Yo?this.G.Yo({url:b,wb:c}):location.href=b;else U("ç½ç»å¼å¸¸")};
t.Pl=function(b){if("cancel"===b)this.F(n);else if("addq"===b){var b=js(this),c=ks(this);if(!(1<c.mc)&&!(1<b.mc)){var d=ls(this),e=new hs;3E3<Sk(d)?(e.mc=3,e.Ie="è¯·æ§å¶å¨ 3000 å­ä»¥ä¸"):e.mc=0;d=1<e.mc;this.LD.innerHTML=e.Ie;Q(this.LD,d);fs(this,d,"detail");this.pH()}fs(this,1<c.mc||1<b.mc,"title");this.MD?is(this,1<b.mc?b:c,j):this.um()}};a.is=function(b,c,d){b.Zs.innerHTML=c.Ie;0===c.mc?Q(b.Ro,n):(3!==c.mc&&(Q(b.Rq,j),Q(b.tn,n)),Q(b.Ro,d),d&&b.bd.focus())};
t.rH=function(){var b=js(this),c=ks(this);"toolong"===b.name||"buffer"===b.name?(this.Ks.innerHTML=b.Ie,Q(this.Ks,j)):(this.Ks.innerHTML=b.Ie,Q(this.Ks,n));"multiquestionmark"===c.name||"duplicatedquestion"===c.name?is(this,c,j):is(this,c,n);fs(this,1<c.mc,"title")};
a.ks=function(b){var c=Hk(b.bd.value).replace(/ï¼/g,"?"),d;var e="#";d=b.Ho||new hs;var g=n;if(b.aC&&b.BU){var h=b.aC.Xa;h&&h.length?(z.forEach(h,function(b){4<b.raw.length&&1===+b.raw[4]&&(g=j,e="/question/"+b.url_token+"?q="+encodeURIComponent(this.bd.value)+"&psq=0")},b),g?(d.Ie='æä»¬æ¾å°äºä¸ä¸ªä¹è®¸æ¯ä½ æ³é®çé®é¢ï¼<a href="'+e+'">æ¥çé®é¢</a>',d.mc=3,d.name="duplicatedquestion",d.live=j,b.tn.href=e,Q(b.Rq,n),Q(b.tn,j)):(d=new hs,Q(b.Rq,j),Q(b.tn,n)),b.Ho=d):(d=new hs,b.Ho=d,Q(b.Rq,j),Q(b.tn,n));b.Ho||(b.Ho=d);d=b.Ho}1<
d.mc||(1>Nk(Hk(b.bd.value).replace("ï¼","?"))?(d.Ie="æ¨è¿æ²¡æç»é®é¢æ·»å é®å·",d.mc=3,d.name="noquestionmark"):1<Nk(c)&&(d.Ie="å¦ææå¤ä¸ªé®é¢ï¼æå¥½æåä¸ä¸",d.mc=1,d.name="multiquestionmark"));return d},a.js=function(b){var b=Hk(b.bd.value).replace(/ï¼/g,"?"),b=Sk(b),c=new hs;3>b?(c.mc=3,c.Ie="é®é¢å­æ°å¤ªå°äºå§",c.name="tooshort"):40<b&&50>=b?(c.mc=1,c.Ie='è¿å¯ä»¥è¾å¥ <span class="warning">'+(50-b)+"</span> å­",c.name="buffer"):50<b&&(c.mc=3,c.Ie='å·²è¶åº <span class="error">'+(b-50)+"</span> å­",c.name="toolong");return c};
t.pH=function(){var b=n;1>this.Qa.data.length?(b=j,this.XA.innerHTML="è³å°æ·»å ä¸ä¸ªè¯é¢"):5<this.Qa.data.length&&(b=j,this.XA.innerHTML="æå¤æ·»å äºä¸ªè¯é¢");Q(this.XA,b);fs(this,b,"topic")};
a.ls=function(b){var b=b.Nb,c=La(b.eg());return b.isContentEditable()?c:Na(c)},a.gs=function(b){var c=new Rk,d=[],e=[];c.add("question_title",b.bd.value);c.add("question_detail",ls(b));b.yn&&c.add("anon",b.yn.checked?"1":"0");z.forEach(b.Qa.data,function(b){b[3]?d.push(b[3]):e.push(b[1])});c.add("topic_ids",d.join(","));c.add("new_topics",e.join("$"));lh&&c.add("uid",lh[3]);b.yn.checked||(c.add("share_qq",Number(b.Cc.fe())),c.add("share_sina",Number(b.Dc.fe())));return c};
t.RR=function(){this.Nb&&as(this.Nb)};a.hs=function(){this.mc=isNaN(i)?0:i;this.Ie=""};a.ms=function(b){T.call(this);this.options=$.extend({stopPropagation:j,RL:"#000",lv:0.5,EM:"#666",fD:0.2,top:2,width:6,right:2,ML:j},b);this.Yy=0;this.xr=n};y(ms,T);t=ms.prototype;
t.$=function(b){this.g=b;this.M=$(this.g);this.M.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('<div class="zh-scroller-content"></div>');this.M.wrapInner('<div class="zh-scroller-inner"></div>');this.M.append("<div class='zh-scroller-bar-container'><div>");this.M.append('<div class="zh-scroller-bar"></div>');this.te=this.M.children(".zh-scroller-inner");this.Mk=this.M.children(".zh-scroller-bar-container");this.re=this.M.children(".zh-scroller-bar");this.cf=this.te.children(".zh-scroller-content");
this.Lq=this.re[0];this.cQ=this.te[0];this.content=this.cf[0];this.Mq=this.Mk[0];this.te.css({height:"100%",width:"150%",overflow:"auto"});this.re.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.lv,background:this.options.RL,width:this.options.width,"border-radius":3,cursor:"default"});this.Mk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,background:this.options.EM,border:"1px solid #444",opacity:0,cursor:"default",
"border-radius":"2px"});this.Gi(this.Lq,n);this.Gi(this.Mq,n);this.update()};t.C=function(){ms.n.C.call(this);this.cB=new Wn(this.kz,50,this);this.options.stopPropagation&&this.te.bind("mousewheel DOMMouseScroll",function(b){var c=k;"mousewheel"===b.type?c=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(c=40*b.originalEvent.detail);c&&(b.preventDefault(),$(this).scrollTop(c+$(this).scrollTop()))})};
t.kS=function(b){b.target===this.Lq&&(this.xr=j,this.SL=b.clientY,this.TL=parseInt(this.re.css("top"),10));(b.target===this.Lq||b.target===this.Mq)&&this.Gi(document.body,n)};t.mS=function(){this.xr=n;this.Gi(document.body,j)};t.lS=function(b){if(this.xr){var c=ns(this,this.TL+(b.clientY-this.SL));this.te.scrollTop(c)}this.Yy=b.target===this.Lq?2:b.target===this.Mq?1:0};
a.os=function(b){b.Ip&&(b.re.stop().css({opacity:b.options.lv}).show(),b.mn&&(clearTimeout(b.mn),b.mn=n))},a.ps=function(b,c){b.mn=setTimeout(v(function(){this.re.stop().fadeOut();this.mn=n},b),c||0)};t.kz=function(){var b=this.te.scrollTop(),c=this.cf.height(),d=this.te.height(),e=b/c*(d-2*this.options.top);os(this);this.re.css({top:e+this.options.top});this.dispatchEvent(new qs(this,b,c-b-d,b/(c-d)))};
t.update=function(){var b=this.Ll(this.te).height,c=this.Ll(this.cf).height;b>=c?(this.Ip=n,this.re.hide()):(this.Ip=j,this.re.show());this.re.css({height:b/c*(b-2*this.options.top)});this.Mk.css({height:b-2});this.cf.css({overflow:"hidden",width:this.M.width(),"min-height":"100%"});return this};
t.Ll=function(b){var c={height:b.height(),width:b.width()};if(!c.height){var d=b.css("display"),e=b.css("position"),g=b.css("visibility");b.css({position:"absolute",display:"block",visibility:"hidden"});c={height:b.height(),width:b.width()};b.css({position:e,display:d,visibility:g})}return c};t.CR=function(b){this.scrollTo(ns(this,b.offsetY-this.re.height()/2))};a.ns=function(b,c){var d=b.te.height()-2*b.options.top-b.re.height(),e=b.cf.height()-b.te.height();return c/d*e};
t.scrollTop=function(b){this.Ip&&(b=b||200,os(this),this.te.stop().animate({scrollTop:0},b));return this};t.Gi=function(b,c){wg(b,!c)};t.scrollTo=function(b){this.Ip&&(os(this),this.te.stop().animate({scrollTop:b},200));return this};a.qs=function(b,c,d,e){kd.call(this,"scroll",b);this.scrollTop=c;this.O_=d;this.P_=e};y(qs,kd);a.rs=function(b){T.call(this);this.G=$.extend({},this.R,b||{})};y(rs,T);rs.prototype.R={NG:".tab-nav",zH:".tab-panel",Tk:"active"};rs.prototype.$=function(b){if(b){this.g=b;var c=this,d=this.G;this.Qk=$(d.NG,b);this.HB=$(d.zH,b);this.Fj=this.Qk.index("."+d.Tk);this.Qk.on("click",function(){c.select(c.Qk.index(this))});this.Qk.attr("role","tab").parent().attr("role","tablist")}};
rs.prototype.select=function(b){if(!(0>b||b>this.Qk.size()))if(this.dispatchEvent({type:"action",data:{index:b}}),b!==this.Fj){this.Fj=b;var c=this.G;this.Qk.eq(b).addClass(c.Tk).attr("aria-selected","true").siblings().removeClass(c.Tk).attr("aria-selected","false");c=this.HB.eq(b);this.HB.not(c.show()).hide();this.dispatchEvent({type:"select",data:{index:b}})}};rs.prototype.index=q("Fj");a.ss=function(){M.call(this);this.Vf=[0,0,0];this.WG=[0,0,0];this.types=["default","follow","vote_thank"];this.qw=j;this.ff=[n,n,n];this.Jl=[0,0,0];this.Nm=[n,n,n]};y(ss,Dn);t=ss.prototype;
t.B=function(){this.oh=I("zh-top-nav-live-new");this.IB=$(this.oh);this.Vp=I("zh-top-nav-count-wrap");this.En=K("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=Yb("zm-noti7-content",this.oh);this.UQ=Yb("zm-noti7-popup-refresh",this.oh);this.lD=Yb("zm-noti7-content-body",this.oh);this.Vp.appendChild(this.En);this.h().e(this.Vp,"click",this.eJ).e(this.Vp,"keypress",function(b){32===b.keyCode&&(b.preventDefault(),this.eJ())});this.h().e(Y,
"noti7",this.ZO);this.h().e(this.oh,"click",this.na);this.h().e(this.oh,"click",function(b){b=b.target;b.href&&/group_id=/.test(b.href+"")&&$(b).parent(".unread").removeClass("unread")});var b=J("zm-noti7-popup-tab-container");this.PG=Yb("new-noti",b);this.zh=new rs({NG:".zm-noti7-popup-tab-item",zH:".zm-noti7-content",Tk:"current"});this.h().e(this.zh,"action",function(b){this.yD=b=b.data.index;ts(this,b);var d=this.Cm&&this.Cm[b];d&&(setTimeout(function(){d.update()}),this.zh.index()===b&&d.scrollTop())}).e(this.zh,
"select",function(b){this.yD=b=b.data.index;us(this,b);Y.Y({type:"ga_click_top_nav_noti_tab",data:{zh:+b}});this.rc||dj.$e("noti7-tab",b)});this.zh.o(this.oh);!gh.Bc&&navigator.userAgent.match(/iPad/i)==k&&(this.Cm=z.map(this.contents,function(b){var d=new ms;d.o(b);return d}));gh.Bc&&(this.qw=n);this.qm=I("zh-top-nav-pm-count");this.qm||(this.qm=K("span"));this.hm=I("zh-top-nav-new-pm");this.hm||(this.hm=K("span"));this.ro=parseInt($(this.hm).attr("data-count")||$(this.qm).attr("data-count"),10)||
0;this.mG=I("zh-top-nav-count-wrap");this.mG.innerHTML&&(this.count=+this.mG.innerHTML);this.h().e(Y,"inbox",this.JO)};t.Tr=function(b){!vc(this.oh,b.target)&&!vc(this.Vp,b.target)&&vs(this,n)};
a.us=function(b,c){b.Cm&&z.forEach(b.Cm,function(b,e){c===e?b.vw||(b.h().e(b.cQ,"scroll",function(){this.cB.fire()}),A||(b.h().e(b.Mq,"click",b.CR),b.h().e(document,"mousedown",b.kS),b.h().e(document,"mouseup",b.mS),b.h().e(document,"mousemove",b.lS)),b.options.ML?(b.Ec=new Md(200),b.h().e(b.Ec,Nd,function(){2===this.Yy||1===this.Yy?(os(this),this.Ip&&this.Mk.css({opacity:this.options.fD})):!this.xr&&!this.mn&&(ps(this,1E3),this.Mk.css({opacity:0}))})):(b.re.css({opacity:b.options.lv}),b.Mk.css({opacity:b.options.fD})),
b.Ec&&b.Ec.start(),ps(b),b.vw=j):b.vw&&(b.h().Sc(),b.Ec&&b.Ec.stop(),b.vw=n)})};t.na=function(b){var c=b.target;c&&c.name&&"set"===c.name&&this.s_(b)};t.ZO=function(b){this.WG=this.Vf;this.Vf=b.qb;this.rc=this.Vf[0]+this.Vf[1]+this.Vf[2];Q(this.En,!!this.rc);this.En.innerHTML=99<this.rc?"99+":this.rc;z.forEach(this.Vf,function(b,d){Q(this.PG[d],b);b&&(this.ff[d]=n);this.qw&&0<b-this.WG[d]&&this.Il(d)},this);ws(this)};
a.ws=function(b){var c=99<b.rc?"99+":b.rc,d=99<b.ro?"99+":b.ro;window.document.title=(c||d?"("+(b.ro?d+" å°ç§ä¿¡":"")+(b.rc&&b.ro?" / ":"")+(b.rc?c+" æ¡æ¶æ¯":"")+") ":"")+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")};
t.eJ=function(){if(gh.Bc&&this.visible)vs(this,n);else if(this.visible&&!this.rc)vs(this,n);else{vs(this,j);var b;!this.Rv&&!this.rc?(b=(b=dj.get("noti7-tab"))?Number(b):0,this.zh.select(b),this.Nm[b]=j):this.rc&&(b=z.Gw(this.Vf,rf),b=-1===b?0:b,this.zh.select(b),this.Nm[b]=j);Y.Y({type:"ga_click_top_nav_noti",data:{zh:this.yD,qJ:+(this.rc||0)}})}ws(this)};
a.xs=function(b,c){b.rc-=b.Vf[c];Q(b.PG[c],n);0>b.rc&&(b.rc=0);Q(b.En,!!b.rc);b.En.innerHTML=b.rc},a.ts=function(b,c){var d;b.qw?b.visible&&(b.ff[c]?("$$used$$"!==b.ff[c]&&(b.lD[c].innerHTML=b.ff[c],b.ff[c]="$$used$$"),b.Vf[c]&&(d=new V(n),d.ajax("/noti7/readall","tab="+b.types[c],"POST")),xs(b,c),b.Cm&&b.Cm[c].update().scrollTop(),b.rc||dj.$e("noti7-tab",c)):(b.Nm[c]=j,b.Il(c))):b.ff[c]?("$$used$$"!==b.ff[c]&&(b.lD[c].innerHTML=b.ff[c],b.ff[c]="$$used$$"),b.Vf[c]&&(d=new V(n),d.ajax("/noti7/readall",
"tab="+b.types[c],"POST")),xs(b,c)):(b.Nm[c]=j,b.Il(c),d=new V(n),d.ajax("/noti7/readall","tab="+b.types[c],"POST"))},a.vs=function(b,c){c?b.IB.fadeIn(50):b.IB.fadeOut(50);b.visible=c;E.enable(b.Vp,"open",b.visible);c?(b.oh.focus(),z.forEach(b.ff,function(b,c){b||this.Il(c)},b),b.h().e(document,"click",b.Tr)):b.h().ya(document,"click",b.Tr);us(b,-1)};
t.Il=function(b){if(!this.Jl[b]||!this.Jl[b].bc())this.Jl[b]=new V(n),this.h().e(this.Jl[b],"success",function(c){this.iz(c,b)}),this.Jl[b].ajax("/noti7/stack/"+this.types[b]+"?r="+za(),"","GET")};
t.iz=function(b,c){$(this.UQ[c]).hide();var d=Le(this.Jl[c]);if(d)if(d.r)U(d.msg);else{this.Rv=j;if(d=d.msg)1===c&&(d='<div class="zm-noti7-content-head-item"><span class="zg-gray-normal">è¿äºäººæè¿å³æ³¨äºä½ </span></div>'+d);else switch(c){case 0:d="<div class='zm-noti7-popup-empty'>ææ æ°æ¶æ¯</div>";break;case 1:d="<div class='zm-noti7-popup-empty'>æäººå³æ³¨ä½ æ¶ä¼æ¾ç¤ºå¨è¿é</div>";break;case 2:d="<div class='zm-noti7-popup-empty'>ä½ çç­æ¡æ¶å°èµåãæè°¢æ¶ä¼æ¾ç¤ºå¨è¿é</div>"}this.ff[c]=d;this.Nm[c]&&(ts(this,c),this.Nm[c]=n)}};
t.JO=function(b){this.ro=b=$.isNumeric(b)?b:b.qb;0!==b?(this.hm.innerHTML=this.qm.innerHTML=b,this.hm.style.visibility=this.qm.style.visibility="visible"):this.hm.style.visibility=this.qm.style.visibility="hidden";ws(this)};a.ys=function(b){T.call(this);$.extend(this.G={},this.R,b||{})};y(ys,T);t=ys.prototype;t.R={trigger:"hover",sH:"open",hideFocus:n};t.Kc=function(){return this.Fg.length&&this.Hc.length};t.o=function(b){if(b){var c=$(b),d=c.prev();this.Fg=c;this.Hc=d;this.Fu=c.parent();ys.n.o.call(this,b);return this}};t.toggle=function(){this.sb()?this.close():this.open()};t.sb=function(){return this.Fg.is(":visible")};
t.open=function(){this.Fg.attr("aria-hidden","false").parent().addClass(this.G.sH);this.Hc.attr("aria-expanded","true")};t.close=function(){this.Fg.attr("aria-hidden","true").parent().removeClass(this.G.sH);this.Hc.attr("aria-expanded","false")};a.zs=function(b,c){var d=b.Fg.children().find("a"),e=d.size();c>=e?c=0:-1>=c&&(c=e-1);d=d.eq(c);b.Hc.attr("aria-activedescendant",d.attr("id"));d.focus();b.index=c};
t.JR=function(b){var c=b.keyCode;switch(c){case 32:b.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:zs(this,38===c?-1:0)}};t.gS=function(b){var c=b.keyCode;switch(c){case 27:case 9:this.close();this.Hc.focus();break;case 38:case 40:b.preventDefault(),zs(this,this.index+(38===c?-1:1))}};
t.C=function(){var b=this,c=this.G,d=this.Fg,e=this.Hc,g=e.attr("id");g||(g=Nh(Mh.U()),e.attr("id",g),d.attr("aria-labelledby",g));e.attr("role")||e.attr("role","button");this.Hc.attr("aria-haspopup","true").attr("aria-activedescendant","");this.Fg.children().find("a").attr("tabindex",-1).attr("id",v(function(b,c){return c||Nh(Mh.U())},this));this.Fg.on("keydown",v(this.gS,this));this.Hc.on("keydown",v(this.JR,this));d=Vg?"click":c.trigger;if("hover"===d)this.Fu.on("hover",v(function(b){"mouseenter"===
b.type?this.open():this.close()},this));else if("click"===d)this.Hc.on("click",v(function(b){b.preventDefault();this.toggle();this.Hc.focus()},this));this.Fu.on("focusout",function(){setTimeout(function(){b.Fu.get(0).contains(document.activeElement)||b.close()})});if(c.hideFocus)this.Fg.children().find("a").on("click",function(){this.blur()})};a.As=function(){var b={warning:"æ¨çç¥ä¹ç¨æ·å "+R.Rw+' ä¸ç¬¦å <a href="http://www.zhihu.com/question/19791408">ç¥ä¹ç¨æ·åè§è</a>ï¼è¯·æ¨ <a href="/settings/account#rename-section">ä¿®æ¹</a>ã',pending:"æ¨æäº¤çç¨æ·åä¿®æ¹æ­£å¨å®¡æ ¸ä¸­ï¼å¸å·ææ¶éå®ã"},c=sh,d=rh,e=n;c?(U(c,4E3),e=j):d&&(b[d]&&U(b[d],4E3),e=j);return e};a.Bs=function(){M.call(this)};y(Bs,Dn);t=Bs.prototype;
t.gP=function(b){var c=this.O.fg(),d=this.O.N.mi,e=z.slice(c,1),g=k;"topic"===c[0]?(g="/topic/"+e[1],g=Cs(this,g)):"people"===c[0]?(g="/people/"+e[1],g=Cs(this,g)):"question"===c[0]?(g="/question/"+e[2],g=Cs(this,g)):"search_link"===c[0]&&(g="/search?q="+encodeURI(e[0])+"&type=question");g&&(Vk(["/search?q="+encodeURI(this.O.Bb)+"&type1="+("search_link"===c[0]?"autocomplete_"+c[0]:"autocomplete")]),Y.Y({type:"ga_serach_select",data:{type:c[0],index:d}}),Qf.set("s-q",encodeURI(this.O.Bb),-1,"/"),Qf.set("s-i",
d+1,-1,"/"),Qf.set("sid",dl(),-1,"/"),Qf.set("s-t","autocomplete",-1,"/"),c=window.top,this.metaKey||this.Sy?c.open(g):c.location.href=g);b.stopPropagation();b.preventDefault()};
a.Cs=function(b,c){if(!b.metaKey)try{dj.set("query",b.O.Bb)}catch(d){c+="?q="+encodeURIComponent(b.O.Bb)}return c},a.Ds=function(b,c){if(ub&&c.length&&c.children("ul").length){var d=function(d){d=d.target;!c[0].contains(d)&&!d.contains(b[0])&&e()},e=function(){b.parent().removeClass("open");c.hide();$(document.body).off("mousedown",d)};b.click(function(g){g.preventDefault();c.is(":visible")?e():(b.parent().addClass("open"),c.show(),$(document.body).mousedown(d))}).attr("href","javascript:;");c.find(".slide-up").click(e)}};
t.B=function(){dj.get("__Q_ISNEWLYCREATED__")&&(dj.remove("__Q_ISNEWLYCREATED__"),hh&&(hh.VF=j));var b=(new yf(location)).Pc().get("q");b?b=decodeURIComponent(b):(b=dj.get("query"),dj.remove("query"));if(R.Ia())(new ss).B();else $("#zh-top-inner").on("click",'a[href="/topic"]',function(){pn(new on("top_nav_topics"),n);return n}).on("click",".js-signin-noauth",function(){pn(new on("top_nav_sign_in"),n);return n}).on("click",".js-signup-noauth",function(){pn(new on("top_nav_sign_up"),j)});if(this.yr=
I("zh-top-search")){var c=I("zu-top-add-question");this.h().e(c,"click",rn(this.Wt,{Ia:"top_nav_ask",Kh:j}));this.YY=c;if(Qg||!ub)(new ys({hideFocus:j})).o($("#top-nav-profile-dropdown").get(0));else{var c=$("#top-nav-dd-topic"),d=$("#mobile-top-nav-topic-popup");Ds(c,d);Xg&&$("img",d).each(function(){var b=$(this).data("2x");b&&(this.src=b)});Ds($("#js-top-nav-link-profile"),$("#mobile-top-nav-profile-popup"))}this.h().e(Y,"query_string_change",this.Wt);this.tF=J("icon-magnify-q",this.yr);var e=
this.Kd=J("zu-top-search-input",this.yr);b&&(e.value=b);Ck(Bk(Dk,"/",function(){setTimeout(function(){e.focus()});Mk(e,k,500)}),{group:"å¯¼èª",name:"æç´¢"});b=new To;this.O=new Uo("/autocomplete",this.Kd,k,k,this.yr,k,["æç´¢è¯é¢ãé®é¢æäºº..."],k,b);this.O.jn=n;this.O.Hf(j);this.h().e(this.O,"select",this.gP);this.h().e(this.Kd,"keydown",function(b){13===b.keyCode&&(this.Kd.value&&"show me the money"!==this.Kd.value&&!/^ +$/.test(this.Kd.value))&&(b=(new nj(location.href.match(ze)[6]||k)).get("type"),(window.parent||
window).location.href="/search?q="+encodeURIComponent(this.Kd.value)+"&type="+(b||"question"))});this.h().e(this.O,tm.Jh.Ri,this.Xu);var g=v(function(){this.O.ND=!(this.metaKey||this.Sy)},this);this.h().e(document,"keydown",function(b){b.metaKey&&(this.metaKey=j,g())});this.h().e(document,"keyup",function(b){if(91===b.keyCode||224===b.keyCode)this.metaKey=n,g()});this.h().e(document,"mouseup",function(b){qd(b,1)&&(this.Sy=j,g(),setTimeout(v(function(){this.Sy=n;g()},this),0))});this.h().e(this.Kd,
["keyup","focus"],this.dJ);this.h().e(this.Kd,"blur",this.dJ);this.h().e(this.Kd,"mousedown",function(b){b.stopPropagation();return j})}};t.dJ=function(){this.Kd.value?E.add(this.tF,"icon-magnify-active"):E.remove(this.tF,"icon-magnify-active")};
t.Xu=function(){var b=this.O.Xa,c=this.O.N.vg;if(b&&0!==b.length){if(1===b.length){var d=K("div",{className:"zu-autocomplete-empty"},"æ²¡ææ¾å°ç¸å³çç»æ");mc(d,c[0]);L(c[0])}z.forEach(b,function(d,g){if(0===g||d[0]!==b[g-1][0]){var h=c[g],l={people:"ç¨æ·",topic:"è¯é¢",question:"é®é¢"}[d[0]];l&&(l=K("div",{className:"zu-autocomplete-row-label"},l),mc(l,h),this.h().e(this.O,tm.Jh.Ri,bl))}},this)}};t.Wt=function(){if(!As()){var b=bs.U();b.show();this.Kd.value&&this.Kd.value!==this.Kd.title&&es(b,this.Kd.value)}};a.Es=function(){T.call(this)};y(Es,T);a.Fs=new Es;Fs.o(document);a.Gs=function(){T.call(this)};y(Gs,T);a.Hs=function(b){ya(this,b)},a.Is=function(b){this.IG=b;this.M=$("<li>");this.Tu()},a.Js=function(b){this.xM=b;this.M=$("<ul>")};Gs.prototype.C=function(){Gs.n.C.call(this);this.OT()};Gs.prototype.OT=function(){var b=this.g;$.get("/trending").done(function(c){c=$.map(c,Hs.NM);b.appendChild((new Js(c)).aa().M.get(0));E.remove(b.parentNode,"hidden")})};
Hs.NM=function(b){var c={"0":"fullname",1:"url_token",2:"avatar",3:"id",4:"headline",5:"reason",6:"type"},b=z.reduce(b,function(b,e,g){b[c[g]]=e;return b},{});return new Hs(b)};Is.prototype.Ch=Xk('<a href="#" data-tip="s$r$ä¸æå´è¶£" class="del"><i class="icon icon-ignore"></i></a><a data-tip="p$t$<%=url_token%>" href="/people/<%=url_token%>" class="avatar"><img src="<%=avatar%>"></a><div class="bd"><a href="/people/<%=url_token%>" data-tip="p$t$<%=url_token%>"><%=fullname%></a><div class="headline"><span title="<%-headline%>"><%-headline%></span></div><div class="ft"><span class="reason"><%=reason%></span> <span class="zg-bull">&bull;</span> <a class="zg-follow follow" href="#" id="sugg-<%=id%>">å³æ³¨</a></div></div>');
Is.prototype.Tu=function(){var b=this.IG,c=this.M;c.on("click",".del",function(d){d.preventDefault();$.post("/un_trending",{id:b.id,type:b.type});c.remove()}).on("click",".follow",function(c){c.preventDefault();tn(this,b.type,xa(Mk,this),k,{follow_text:"å³æ³¨"})})};Is.prototype.aa=function(){this.M.html(this.Ch(this.IG));return this};Js.prototype.aa=function(){var b=this.M;$.each(this.xM,function(c,d){b.append((new Is(d)).aa().M)});return this};$(function(){var b=I("zh-trendings");b&&(new Gs).o(b)});a.Ms=function(){window.console||(window.console={info:ha,log:ha,warning:ha,error:ha});Fs.on(["click!","show!","visit!"],yj);Ld=window;ub=gh.Bc;$.ajaxPrefilter(function(b,c){var d,e;if(c.processData!==n&&"get"!==b.type&&(e=Qf.get("_xsrf")))d=c.data||{},"string"===$.type(d)?Xa(d,"_xsrf=")||(d+="&_xsrf="+e):(d._xsrf=e,d=$.param(d)),b.data=d});(new Bs).B();Pi.dispatchEvent("init");$(function(){Pi.dispatchEvent("postinit")});R.Ia()?(Mi.push({hW:"json",filter:function(b){(b=b.profile_result)&&$(b).css("border-top",
"1px solid #eee").appendTo(document.body)}}),gh.Bc&&($.fx.off=j),$(function(){(new Zn).B()})):$("body").addClass("no-auth");Xa(location.host,"zhihu.com")||(Eg=j);$(document.body).children("div.zu-main").attr("role",Zc.hK);document.addEventListener&&document.addEventListener("touchstart",ha,n);$(Ks);$(Ls)},a.Ls=function(){function b(b){return{member:"people",favlist:"collection"}[b]||b}$(document).on("videobox:open",function(){W("video","click_videobox_open")});$("#js-sidebar-app-link").click(function(){var b=
$(this).hasClass("iphone")?"click_zhihu_ios_dl_link":"click_zhihu_android_dl_link";W("app-promotion",b,"sidebar_not_logged_in")});$("#zh-top-link-logo").click(function(){W("navigation","visit_home","top_logo")});$("#zh-top-link-home").click(function(){W("navigation","visit_home","top_nav_home")});$("#top-nav-dd-topic").click(function(){W("navigation","visit_topics_activities","top_nav_topic")});$("#ga_sidebar_topic_all").click(function(){W("navigation","visit_topics_activities","sidebar_topic_all")});
$(".zm-side-pinned-topics .zm-side-nav a.zm-side-nav-link").eq(0).click(function(){W("navigation","visit_topic","sidebar_topic_1")}).end().eq(1).click(function(){W("navigation","visit_topic","sidebar_topic_2")}).end().eq(2).click(function(){W("navigation","visit_topic","sidebar_topic_3")});var c=$("#zh-trendings");c.on("click",'li a[href^="/topic/"]',function(b){b=$(b.target).closest("li").index()+1;W("navigation","visit_topic","sidebar_intresting_people_"+b+"_topic")});c.on("click",'li a[href^="/people"]',
function(b){b=$(b.target).closest("li").index()+1;W("navigation","visit_people_profile","sidebar_interesting_people_"+b)});$("#zh-single-question-page .zm-tag-editor-labels a.zm-item-tag").click(function(){W("question_answer","visit_topic","question_topic")});N(Y,"ga_serach_select",function(b){"topic"===b.data.type&&W("search","visit_topic","top_search_list_"+(b.data.index+1))});var d=$(".zm-search-result-topic-wrap").on("click",'.title-container a[href^="/topic/"]',function(){W("search","visit_topic",
"search_result_card_topic_name")}).on("click",'a[href^="/topic/"] .zm-search-result-topic-avatar',function(){W("search","visit_topic","search_result_card_topic_avatar")}).on("click",".meta a.question",function(){W("search","visit_topic","search_result_card_topic_questions_count")}).on("click",".meta a.follow",function(){W("search","visit_topic_followers","search_result_card_topic_followers_count")}),e=$('.zm-search3-side-topic .zm-search3-side-topic-item .content a[href^="/topic/"]').click(function(){var b=
e.index(this)+1;W("search","visit_topic","search_result_sidebar_topics_"+b+"_name")}),g=$(".zm-search3-side-topic .zm-search3-side-topic-item .zm-item-link-avatar").click(function(){var b=g.index(this)+1;W("search","visit_topic","search_result_sidebar_topics_"+b+"_avatar")}),h=$('#zh-search3-list[data-type="topic"]').on("click",".zm-search3-item .user-info a.user-name",function(){var b=$('#zh-search3-list[data-type="topic"] .zm-search3-item .user-info a.user-name').index(this)+1;W("search","visit_topic",
"search_result_topic_list_"+b+"_name")}).on("click",".zm-search3-item .user-info .meta a.follow",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info .meta a.follow").index(this)+1;W("search","visit_topic_followers","search_result_topic_list_"+b+"_followers_count")});h.on("click",".zm-search3-item img.user-avatar",function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+1;W("search","visit_topic","search_result_topic_list_"+b+"_avatar")});var l=$(".zm-topic-list-container").on("click",
'.subtopic a[href^="/topic/"]',function(){W("topic","visit_topic","topic_activity_children_topic")});$(".zm-side-section-inner.child-topic").on("click",'a.zm-item-tag[href^="/topic/"]',function(){W("topic","visit_topic","topic_sidebar_children_topic")});$(".zm-topic-cat-hot").on("click",'a[href^="/topic/"]',function(){W("topic","visit_topic","topic_square_sidebar")});$(".zm-topic-cat-sub").on("click",'a[href^="/topic/"]',function(){W("topic","visit_topic","topic_square_list_item")});$('a.zm-side-nav-link[href="/topics"]').click(function(){W("navigation",
"visit_topic_square","sidebar_topic_square")});$('a.zm-side-nav-link[href="/invitation/email"]').click(function(){W("navigation","visit_invite_by_email","sidebar_invite_friend")});$("#zh-tooltip").on("click",".zh-profile-card.member .avatar-link",function(){W("navigation","visit_people_profile","hovercard_people_name")});var m=$("#zh-top-nav-live-new").on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-list-content-medium a[href^="/people"]',function(){W("notification","visit_people_profile",
"top_nav_noti_follower_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-item-link-avatar',function(){W("notification","visit_people_profile","top_nav_noti_follower_people_avatar")});m.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_vote_thank_people_name")});m.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/people"]',function(){W("notification",
"visit_people_profile","top_nav_noti_message_invitation_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_qcomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_acomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/people"]',
function(){W("notification","visit_people_profile","top_nav_noti_message_new_answer_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_edit_people_name")});var p=$("#js-home-feed-list");p.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_vote_source_people_name")});p.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] >.avatar a[href^="/people"]',
function(){W("feed","visit_people_profile","feed_answer_vote_source_people_avatar")});p.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .zm-item-answer-author-info a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_vote_author_name")});p.on("click",'div[data-feedtype="ANSWER_CREATE"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_answer_source_people_name")});p.on("click",'div[data-feedtype="ANSWER_CREATE"] >.avatar a[href^="/people"]',
function(){W("feed","visit_people_profile","feed_answer_answer_source_people_avatar")});p.on("click",'div[data-feedtype="QUESTION_FOLLOW"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_follow_source_people_name")});p.on("click",'div[data-feedtype="QUESTION_FOLLOW"] >.avatar a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_follow_source_people_avatar")});p.on("click",'div[data-feedtype="QUESTION_CREATE"] .source a[href^="/people"]',
function(){W("feed","visit_people_profile","feed_question_ask_source_people_name")});p.on("click",'div[data-feedtype="QUESTION_CREATE"] >.avatar a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_ask_source_people_avatar")});var r=$("#zh-question-answer-wrap").on("click",'.zm-item-answer-author-wrap >a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_answer_author_name")}).on("click",".zm-item-answer-author-wrap img.zm-list-avatar",function(){W("question_answer",
"visit_people_profile","question_answer_author_avatar")});r.on("click",".voters a",function(){var b=$(this).parents(".voters").find("a").index(this)+1;W("question_answer","visit_people_profile","question_answer_voters_"+b)});r.on("click",'.zm-comment-hd a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_answer_comment_author_name")}).on("click",".zm-comment-list img.zm-item-img-avatar",function(){W("question_answer","visit_people_profile","question_answer_comment_author_avatar")});
$(".zh-question-followers-sidebar",'a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_sidebar_followers_avatar")});N(Y,"ga_serach_select",function(b){"people"===b.data.type&&W("search","visit_people_profile","top_search_list_"+(b.data.index+1))});d.on("click",'.title-container a[href^="/people/"]',function(){W("search","visit_people_profile","search_result_card_people_name")}).on("click",'a[href^="/people/"] .zm-search-result-topic-avatar',function(){W("search","visit_people_profile",
"search_result_card_people_avatar")});var w=$('.zm-search3-side.user a[href^="/people/"]').click(function(){var b=w.index(this);W("search","visit_people_profile","search_result_sidebar_people_"+b+"_avatar")}),B=$('#zh-search3-list[data-type="people"]').on("click",".zm-search3-item .user-info a.user-name",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info a.user-name").index(this)+1;W("search","visit_people_profile","search_result_user_list_"+b+"_people_name")}).on("click",".zm-search3-item  img.user-avatar",
function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+1;W("search","visit_people_profile","search_result_user_list_"+b+"_people_name")});$("#zh-topic-top-answerer").on("click",'.zm-topic-side-person-item-content a[href^="/people/"]',function(){W("topic","visit_people_profile","topic_sidebar_top_answerer_people_name")}).on("click","img.zm-list-avatar",function(){W("topic","visit_people_profile","topic_sidebar_top_answerer_people_avatar")});d.on("click",'a[href^="/people"][href$="/answers"]',
function(){W("search","visit_people_answers","search_result_card_people_answers_count")});B.on("click",'a[href^="/people"][href$="/answers"]',function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/answers"]').index(this);W("search","visit_people_answers","search_result_user_list_"+b+"_people_answers_count")});d.on("click",'a[href^="/people"][href$="/followers"]',function(){W("search","visit_people_followers","search_result_card_people_followers_count")});B.on("click",'a[href^="/people"][href$="/followers"]',
function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/followers"]').index(this);W("search","visit_people_followers","search_result_user_list_"+b+"_people_followers_count")});m.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_vote_thank_question")});m.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_invitation_question")}).on("click",
'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_qcomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_acomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_new_answser_question")});
p.on("click",'div[data-feedtype="ROUNDTABLE_ADD_RELATED"] h2 a[href^="/question"]',function(){var b="q"===$(this).closest("div[data-feedtype]").data("type");W("feed","visit_question",b?"roundtable_question_add":"roundtable_answer_add")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] h2 a[href^="/question"]',function(){W("feed","visit_question","feed_answer_vote_question")}).on("click",'div[data-feedtype="ANSWER_CREATE"] h2 a[href^="/question"]',function(){W("feed","visit_question","feed_answer_answer_question")}).on("click",
'div[data-feedtype="QUESTION_FOLLOW"] h2 a[href^="/question"]',function(){W("feed","visit_question","feed_question_follow_question")}).on("click",'div[data-feedtype="QUESTION_CREATE"] a.meta-item[href^="/question"]',function(){var b=parseInt($(this).text(),10);b?W("feed","visit_question","feed_question_follow_has_answers",b):W("feed","visit_question","feed_question_follow_has_no_answer")}).on("click",'div[data-feedtype="QUESTION_CREATE"] h2 a[href^="/question"]',function(){W("feed","visit_question",
"feed_question_ask_question")});N(Y,"ga_serach_select",function(b){"question"===b.data.type&&W("search","visit_question","top_search_list_"+(b.data.index+1))});var H=$('#zh-search3-list[data-type="question"]').on("click",'.zm-search3-item .question-title a[href^="/question"]',function(b){b=$(b.delegateTarget).find('.zm-search3-item .question-title a[href^="/question"]').index(this)+1;W("search","visit_question","search_result_all_list_"+b+"_question")}).on("click",'.zm-search3-item .question-content a[href^="/question"]',
function(b){b=$(b.delegateTarget).find(".zm-search3-item").index($(this).parents(".zm-search3-item"))+1;W("search","visit_question","search_result_all_list_"+b+"_answer")}).on("click",'.zm-search3-item .meta a.answer[href^="/question"]',function(b){b=$(b.delegateTarget).find('.zm-search3-item .meta a.answer[href^="/question"]').index(this)+1;W("search","visit_question","search_result_all_list_"+b+"_answers_count")});$("#zh-question-related-questions").on("click","a",function(b){b=$(b.delegateTarget).find("a").index(this)+
1;W("question_answer","visit_question","question_answer_sidebar_related_questions_"+b)});H.on("click",'a[href^="/question"][href$="/followers"]',function(b){b=$(b.delegateTarget).find('a[href^="/question"][href$="/followers"]').index(this)+1;W("search","visit_question_followers","search_result_all_list_"+b+"_followers_count")});$('#zh-question-followers-sidebar a[href^="/question"][href$="/followers"]').click(function(){W("question_answer","visit_question_followers","question_followers_count")});
m.on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/question"]',function(){W("notification","visit_question_log","top_nav_noti_message_edit_question")});$('.zu-main-sidebar a[href^="/question"][href$="/log"]').click(function(){W("question_answer","visit_question_log","question_log")});$('div[data-feedtype="ANSWER_CREATE"] .answer-date-link').click(function(){W("feed","visit_answer","feed_answer_answer_date")});$('div[data-feedtype="ANSWER_VOTE_UP"] .answer-date-link').click(function(){W("feed",
"visit_answer","feed_answer_vote_date")});$("zh-single-question-page .answer-date-link").click(function(){W("question_answer","visit_answer","question_answer_date")});$('a.zm-side-nav-link[href="/draft"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_draft","sidebar_my_draft",b)});$('a.zm-side-nav-link[href="/collections"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_collections","sidebar_my_collections",
b)});$('a.zm-side-nav-link[href="/question/invited"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_question_invited","sidebar_question_invited",b)});$('a[href="http://creativecommons.org"]').click(function(){W("navigation","visit_cc_license")});N(Y,"ga_click_back_to_top",function(){W("navigation","click_back_to_top")});N(Y,"ga_click_collapse_answer",function(){W("navigation","click_collapse_answer")});N(Y,"ga_click_follow",function(b){if("people"===
b.data.type&&b.data.Oj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=m.find('a[name="focus"]').index(b.target)+1,W("notification","click_follow_people","top_nav_noti_follower_follow",b)):0<d.parents("#zh-tooltip").length?W("navigation","click_follow_people","hovercard_follow"):0<d.parents("#zh-trendings").length?(b=c.find("a.follow").index(b.target)+1,W("navigation","click_follow_people","sidebar_intresting_people_"+b+"_follow")):0<d.parents(".zm-search-result-topic-wrap").length?
W("search","click_follow_people","search_result_card_people_follow"):0<d.parents('#zh-search3-list[data-type="people"]').length?(b=B.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0)),W("search","click_follow_people","search_result_user_list_"+b+"_people_follow")):0<d.parents("#zh-topic-top-answerer").length?W("topic","click_follow_people","topic_sidebar_top_answerer_follow"):W("navigation","click_follow_people","other_follow")}});N(Y,"ga_click_follow",function(b){if("people"===
b.data.type&&!b.data.Oj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=m.find('a[name="focus"]').index(b.target)+1,W("notification","click_unfollow_people","top_nav_noti_follower_unfollow",b)):0<d.parents("#zh-tooltip").length?W("navigation","click_unfollow_people","hovercard_unfollow"):0<d.parents("#zh-trendings").length?(b=c.find("a.follow").index(b.target)+1,W("navigation","click_unfollow_people","sidebar_intresting_people_"+b+"_unfollow")):0<d.parents(".zm-search-result-topic-wrap").length?
W("search","click_unfollow_people","search_result_card_people_unfollow"):0<d.parents('#zh-search3-list[data-type="people"]').length?(b=B.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0))+1,W("search","click_unfollow_people","search_result_user_list_"+b+"_people_unfollow")):0<d.parents("#zh-topic-top-answerer").length&&W("topic","click_unfollow_people","topic_sidebar_top_answerer_unfollow")}});N(Y,"ga_click_follow",function(b){"question"===b.data.type&&b.data.Oj&&(b=$(b.target),
0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?W("feed","click_follow_question","feed_answer_vote_follow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?W("feed","click_follow_question","feed_answer_answer_follow_question"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?W("feed","click_follow_question","feed_question_follow_follow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?W("feed","click_follow_question","feed_question_ask_follow_question"):
0<b.parents("#zh-question-side-header-wrap").length?W("question_answer","click_follow_question","question_follow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=H.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,W("search","click_follow_question","search_result_all_list_"+b+"_follow_question")):0<b.parents(".zm-topic-list-container").length&&W("topic","click_follow_question","topic_activity_follow_question"))});N(Y,"ga_click_follow",function(b){"question"===
b.data.type&&!b.data.Oj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?W("feed","click_unfollow_question","feed_answer_vote_unfollow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?W("feed","click_unfollow_question","feed_answer_answer_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_unFOLLOW"]').length?W("feed","click_unfollow_question","feed_question_follow_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?W("feed",
"click_unfollow_question","feed_question_ask_unfollow_question"):0<b.parents("#zh-question-side-header-wrap").length?W("question_answer","click_unfollow_question","question_unfollow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=H.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,W("search","click_unfollow_question","search_result_all_list_"+b+"_unfollow_question")):0<b.parents(".zm-topic-list-container").length&&W("topic","click_unfollow_question",
"topic_activity_unfollow_question"))});N(Y,"ga_click_follow",function(b){if("topic"===b.data.type&&b.data.Oj){var c=$(b.target);0<c.parents(".zm-search-result-topic-wrap").length?W("search","click_follow_topic","search_result_card_topic_follow"):0<c.parents(".zm-search3-side-topic").length?(b=$(".zm-search3-side-topic").find('a[name="focus"][id^="topic"]').index(b.target)+1,W("search","click_follow_topic","search_result_sidebar_topics_"+b+"_follow")):0<c.parents('#zh-search3-list[data-type="topic"]').length&&
(b=h.find(".zm-search3-item").index(c.parents(".zm-search3-item").get(0))+1,W("search","click_follow_topic","search_result_topic_list_"+b+"_follow"))}});N(Y,"ga_click_follow",function(b){"topic"===b.data.type&&!b.data.Oj&&0<$(b.target).parents(".zm-search-result-topic-wrap").length&&W("search","click_unfollow_topic","search_result_card_topic_unfollow")});N(Y,"ga_click_follow",function(b){"favlist"===b.data.type&&(b.data.Oj?W("collection","click_follow_collection","collection_follow"):W("collection",
"click_unfollow_collection","collection_follow"))});N(Y,"ga_click_top_nav_noti",function(b){0<b.data.qJ?W("notification","click_top_nav_noti","top_nav_noti_alert",b.data.qJ):W("notification","click_top_nav_noti","top_nav_noti_no_alert")});N(Y,"ga_click_top_nav_noti_tab",function(b){W("notification","click_top_nav_noti_tab",["top_nav_noti_tab_message","top_nav_noti_tab_follower","top_nav_noti_tab_vote"][b.data.zh])});N(Y,"ga_click_enlarge_image",function(b){b=$(b.target).parents("div[data-feedtype]").attr("data-feedtype");
"ANSWER_CREATE"===b?W("navigation","click_enlarge_image","feed_answer_answer_image"):"ANSWER_VOTE_UP"===b&&W("navigation","click_enlarge_image","feed_answer_vote_image")});N(Y,"ga_click_feed_more",function(b){b.data&&b.data.zo?W("feed","click_feed_more","feed_more_button"):W("feed","click_feed_more","feed_more_auto_load")});N(Y,"ga_click_feed_fresh",function(b){W("feed","click_feed_fresh","feed_fresh_button",b.data.count)});H.on("click","#zh-load-more",function(){W("search","click_search_result_more",
"search_result_all_more_buttion")});B.on("click","#zh-load-more",function(){W("search","click_search_result_more","search_result_user_more_buttion")});h.on("click","#zh-load-more",function(){W("search","click_search_result_more","search_result_topic_more_buttion")});N(Y,"ga_click_topic_more",function(b){var c="activity";-1<location.href.indexOf("questions")&&(c="questions");b.data&&b.data.zo?W("feed","click_topic_more","topic_"+c+"_more_button"):W("feed","click_topic_more","topic_"+c+"_more_auto_load")});
p.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.inline-block[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_vote_expand")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.zm-item-vote-count[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_vote_vote_count")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.inline-block[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_answer_expand")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.zm-item-vote-count[name="toggleExpanded"]',
function(){W("feed","click_expand","feed_answer_answer_vote_count")});d=$("zh-single-question-page").on("click",'#zh-question-detail a.inline-block[name="expand"]',function(){W("question_answer","click_expand","question_supplement_expand")});d.on("click",'.zm-item-answer a[name="more"]',function(){W("question_answer","click_expand","question_answer_voters_more")});d.on("click","#zh-question-collapsed-switcher",function(){W("question_answer","click_expand","question_answer_folded_expand")});l.on("click",
'a.inline-block[name="expand"]',function(){W("topic","click_expand","topic_activity_expand")}).on("click",'a.zm-item-vote-count[name="expand"]',function(){W("topic","click_expand","topic_activity_vote_count")});N(Y,"ga_click_sorter_item",function(b){(b={added_time:"time",vote:"vote"}[b.data.key])&&W("question_answer","click_sort_answer","question_answer_sorting_"+b)});N(Y,"ga_click_vote_up",function(b){b=$(b.target.m());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_up";
else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_up";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_up";else return;W("vote","click_vote_up_answer",b)});N(Y,"ga_click_vote_down",function(b){b=$(b.target.m());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_down";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_down";else if(0<b.parents("#zh-single-question-page").length)b=
"question_answer_vote_down";else return;W("vote","click_vote_down_answer",b)});N(Y,"ga_click_thank_answer",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_thank";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_thank";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_thank";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_thank";else return;W("vote","click_thank_answer",
b)});N(Y,"ga_click_share_answer_box",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_share";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_share";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_share";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_share";else return;W("share","click_share_answer_box",b)});N(Y,"ga_click_share_question_box",function(b){$(b.target);
var c="question_question_share",d={sina:"question_sidebar_share_weibo",mail:"question_sidebar_share_email",letter:"question_sidebar_share_message"};b.data&&b.data.type&&(c=d[b.data.type]);W("share","click_share_answer_box",c)});N(Y,"ga_click_share_answer_weibo",function(b){b=b.data.DJ;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_answer_sina_tencent_weibo";else if(z.contains(b,"qq"))b="share_answer_tencent_weibo";else if(z.contains(b,"sina"))b="share_answer_sina_weibo";else return;W("share",
"click_share_answer_weibo",b)});N(Y,"ga_click_share_answer_email",function(){W("share","click_share_answer_email")});N(Y,"ga_click_share_answer_message",function(){W("share","click_share_answer_message")});N(Y,"ga_click_share_question_weibo",function(b){b=b.data.DJ;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_tencent_weibo";else if(z.contains(b,"qq")&&!z.contains(b,"sina"))b="share_question_tencent_weibo";else if(!z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_weibo";
else return;W("share","click_share_answer_weibo",b)});N(Y,"ga_click_share_question_email",function(){W("share","click_share_question_email")});N(Y,"ga_click_share_question_message",function(){W("share","click_share_question_message")});N(Y,"ga_click_report_box",function(c){W("report","click_report_"+b(c.data.type)+"_box")});N(Y,"ga_click_report",function(c){W("report","click_report_"+b(c.data.type))});N(Y,"ga_click_collect_answer_box",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b=
"feed_answer_vote_collect";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_collect";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_collect";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_collect";else return;W("collection","click_collect_answer_box",b)});N(Y,"ga_click_collect_answer",function(b){W("collection","click_collect_answer","collection_count",b.data.count)});N(Y,"ga_click_add_collection",function(){W("collection",
"click_add_collection","collect_answer_window_add_collection")});N(Y,"ga_click_answer_not_helpful",function(b){b=$(b.target);if(0<b.closest('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_not_helpful";else if(0<b.closest('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_not_helpful";else if(0<b.closest("#zh-question-answer-wrap").length)b="question_answer_not_helpful";else if(0<b.closest(".zm-topic-list-container").length)b="topic_activity_not_helpful";else return;
W("vote","click_answer_not_helpful",b)});p.on("click");N(Y,"ga_click_question_ignore",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_ignore_question";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length)b="feed_question_follow_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length)b="feed_question_ask_ignore_question";
else return;W("feed","click_question_ignore",b)});N(Y,"ga_question_topic_edit_start",function(){W("edit","click_edit_question_topic","question_topic_edit_start")});N(Y,"ga_question_topic_edit_finish_changed",function(){W("edit","click_edit_question_topic","question_topic_edit_finish_changed")});N(Y,"ga_question_title_edit_start",function(){W("edit","click_edit_question_titile","question_title_edit_start")});N(Y,"ga_question_title_edit_cancel",function(){W("edit","click_edit_question_titile","question_title_edit_cancel")});
N(Y,"ga_question_title_edit_save_changed",function(){W("edit","click_edit_question_titile","question_title_edit_save_changed")});N(Y,"ga_question_title_edit_save_unchanged",function(){W("edit","click_edit_question_titile","question_title_edit_save_unchanged")});N(Y,"ga_question_supplement_edit_start",function(){W("edit","click_edit_question_supplement","question_supplement_edit_start")});N(Y,"ga_question_supplement_edit_cancel",function(){W("edit","click_edit_question_supplement","question_supplement_edit_cancel")});
N(Y,"ga_question_supplement_edit_save_changed",function(){W("edit","click_edit_question_supplement","question_supplement_edit_save_changed")});N(Y,"ga_question_supplement_edit_save_unchanged",function(){W("edit","click_edit_question_supplement","question_supplement_edit_save_unchanged")});$("#zu-top-add-question").click(function(){W("question_answer","click_add_question","top_nav_question_add_start")});$(".zm-topic-ask-in-topic").click(function(){W("question_answer","click_add_question","topic_question_add_start")});
N(Y,"ga_click_add_question",function(b){W("question_answer","click_add_question","question_add_submit_with_topics",b.data.total);W("question_answer","click_add_question","question_add_submit_with_suggested_topics",b.data.du);W("question_answer","click_add_question","question_add_submit_with_suggested_topics_percent",Math.round(100*(b.data.du/b.data.total)))});$("#zh-question-answer-form-wrap .editable").focus(function(){W("question_answer","click_add_answer","question_answer_add_start")});$("#zh-question-answer-form-wrap .submit-button").click(function(){W("question_answer",
"click_add_answer","question_answer_add_publish")});N(Y,"ga_hover_hovercard",function(b){var b=$(b.target),d,e,g;b.is('[data-tip^="p$"]')?(e="hover_people_hovercard",0<b.parents("div[data-feedtype]").length?(d="feed",0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?0<b.parents(".zm-item-answer-author-wrap").length?g="feed_answer_vote_author_name":0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_vote_source_people_avatar":"feed_answer_vote_author_name"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?
0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_answer_source_people_avatar":"feed_answer_answer_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_follow_source_people_avatar":"feed_question_follow_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length&&0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_ask_source_people_avatar":
"feed_question_ask_source_people_name")):0<b.parents("#zh-trendings").length?(d="navigation",$.contains(c.find("li:nth-child(1)").get(0),b.get(0))?g="sidebar_intresting_people_1":$.contains(c.find("li:nth-child(2)").get(0),b.get(0))?g="sidebar_intresting_people_2":$.contains(c.find("li:nth-child(3)").get(0),b.get(0))&&(g="sidebar_intresting_people_3")):0<b.parents("#zh-single-question-page").length?(d="question_answer",0<b.parents(".zm-item-answer-author-wrap").length?g=0<b.find("img").length?"question_answer_author_avatar":
"question_answer_author_name":0<b.parents(".voters").length?(g=b.parents(".voters").find('a[href^="/people"]').index(b.get(0))+1,g="question_answer_voters_"+g):0<b.parents(".zm-comment-list").length&&(g=0<b.find("img").length?"question_answer_comment_author_avatar":"question_answer_comment_author_name")):0<b.parents(".zm-search3-side.user").length?(d="search",g=b.parents(".zm-search3-side.user").find('a[href^="/people"]').index(b.get(0))+1,g="search_result_sidebar_people_"+g+"_avatar"):0<b.parents("#zh-topic-top-answerer").length&&
(d="topic",g=0<b.find("img").length?"topic_sidebar_top_answerer_people_avatar":"topic_sidebar_top_answerer_people_name")):b.is('[data-tip^="t$"]')?(e="hover_topic_hovercard",0<b.parents("#zh-single-question-page").length?(d="question_answer",g="question_topic"):0<b.parents(".zm-search3-side-topic").length&&(d="search",0<b.find("img").length?(g=b.parents(".zm-search3-side-topic").find("a.zm-item-link-avatar").index(b.get(0)),g="search_result_sidebar_topics_"+g+"_avatar"):(g=b.parents(".zm-search3-side-topic").find('.content a[href^="/topic/"]').index(b.get(0))+
1,g="search_result_sidebar_topics_"+g+"_name"))):b.is('[data-tip^="c$"]')?(e="hover_column_hovercard",0<b.parents("div[data-feedtype]").length&&(d="feed",0<b.parents('div[data-feedtype="ARTICLE_VOTE_UP"]').length?g="feed_article_vote":0<b.parents('div[data-feedtype="ARTICLE_CREATE"]').length&&(g="feed_article_create"))):b.is('[data-tip^="r$"]')&&(e="hover_roundtable_hovercard",d="feed",0<b.parents('div[data-feedtype="MEMBER_FOLLOW_ROUNDTABLE"]').length?g="feed_follow_roundtable":0<b.parents('div[data-feedtype^="ROUNDTABLE"]').length&&
(g="feed_roundtable_others"));d&&(e&&g)&&W(d,e,g,i,j)});0<$(".zm-search3-card.people").length&&W("search","show_search_result_card","search_result_card_people");0<$(".zm-search3-card.topic").length&&W("search","show_search_result_card","search_result_card_topic");N(Y,"ga_click_sign_in",function(b){b.data&&b.data.label?W("sign_in","click_sign_in",b.data.label):W("sign_in","click_sign_in")});N(Y,"ga_click_sign_in_close",function(){W("sign_in","click_sign_in_close","sign_in_box_main")});N(Y,"ga_click_sign_in_weibo",
function(b){W("sign_in","click_sign_in_weibo",b.label)});N(Y,"ga_click_sign_in_qq",function(b){W("sign_in","click_sign_in_qq",b.label)});N(Y,"ga_click_sign_in_switch",function(b){"signin"===b.data?W("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_in"):"signup"===b.data&&W("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_up")});N(Y,"ga_click_sign_in_link_account",function(b){b.target?(b=$(b.target),Xa(b.parent().text(),"è¯¥é®ç®±å·²æ³¨å")?W("sign_in","click_sign_in_link_account","sign_up_error_user_exists_link_account"):
Xa(b.parent().text(),"å¦æä½ å·²æç¥ä¹å¸å·")?$(".view-warmup").is(":visible")?W("sign_in","click_sign_in_link_account","sign_in_box_splash_link_account"):$(".view-info").is(":visible")&&W("sign_in","click_sign_in_link_account","sign_in_box_sign_up_link_account"):Xa(b.text(),"è¿åæ³¨å")&&W("sign_in","click_sign_in_link_account","sign_in_box_link_account_back")):b.label&&W("sign_in","click_sign_in_link_account",b.label)});N(Y,"ga_click_sign_in_connect",function(b){W("sign_in","click_sign_in_weibo",b.label)});N(Y,
"ga_click_sign_in_avatar",function(){W("sign_in","click_sign_in_avatar","sign_in_avatar_upload")});N(Y,"ga_click_sign_in_previous_step",function(){W("sign_in","click_sign_in_previous_step","sign_in_box_follow_user_previous")});N(Y,"ga_click_follow_topic",function(b){0<b.data?W("sign_in","click_follow_topic","sign_in_box_follow_topic_next",b.data):0===b.data&&W("sign_in","click_follow_topic","sign_in_box_follow_topic_skip")});N(Y,"ga_click_follow_people",function(b){0<b.data?W("sign_in","click_follow_people",
"sign_in_box_follow_people_next",b.data):0===b.data&&W("sign_in","click_follow_people","sign_in_box_follow_people_skip")});N(Y,"ga_click_play_video",function(b){W("video","click_play_video",b.label)});N(Y,"ga_visit_home_video",function(){W("video","visit_home_video","home_play_video_auto")});N(Y,"ga_click_close_video",function(b){W("video","click_close_video",b.label)});N(Y,"ga_click_share_video",function(b){W("video","click_share_video",b.label)})},a.Ks=function(){(new Xn).B();(new $o).B();var b=
$("#rq3-sidenav-link"),c=$(".tour",b);c.length&&$(".close-button",c).click(function(){var b=$(this).data("feature");$.get("/notifeature",{feature:b});c.fadeOut(100,function(){c.remove()})});b=new Yn;window.console&&console.info&&console.info(b.GL+"\n\n"+b.link)},a.Ns=function(b,c){c=c||3E3;if(b){var d=I("zh-message-container");d&&(d.innerHTML=b[1],E.set(d,b[0]?"zg-error-message":"zg-info-message"),Q(d,j),0<c&&$(d).delay(c).fadeOut())}},a.Tk=function(){if(window.console){var b=z.toArray(arguments);
b.unshift("["+(new Date).toLocaleTimeString()+"]:\t");console.log.apply?console.log.apply(console,b):console.log(b[0],b.slice(1).join(","))}},a.Os=Af.U(),a.Ps=new Ye;Ps.GD=n;Os.Ey=Ps;a.Qs=fa.PLOVR_MODULE_INFO,a.Rs=void 0;for(Rs in Qs)Os.qd[Rs]=new wf(Qs[Rs],Rs);Os.BD==Os.Nq&&(Os.BD=k,Os.Nq.cp(v(Os.FE,Os))&&If(Os,Jf));a.Ss=fa.PLOVR_MODULE_URIS,a.Ts=void 0;for(Ts in Ss)Os.qd[Ts].Bg=Ss[Ts];Lf("app_core");Ms();a.Us=function(b,c){return!c.length?b:Us(b[c.shift()],c)};
$(function(){window.znonce&&window.znonce.evalScripts();var b=$('meta[name="entry"]').attr("content"),b=b&&Us(window,b.split("."));$.isFunction(b)&&b()});Ca("ZH.main",Ms);Ca("ZH.setGlobalInfoMessage",function(b){Y&&b&&Hn(b)});Ca("ZH.cm",function(b,c){mn(b,c)});Ca("ZH.m",Ns);Ca("ZH.i",function(b){Y.dispatchEvent(new Fn(Xl,b))});}})(zhihu);